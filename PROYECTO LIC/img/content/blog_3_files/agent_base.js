/*! jQuery v1.7.1 jquery.com | jquery.org/license */
(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cv(a){if(!ck[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){cl||(cl=c.createElement("iframe"),cl.frameBorder=cl.width=cl.height=0),b.appendChild(cl);if(!cm||!cl.createElement){cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cm.close()}d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,"display"),b.removeChild(cl)}ck[a]=e}return ck[a]}function cu(a,b){var c={};f.each(cq.concat.apply([],cq.slice(0,b)),function(){c[this]=a});return c}function ct(){cr=b}function cs(){setTimeout(ct,0);return cr=f.now()}function cj(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ci(){try{return new a.XMLHttpRequest}catch(b){}}function cc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1){for(h in a.converters){typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h])}}l=k,k=d[g];if(k==="*"){k=l}else{if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}}return c}function cb(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g){i in d&&(c[g[i]]=d[i])}while(f[0]==="*"){f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"))}if(h){for(i in e){if(e[i]&&e[i].test(h)){f.unshift(i);break}}}if(f[0] in d){j=f[0]}else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function ca(a,b,c,d){if(f.isArray(b)){f.each(b,function(b,e){c||bE.test(a)?d(a,e):ca(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)})}else{if(!c&&b!=null&&typeof b=="object"){for(var e in b){ca(a+"["+e+"]",b[e],c,d)}}else{d(a,b)}}}function b_(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c){c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d])}e&&f.extend(!0,a,e)}function b$(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bT,l;for(;i<j&&(k||!l);i++){l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)))}(k||!l)&&!g["*"]&&(l=b$(a,c,d,e,"*",g));return l}function bZ(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bP),e=0,g=d.length,h,i,j;for(;e<g;e++){h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}}function bC(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bx:by,g=0,h=e.length;if(d>0){if(c!=="border"){for(;g<h;g++){c||(d-=parseFloat(f.css(a,"padding"+e[g]))||0),c==="margin"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,"border"+e[g]+"Width"))||0}}return d+"px"}d=bz(a,b,b);if(d<0||d==null){d=a.style[b]||0}d=parseFloat(d)||0;if(c){for(;g<h;g++){d+=parseFloat(f.css(a,"padding"+e[g]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+e[g]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+e[g]))||0)}}return d+"px"}function bp(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio"){a.defaultChecked=a.checked}}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object"){b.outerHTML=a.outerHTML}else{if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option"){b.selected=a.defaultSelected}else{if(c==="input"||c==="textarea"){b.defaultValue=a.defaultValue}}}else{a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)}}b.removeAttribute(f.expando)}}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i){for(d=0,e=i[c].length;d<e;d++){f.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}}}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement){while(b.length){c.createElement(b.pop())}}return c}function T(a,b,c){b=b||0;if(f.isFunction(b)){return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c})}if(b.nodeType){return f.grep(a,function(a,d){return a===b===c})}if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b)){return f.filter(b,d,!c)}b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return !a||!a.parentNode||a.parentNode.nodeType===11}function K(){return !0}function J(){return !1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b])){continue}if(b!=="toJSON"){return !1}}return !0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else{d=b}}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++){b[a[c]]=!0}return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a){return this}if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2]){return f.find(a)}this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return !d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a)){return f.ready(a)}a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++){if((a=arguments[j])!=null){for(c in a){d=i[c],f=a[c];if(i===f){continue}l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}}}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body){return setTimeout(e.ready,1)}e.isReady=!0;if(a!==!0&&--e.readyWait>0){return}A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete"){return setTimeout(e.ready,1)}if(c.addEventListener){c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1)}else{if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval" in a},isNumeric:function(a){return !isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a)){return !1}try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf")){return !1}}catch(c){return !1}var d;for(d in a){}return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a){return !1}return !0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b){return null}b=e.trim(b);if(a.JSON&&a.JSON.parse){return a.JSON.parse(b)}if(n.test(b.replace(o,"@").replace(p,"]").replace(q,""))){return(new Function("return "+b))()}e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a){if(c.apply(a[f],d)===!1){break}}}else{for(;g<h;){if(c.apply(a[g++],d)===!1){break}}}}else{if(i){for(f in a){if(c.call(a[f],f,a[f])===!1){break}}}else{for(;g<h;){if(c.call(a[g],g,a[g++])===!1){break}}}}return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H){return H.call(b,a,c)}d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++){if(c in b&&b[c]===a){return c}}}return -1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number"){for(var f=c.length;e<f;e++){a[d++]=c[e]}}else{while(c[e]!==b){a[d++]=c[e++]}}a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++){e=!!b(a[f],f),c!==e&&d.push(a[f])}return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k){for(;i<j;i++){f=c(a[i],i,d),f!=null&&(h[h.length]=f)}}else{for(g in a){f=c(a[g],g,d),f!=null&&(h[h.length]=f)}}return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a)){return b}var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c){e.access(a,j,c[j],f,g,d)}return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++){g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h)}return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test("Â ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++){g=b[d],h=f.type(g),h==="array"?m(g):h==="function"&&(!a.unique||!o.has(g))&&c.push(g)}},n=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,l=j||0,j=0,k=c.length;for(;c&&l<k;l++){if(c[l].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}}i=!1,c&&(a.once?e===!0?o.disable():c=[]:d&&d.length&&(e=d.shift(),o.fireWith(e[0],e[1])))},o={add:function(){if(c){var a=c.length;m(arguments),i?k=c.length:e&&e!==!0&&(j=a,n(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++){for(var f=0;f<c.length;f++){if(b[d]===c[f]){i&&f<=k&&(k--,f<=l&&l--),c.splice(f--,1);if(a.unique){break}}}}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++){if(a===c[b]){return !0}}}return !1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return !c},lock:function(){d=b,(!e||e===!0)&&o.disable();return this},locked:function(){return !d},fireWith:function(b,c){d&&(i?a.once||d.push([b,c]):(!a.once||!e)&&n(b,c));return this},fire:function(){o.fireWith(this,arguments);return this},fired:function(){return !!e}};return o};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null){a=h}else{for(var b in h){a[b]=h[b]}}return a}},i=h.promise({}),j;for(j in g){i[j]=g[j].fire,i[j+"With"]=g[j].fireWith}i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++){b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g}g||j.resolveWith(j,b)}else{j!==a&&j.resolveWith(j,d?[a]:[])}return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p,q=c.createElement("div"),r=c.documentElement;q.setAttribute("className","t"),q.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=q.getElementsByTagName("*"),e=q.getElementsByTagName("a")[0];if(!d||!d.length||!e){return{}}g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=q.getElementsByTagName("input")[0],b={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:q.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete q.test}catch(s){b.deleteExpando=!1}!q.addEventListener&&q.attachEvent&&q.fireEvent&&(q.attachEvent("onclick",function(){b.noCloneEvent=!1}),q.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),q.appendChild(i),k=c.createDocumentFragment(),k.appendChild(q.lastChild),b.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,k.removeChild(i),k.appendChild(q),q.innerHTML="",a.getComputedStyle&&(j=c.createElement("div"),j.style.width="0",j.style.marginRight="0",q.style.width="2px",q.appendChild(j),b.reliableMarginRight=(parseInt((a.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(q.attachEvent){for(o in {submit:1,change:1,focusin:1}){n="on"+o,p=n in q,p||(q.setAttribute(n,"return;"),p=typeof q[n]=="function"),b[o+"Bubbles"]=p}}k.removeChild(q),k=g=h=j=q=i=null,f(function(){var a,d,e,g,h,i,j,k,m,n,o,r=c.getElementsByTagName("body")[0];!r||(j=1,k="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",m="visibility:hidden;border:0;",n="style='"+k+"border:5px solid #000;padding:0;'",o="<div "+n+"><div></div></div><table "+n+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",a=c.createElement("div"),a.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+j+"px",r.insertBefore(a,r.firstChild),q=c.createElement("div"),a.appendChild(q),q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",l=q.getElementsByTagName("td"),p=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",b.reliableHiddenOffsets=p&&l[0].offsetHeight===0,q.innerHTML="",q.style.width=q.style.paddingLeft="1px",f.boxModel=b.boxModel=q.offsetWidth===2,typeof q.style.zoom!="undefined"&&(q.style.display="inline",q.style.zoom=1,b.inlineBlockNeedsLayout=q.offsetWidth===2,q.style.display="",q.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=q.offsetWidth!==2),q.style.cssText=k+m,q.innerHTML=o,d=q.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,i={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:h.offsetTop===5},e.style.position="fixed",e.style.top="20px",i.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",i.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,i.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,r.removeChild(a),q=a=null,f.extend(b,i))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return !!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b){return}n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function"){e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c)}g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c]){return g.events}k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k]){return}if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++){delete d[b[e]]}if(!(c?m:f.isEmptyObject)(d)){return}}}if(!c){delete j[k].data;if(!m(j[k])){return}}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b){return b!==!0&&a.getAttribute("classid")===b}}return !0}}),f.fn.extend({data:function(a,c){var d,e,g,h=null;if(typeof a=="undefined"){if(this.length){h=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var i=0,j=e.length;i<j;i++){g=e[i].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),l(this[0],g,h[g]))}f._data(this[0],"parsedAttrs",!0)}}return h}if(typeof a=="object"){return this.each(function(){f.data(this,a)})}d=a.split("."),d[1]=d[1]?"."+d[1]:"";if(c===b){h=this.triggerHandler("getData"+d[1]+"!",[d[0]]),h===b&&this.length&&(h=f.data(this[0],a),h=l(this[0],a,h));return h===b&&d[1]?this.data(d[0]):h}return this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)})},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){typeof a!="string"&&(c=a,a="fx");if(c===b){return f.queue(this[0],a)}return this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--){if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0)){h++,l.add(m)}}m();return d.promise()}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a)){return this.each(function(b){f(this).addClass(a.call(this,b,this.className))})}if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1){if(!e.className&&b.length===1){e.className=a}else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++){~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ")}e.className=f.trim(g)}}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a)){return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))})}if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className){if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++){h=h.replace(" "+c[i]+" "," ")}g.className=f.trim(h)}else{g.className=""}}}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a)){return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)})}return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++]){i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}}else{if(c==="undefined"||c==="boolean"){this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""}}})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++){if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1){return !0}}return !1},val:function(a){var c,d,e,g=this[0];if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set" in c)||c.set(this,h,"value")===b){this.value=h}}})}if(g){c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type];if(c&&"get" in c&&(d=c.get(g,"value"))!==b){return d}d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return !b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0){return null}c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j){return b}h.push(b)}}if(j&&!h.length&&i.length){return f(i[g]).val()}return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn){return f(a)[c](d)}if(typeof a.getAttribute=="undefined"){return f.prop(a,c,d)}i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set" in h&&i&&(g=h.set(a,d,c))!==b){return g}a.setAttribute(c,""+d);return d}if(h&&"get" in h&&i&&(g=h.get(a,c))!==null){return g}g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;h<g;h++){e=d[h],e&&(c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(v?e:c),u.test(e)&&c in a&&(a[c]=!1))}}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode){f.error("type property can't be changed")}else{if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button")){return w.get(a,b)}return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button")){return w.set(a,b,c)}a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set" in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get" in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b)){return a.checked=f.inArray(f(a).val(),b)>=0}}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/\bhover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1){a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o){f.event.remove(a,j+b[h],c,d,!0)}continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++){s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s))}r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered)){return}h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h]){return}c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j){j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0)}return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1){return}r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode){r.push([m,s]),n=m}n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++){m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault()}c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){m=f(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this){o={},q=[],m[0]=l;for(j=0;j<e;j++){r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?H(l,r.quick):m.is(s)),o[s]&&q.push(r)}q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(h||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace)){c.data=r.data,c.handleObj=r,n=((f.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,g),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando]){return a}var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;){e=i[--d],a[e]=g[e]}a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event)){return new f.Event(a,b)}a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d)){a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b}return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form")){return !1}f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form")){return !1}f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))})}return !1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox"){return a.handleObj.handler.apply(this,arguments)}},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(i in a){this.on(i,c,d,a[i],g)}return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1){e=J}else{if(!e){return this}}g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a){this.off(g,c,a[g])}return this}if(c===!1||typeof c=="function"){d=c,c=b}d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){return f.event.trigger(a,b,this[0],!0)}},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length){b[d++].guid=c}return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else{if(m.filter(b,[j]).length>0){k=j;break}}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9){return[]}if(!b||typeof b!="string"){return e}var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b)){if(w.length===2&&o.relative[w[0]]){j=y(w[0]+w[1],d,f)}else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length){b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}}}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length){q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}}else{k=w=[]}}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]"){if(!u){e.push.apply(e,k)}else{if(d&&d.nodeType===1){for(t=0;k[t]!=null;t++){k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t])}}else{for(t=0;k[t]!=null;t++){k[t]&&k[t].nodeType===1&&e.push(j[t])}}}}else{s(k,e)}l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h){for(var b=1;b<a.length;b++){a[b]===a[b-1]&&a.splice(b--,1)}}}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a){return[]}for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter){if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\"){continue}s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f){g=i=!0}else{if(f===!0){continue}}}if(f){for(n=0;(j=s[n])!=null;n++){j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0))}}if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g){return[]}break}}}if(a===q){if(g==null){m.error(a)}else{break}}q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string"){return a.textContent}if(typeof a.innerText=="string"){return a.innerText.replace(k,"")}for(a=a.firstChild;a;a=a.nextSibling){e+=n(a)}}else{if(d===3||d===4){return a.nodeValue}}}else{for(b=0;c=a[b];b++){c.nodeType!==8&&(e+=n(c))}}return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++){if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1){}a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++){c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b)}d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++){d[e].getAttribute("name")===a[1]&&c.push(d[e])}return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined"){return b.getElementsByTagName(a[1])}}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f){return a}for(var g=0,h;(h=b[g])!=null;g++){h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1))}return !1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else{a[2]&&m.error(a[0])}a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not"){if((a.exec(b[3])||"").length>1||/^\w/.test(b[3])){b[3]=m(b[3],null,null,c)}else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return !1}}else{if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0])){return !0}}return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return !!a.firstChild},empty:function(a){return !a.firstChild},has:function(a,b,c){return !!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f){return f(a,c,b,d)}if(e==="contains"){return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0}if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++){if(g[h]===a){return !1}}return !0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling){if(l.nodeType===1){return !1}}if(k==="first"){return !0}l=a;case"last":while(l=l.nextSibling){if(l.nodeType===1){return !1}}return !0;case"nth":c=b[2],e=b[3];if(c===1&&e===0){return !0}f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling){l.nodeType===1&&(l.nodeIndex=++i)}g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f){return f(a,c,b,d)}}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match){o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q))}var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]"){Array.prototype.push.apply(d,a)}else{if(typeof a.length=="number"){for(var e=a.length;c<e;c++){d.push(a[c])}}else{for(;a[c];c++){d.push(a[c])}}}return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition){return a.compareDocumentPosition?-1:1}return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex){return a.sourceIndex-b.sourceIndex}var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i){return v(a,b)}if(!g){return -1}if(!i){return 1}while(j){e.unshift(j),j=j.parentNode}j=i;while(j){f.unshift(j),j=j.parentNode}c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++){if(e[k]!==f[k]){return v(e[k],f[k])}}return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b){return c}var d=a.nextSibling;while(d){if(d===b){return -1}d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++){c[e].nodeType===1&&d.push(c[e])}c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1]){return s(e.getElementsByTagName(b),f)}if(h[2]&&o.find.CLASS&&e.getElementsByClassName){return s(e.getElementsByClassName(h[2]),f)}}if(e.nodeType===9){if(b==="body"&&e.body){return s([e.body],f)}if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode){return s([],f)}if(i.id===h[3]){return s([i],f)}}try{return s(e.querySelectorAll(b),f)}catch(j){}}else{if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p){return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}}catch(r){}finally{l||k.removeAttribute("id")}}}}return a(b,e,f,g)};for(var e in a){m[e]=a[e]}b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a)){try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11){return f}}}catch(g){}}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1){return}o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c){return b.getElementsByClassName(a[1])}},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return !!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return !1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a)){f+=d[0],a=a.replace(o.match.PSEUDO,"")}a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++){m(a,g[h],e,c)}return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.POS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string"){return f(a).filter(function(){for(c=0,d=b.length;c<d;c++){if(f.contains(b[c],this)){return !0}}})}var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0){for(h=g;h<e.length;h++){for(i=0;i<g;i++){if(e[i]===e[h]){e.splice(h--,1);break}}}}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++){if(f.contains(this,b[a])){return !0}}})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return !!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++){f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h})}g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11){break}}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a){return this[0]&&this[0].parentNode?this.prevAll().length:-1}if(typeof a=="string"){return f.inArray(this[0],f(a))}return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d))){g.nodeType===1&&e.push(g),g=g[c]}return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c]){if(a.nodeType===1&&++e===b){break}}return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling){a.nodeType===1&&a!==b&&c.push(a)}return c}});var V="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){if(f.isFunction(a)){return this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))})}if(typeof a!="object"&&a!==b){return this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a))}return f.text(this)},wrapAll:function(a){if(f.isFunction(a)){return this.each(function(b){f(this).wrapAll(a.call(this,b))})}if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1){a=a.firstChild}return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a)){return this.each(function(b){f(this).wrapInner(a.call(this,b))})}return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)})}if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)})}if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++){if(!a||f.filter(a,[d]).length){!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d)}}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild){b.removeChild(b.firstChild)}}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(W,""):null}if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++){this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}}catch(e){this.empty().append(a)}}else{f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a)}return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a)){return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))})}typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j)){return this.each(function(){f(this).domManip(a,c,d,!0)})}if(f.isFunction(j)){return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)})}if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++){d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}}k.length&&f.each(k,bp)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||!bc.test("<"+a.nodeName)?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g){e[g]&&bk(d[g],e[g])}}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g){bj(d[g],e[g])}}}d=e=null;return h},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k){continue}if(typeof k=="string"){if(!_.test(k)){k=b.createTextNode(k)}else{k=k.replace(Y,"<$1></$2>");var l=(Z.exec(k)||["",""])[1].toLowerCase(),m=bg[l]||bg._default,n=m[0],o=b.createElement("div");b===c?bh.appendChild(o):U(b).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--){o=o.lastChild}if(!f.support.tbody){var p=$.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i){f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}}!f.support.leadingWhitespace&&X.test(k)&&o.insertBefore(b.createTextNode(X.exec(k)[0]),o.firstChild),k=o.childNodes}}var r;if(!f.support.appendChecked){if(k[0]&&typeof(r=k.length)=="number"){for(i=0;i<r;i++){bn(k[i])}}else{bn(k)}}k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return !a.type||be.test(a.type)};for(j=0;h[j];j++){if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript")){e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j])}else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()]){continue}c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events){e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle)}b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bq=/alpha\([^)]*\)/i,br=/opacity=([^)]*)/,bs=/([A-Z]|^ms)/g,bt=/^-?\d+(?:px)?$/i,bu=/^-?\d/,bv=/^([\-+])=([\-+.\de]+)/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Left","Right"],by=["Top","Bottom"],bz,bA,bB;f.fn.css=function(a,c){if(arguments.length===2&&c===b){return this}return f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bz(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get" in k&&(g=k.get(a,!1,e))!==b){return g}return j[c]}h=typeof d,h==="string"&&(g=bv.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d)){return}h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set" in k)||(d=k.set(a,d))!==b){try{j[c]=d}catch(l){}}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get" in g&&(e=g.get(a,!0,d))!==b){return e}if(bz){return bz(a,c)}},swap:function(a,b,c){var d={};for(var e in b){d[e]=a.style[e],a.style[e]=b[e]}c.call(a);for(e in b){a.style[e]=d[e]}}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c){if(a.offsetWidth!==0){return bC(a,b,d)}f.swap(a,bw,function(){e=bC(a,b,d)});return e}},set:function(a,b){if(!bt.test(b)){return b}b=parseFloat(b);if(b>=0){return b+"px"}}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return br.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bq,""))===""){c.removeAttribute("filter");if(d&&!d.filter){return}}c.filter=bq.test(g)?g.replace(bq,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;f.swap(a,{display:"inline-block"},function(){b?c=bz(a,"margin-right","marginRight"):c=a.style.marginRight});return c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bA=function(a,b){var c,d,e;b=b.replace(bs,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b)));return c}),c.documentElement.currentStyle&&(bB=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f===null&&g&&(e=g[b])&&(f=e),!bt.test(f)&&bu.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),bz=bA||bB,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return !f.expr.filters.hidden(a)});var bD=/%20/g,bE=/\[\]$/,bF=/\r?\n/g,bG=/#.*$/,bH=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bI=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bJ=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bK=/^(?:GET|HEAD)$/,bL=/^\/\//,bM=/\?/,bN=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bO=/^(?:select|textarea)/i,bP=/\s+/,bQ=/([?&])_=[^&]*/,bR=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bS=f.fn.load,bT={},bU={},bV,bW,bX=["*/"]+["*"];try{bV=e.href}catch(bY){bV=c.createElement("a"),bV.href="",bV=bV.href}bW=bR.exec(bV.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bS){return bS.apply(this,arguments)}if(!this.length){return this}var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bN,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bO.test(this.nodeName)||bI.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bF,"\r\n")}}):{name:b.name,value:c.replace(bF,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b_(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b_(a,b);return a},ajaxSettings:{url:bV,isLocal:bJ.test(bW[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bZ(bT),ajaxTransport:bZ(bU),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?cb(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified")){f.lastModified[k]=y}if(z=v.getResponseHeader("Etag")){f.etag[k]=z}}if(a===304){w="notmodified",o=!0}else{try{r=cc(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}}else{u=w;if(!w||a){w="error",a<0&&(a=0)}}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bH.exec(n)){o[c[1].toLowerCase()]=c[2]}}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2){for(b in a){j[b]=[j[b],a[b]]}}else{b=a[v.status],v.then(b,b)}}return this},d.url=((a||d.url)+"").replace(bG,"").replace(bL,bW[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bP),d.crossDomain==null&&(r=bR.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bW[1]&&r[2]==bW[2]&&(r[3]||(r[1]==="http:"?80:443))==(bW[3]||(bW[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),b$(bT,d,c,v);if(s===2){return !1}t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bK.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bM.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bQ,"$1_="+x);d.url=y+(y===d.url?(bM.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bX+"; q=0.01":""):d.accepts["*"]);for(u in d.headers){v.setRequestHeader(u,d.headers[u])}if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return !1}for(u in {success:1,error:1,complete:1}){v[u](d[u])}p=b$(bU,d,c,v);if(!p){w(-1,"No Transport")}else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2){w(-1,z)}else{throw z}}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a)){f.each(a,function(){e(this.name,this.value)})}else{for(var g in a){ca(g,a[g],c,e)}}return d.join("&").replace(bD,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cd=f.now(),ce=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cd++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(ce.test(b.url)||e&&ce.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(ce,l),b.url===j&&(e&&(k=k.replace(ce,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState)){d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")}},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cf=a.ActiveXObject?function(){for(var a in ch){ch[a](0,1)}}:!1,cg=0,ch;f.ajaxSettings.xhr=a.ActiveXObject?function(){return !this.isLocal&&ci()||cj()}:ci,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials" in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields){for(j in c.xhrFields){h[j]=c.xhrFields[j]}}c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e){h.setRequestHeader(j,e[j])}}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,cf&&delete ch[i]);if(e){h.readyState!==4&&h.abort()}else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cg,cf&&(ch||(ch={},f(a).unload(cf)),ch[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ck={},cl,cm,cn=/^(?:toggle|show|hide)$/,co=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cp,cq=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cr;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0){return this.animate(cu("show",3),a,b,c)}for(var g=0,h=this.length;g<h;g++){d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",cv(d.nodeName)))}for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none"){d.style.display=f._data(d,"olddisplay")||""}}}return this},hide:function(a,b,c){if(a||a===0){return this.animate(cu("hide",3),a,b,c)}var d,e,g=0,h=this.length;for(;g<h;g++){d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e))}for(g=0;g<h;g++){this[g].style&&(this[g].style.display="none")}return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(cu("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d){return b.complete.call(this)}c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cv(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a){j=new f.fx(this,b,i),h=a[i],cn.test(h)?(o=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),o?(f._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=co.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?"":"px"),n!=="px"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""))}return !0}var e=f.speed(b,c,d);if(f.isEmptyObject(a)){return this.each(e.complete,[!1])}a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null){for(b in g){g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b)}}else{g[b=a+".run"]&&g[b].stop&&h(this,g,b)}for(b=e.length;b--;){e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1))}(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:cu("show",1),slideUp:cu("hide",1),slideToggle:cu("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0){d.queue="fx"}d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+0.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cr||cs(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},h()&&f.timers.push(h)&&!cp&&(cp=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cr||cs(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties){i.animatedProperties[b]!==!0&&(g=!1)}if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show){for(b in i.animatedProperties){f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0)}}d=i.complete,d&&(i.complete=!1,d.call(h))}return !1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return !0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++){a=b[c],!a()&&b[c]===a&&b.splice(c--,1)}b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(cp),cp=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect" in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a){return this.each(function(b){f.offset.setOffset(this,a,b)})}if(!b||!b.ownerDocument){return null}if(b===b.ownerDocument.body){return f.offset.bodyOffset(b)}try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b)){return c?{top:c.top,left:c.left}:{top:0,left:0}}var h=e.body,i=cy(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a){return this.each(function(b){f.offset.setOffset(this,a,b)})}if(!b||!b.ownerDocument){return null}if(b===b.ownerDocument.body){return f.offset.bodyOffset(b)}var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position==="fixed"){break}c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static"){l+=i.offsetTop,m+=i.offsetLeft}f.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft));return{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using" in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0]){return null}var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static"){a=a.offsetParent}return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;if(c===b){e=this[0];if(!e){return null}g=cy(e);return g?"pageXOffset" in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]}return this.each(function(){g=cy(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e){return a==null?null:this}if(f.isFunction(a)){return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))})}if(f.isWindow(e)){var g=e.document.documentElement["client"+c],h=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||h&&h["client"+c]||g}if(e.nodeType===9){return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c])}if(a===b){var i=f.css(e,d),j=parseFloat(i);return f.isNumeric(j)?j:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);jQuery.noConflict();(function(j){var e,q=this,K=q.document,p=j(K),D=j(q),l=Array.prototype,H=1.29,g=true,c=30000,z=false,w=navigator.userAgent.toLowerCase(),t=q.location.hash.replace(/#\//,""),y=function(){},E=function(){return false},r=(function(){var F=3,M=K.createElement("div"),L=M.getElementsByTagName("i");do{M.innerHTML="<!--[if gt IE "+(++F)+"]><i></i><![endif]-->"}while(L[0]);return F>4?F:e}()),J=function(){return{html:K.documentElement,body:K.body,head:K.getElementsByTagName("head")[0],title:K.title}},I=q.parent!==q.self,k="data ready thumbnail loadstart loadfinish image play pause progress fullscreen_enter fullscreen_exit idle_enter idle_exit rescale lightbox_open lightbox_close lightbox_image",x=(function(){var F=[];j.each(k.split(" "),function(L,M){F.push(M);if(/_/.test(M)){F.push(M.replace(/_/g,""))}});return F}()),C=function(F){var L;if(typeof F!=="object"){return F}j.each(F,function(M,N){if(/^[a-z]+_/.test(M)){L="";j.each(M.split("_"),function(P,O){L+=P>0?O.substr(0,1).toUpperCase()+O.substr(1):O});F[L]=N;delete F[M]}});return F},d=function(F){if(j.inArray(F,x)>-1){return Galleria[F.toUpperCase()]}return F},o={youtube:{reg:/https?:\/\/(?:[a-zA_Z]{2,3}.)?(?:youtube\.com\/watch\?)((?:[\w\d\-\_\=]+&amp;(?:amp;)?)*v(?:&lt;[A-Z]+&gt;)?=([0-9a-zA-Z\-\_]+))/i,embed:function(F){return"http://www.youtube.com/embed/"+F},getThumb:function(M,L,F){F=F||y;j.getJSON(q.location.protocol+"//gdata.youtube.com/feeds/api/videos/"+M+"?v=2&alt=json-in-script&callback=?",function(N){try{L(N.entry.media$group.media$thumbnail[0].url)}catch(O){F()}}).error(F)}},vimeo:{reg:/https?:\/\/(?:www\.)?(vimeo\.com)\/(?:hd#)?([0-9]+)/i,embed:function(F){return"http://player.vimeo.com/video/"+F},getThumb:function(M,L,F){F=F||y;j.getJSON("http://vimeo.com/api/v2/video/"+M+".json?callback=?",function(N){try{L(N[0].thumbnail_medium)}catch(O){F()}}).error(F)}},dailymotion:{reg:/https?:\/\/(?:www\.)?(dailymotion\.com)\/video\/([^_]+)/,embed:function(F){return"http://www.dailymotion.com/embed/video/"+F},getThumb:function(M,L,F){F=F||y;j.getJSON("https://api.dailymotion.com/video/"+M+"?fields=thumbnail_medium_url&callback=?",function(N){try{L(N.thumbnail_medium_url)}catch(O){F()}}).error(F)}}},a=function(M){var L;for(var F in o){L=M&&M.match(o[F].reg);if(L&&L.length){return{id:L[2],provider:F}}}return false},G={support:(function(){var F=J().html;return !I&&(F.requestFullscreen||F.mozRequestFullScreen||F.webkitRequestFullScreen)}()),callback:y,enter:function(F,M,L){this.instance=F;this.callback=M||y;L=L||J().html;if(L.requestFullscreen){L.requestFullscreen()}else{if(L.mozRequestFullScreen){L.mozRequestFullScreen()}else{if(L.webkitRequestFullScreen){L.webkitRequestFullScreen()}}}},exit:function(F){this.callback=F||y;if(K.exitFullscreen){K.exitFullscreen()}else{if(K.mozCancelFullScreen){K.mozCancelFullScreen()}else{if(K.webkitCancelFullScreen){K.webkitCancelFullScreen()}}}},instance:null,listen:function(){if(!this.support){return}var F=function(){if(!G.instance){return}var L=G.instance._fullscreen;if(K.fullscreen||K.mozFullScreen||K.webkitIsFullScreen){L._enter(G.callback)}else{L._exit(G.callback)}};K.addEventListener("fullscreenchange",F,false);K.addEventListener("mozfullscreenchange",F,false);K.addEventListener("webkitfullscreenchange",F,false)}},u=[],B=[],v=false,A=false,h=[],n=function(F){Galleria.theme=F;j.each(h,function(M,L){if(!L._initialized){L._init.call(L)}});h=[]},f=(function(){return{clearTimer:function(F){j.each(Galleria.get(),function(){this.clearTimer(F)})},addTimer:function(F){j.each(Galleria.get(),function(){this.addTimer(F)})},array:function(F){return l.slice.call(F,0)},create:function(F,M){M=M||"div";var L=K.createElement(M);L.className=F;return L},removeFromArray:function(F,L){j.each(F,function(M,N){if(N==L){F.splice(M,1);return false}});return F},getScriptPath:function(L){L=L||j("script:last").attr("src");var F=L.split("/");if(F.length==1){return""}F.pop();return F.join("/")+"/"},animate:(function(){var R=(function(Y){var X="transition WebkitTransition MozTransition OTransition".split(" "),W;if(q.opera){return false}for(W=0;X[W];W++){if(typeof Y[X[W]]!=="undefined"){return X[W]}}return false}((K.body||K.documentElement).style));var V={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[R];var M={_default:[0.25,0.1,0.25,1],galleria:[0.645,0.045,0.355,1],galleriaIn:[0.55,0.085,0.68,0.53],galleriaOut:[0.25,0.46,0.45,0.94],ease:[0.25,0,0.25,1],linear:[0.25,0.25,0.75,0.75],"ease-in":[0.42,0,1,1],"ease-out":[0,0,0.58,1],"ease-in-out":[0.42,0,0.58,1]};var O=function(X,Y,Z){var W={};Z=Z||"transition";j.each("webkit moz ms o".split(" "),function(){W["-"+this+"-"+Z]=Y});X.css(W)};var S=function(W){O(W,"none","transition");if(Galleria.WEBKIT&&Galleria.TOUCH){O(W,"translate3d(0,0,0)","transform");if(W.data("revert")){W.css(W.data("revert"));W.data("revert",null)}}};var T,U,Q,L,P,F,N;return function(X,Y,W){W=j.extend({duration:400,complete:y,stop:false},W);X=j(X);if(!W.duration){X.css(Y);W.complete.call(X[0]);return}if(!R){X.animate(Y,W);return}if(W.stop){X.unbind(V);S(X)}T=false;j.each(Y,function(Z,aa){N=X.css(Z);if(f.parseValue(N)!=f.parseValue(aa)){T=true}X.css(Z,N)});if(!T){q.setTimeout(function(){W.complete.call(X[0])},W.duration);return}U=[];Q=W.easing in M?M[W.easing]:M._default;L=" "+W.duration+"ms cubic-bezier("+Q.join(",")+")";q.setTimeout((function(aa,ac,ab,Z){return function(){aa.one(ac,(function(ad){return function(){S(ad);W.complete.call(ad[0])}}(aa)));if(Galleria.WEBKIT&&Galleria.TOUCH){P={};F=[0,0,0];j.each(["left","top"],function(ae,ad){if(ad in ab){F[ae]=(f.parseValue(ab[ad])-f.parseValue(aa.css(ad)))+"px";P[ad]=ab[ad];delete ab[ad]}});if(F[0]||F[1]){aa.data("revert",P);U.push("-webkit-transform"+Z);O(aa,"translate3d("+F.join(",")+")","transform")}}j.each(ab,function(ad,ae){U.push(ad+Z)});O(aa,U.join(","));aa.css(ab)}}(X,V,Y,L)),2)}}()),removeAlpha:function(N){if(r<9&&N){var M=N.style,F=N.currentStyle,L=F&&F.filter||M.filter||"";if(/alpha/.test(L)){M.filter=L.replace(/alpha\([^)]*\)/i,"")}}},forceStyles:function(L,F){L=j(L);if(L.attr("style")){L.data("styles",L.attr("style")).removeAttr("style")}L.css(F)},revertStyles:function(){j.each(f.array(arguments),function(F,L){L=j(L);L.removeAttr("style");L.attr("style","");if(L.data("styles")){L.attr("style",L.data("styles")).data("styles",null)}})},moveOut:function(F){f.forceStyles(F,{position:"absolute",left:-10000})},moveIn:function(){f.revertStyles.apply(f,f.array(arguments))},elem:function(F){if(F instanceof j){return{$:F,dom:F[0]}}else{return{$:j(F),dom:F}}},hide:function(O,P,Q){Q=Q||y;var N=f.elem(O),L=N.$;O=N.dom;if(!L.data("opacity")){L.data("opacity",L.css("opacity"))}var M={opacity:0};if(P){var F=r<9&&O?function(){f.removeAlpha(O);O.style.visibility="hidden";Q.call(O)}:Q;f.animate(O,M,{duration:P,complete:F,stop:true})}else{if(r<9&&O){f.removeAlpha(O);O.style.visibility="hidden"}else{L.css(M)}}},show:function(P,Q,R){R=R||y;var N=f.elem(P),L=N.$;P=N.dom;var O=parseFloat(L.data("opacity"))||1,M={opacity:O};if(Q){if(r<9){L.css("opacity",0);P.style.visibility="visible"}var F=r<9&&P?function(){if(M.opacity==1){f.removeAlpha(P)}R.call(P)}:R;f.animate(P,M,{duration:Q,complete:F,stop:true})}else{if(r<9&&M.opacity==1&&P){f.removeAlpha(P);P.style.visibility="visible"}else{L.css(M)}}},optimizeTouch:(function(){var Q,O,M,R,L={},P=function(S){S.preventDefault();L=j.extend({},S,true)},N=function(){this.evt=L},F=function(){this.handler.call(Q,this.evt)};return function(S){j(S).bind("touchend",function(T){Q=T.target;R=true;while(Q.parentNode&&Q!=T.currentTarget&&R){O=j(Q).data("events");M=j(Q).data("fakes");if(O&&"click" in O){R=false;T.preventDefault();j(Q).click(P).click();O.click.pop();j.each(O.click,N);j(Q).data("fakes",O.click);delete O.click}else{if(M){R=false;T.preventDefault();j.each(M,F)}}Q=Q.parentNode}})}}()),wait:function(M){M=j.extend({until:E,success:y,error:function(){Galleria.raise("Could not complete wait function.")},timeout:3000},M);var O=f.timestamp(),F,L,N=function(){L=f.timestamp();F=L-O;if(M.until(F)){M.success();return false}if(typeof M.timeout=="number"&&L>=O+M.timeout){M.error();return false}q.setTimeout(N,10)};q.setTimeout(N,10)},toggleQuality:function(F,L){if((r!==7&&r!==8)||!F||F.nodeName.toUpperCase()!="IMG"){return}if(typeof L==="undefined"){L=F.style.msInterpolationMode==="nearest-neighbor"}F.style.msInterpolationMode=L?"bicubic":"nearest-neighbor"},insertStyleTag:function(M,N){if(N&&j("#"+N).length){return}var L=K.createElement("style");if(N){L.id=N}J().head.appendChild(L);if(L.styleSheet){L.styleSheet.cssText=M}else{var F=K.createTextNode(M);L.appendChild(F)}},loadScript:function(M,N){var F=false,L=j("<script>").attr({src:M,async:true}).get(0);L.onload=L.onreadystatechange=function(){if(!F&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){F=true;L.onload=L.onreadystatechange=null;if(typeof N==="function"){N.call(this,this)}}};J().head.appendChild(L)},parseValue:function(L){if(typeof L==="number"){return L}else{if(typeof L==="string"){var F=L.match(/\-?\d|\./g);return F&&F.constructor===Array?F.join("")*1:0}else{return 0}}},timestamp:function(){return new Date().getTime()},loadCSS:function(F,Q,P){var O,N;j("link[rel=stylesheet]").each(function(){if(new RegExp(F).test(this.href)){O=this;return false}});if(typeof Q==="function"){P=Q;Q=e}P=P||y;if(O){P.call(O,O);return O}N=K.styleSheets.length;if(j("#"+Q).length){j("#"+Q).attr("href",F);N--}else{O=j("<link>").attr({rel:"stylesheet",href:F,id:Q}).get(0);var M=j('link[rel="stylesheet"], style');if(M.length){M.get(0).parentNode.insertBefore(O,M[0])}else{J().head.appendChild(O)}if(r){if(N>=31){Galleria.raise("You have reached the browser stylesheet limit (31)",true);return}}}if(typeof P==="function"){var L=j("<s>").attr("id","galleria-loader").hide().appendTo(J().body);f.wait({until:function(){return L.height()==1},success:function(){L.remove();P.call(O,O)},error:function(){L.remove();Galleria.raise("Theme CSS could not load after 20 sec. "+(Galleria.QUIRK?"Your browser is in Quirks Mode, please add a correct doctype.":"Please download the latest theme at http://galleria.io/customer/."),true)},timeout:5000})}return O}}}()),m=(function(){var F=function(O,M,N,L){var S=this.getOptions("easing"),R=this.getStageWidth(),Q={left:R*(O.rewind?-1:1)},P={left:0};if(N){Q.opacity=0;P.opacity=1}else{Q.opacity=1}j(O.next).css(Q);f.animate(O.next,P,{duration:O.speed,complete:(function(T){return function(){M();T.css({left:0})}}(j(O.next).add(O.prev))),queue:false,easing:S});if(L){O.rewind=!O.rewind}if(O.prev){Q={left:0};P={left:R*(O.rewind?1:-1)};if(N){Q.opacity=1;P.opacity=0}j(O.prev).css(Q);f.animate(O.prev,P,{duration:O.speed,queue:false,easing:S,complete:function(){j(this).css("opacity",0)}})}};return{active:false,init:function(M,N,L){if(m.effects.hasOwnProperty(M)){m.effects[M].call(this,N,L)}},effects:{fade:function(M,L){j(M.next).css({opacity:0,left:0});f.animate(M.next,{opacity:1},{duration:M.speed,complete:L});if(M.prev){j(M.prev).css("opacity",1).show();f.animate(M.prev,{opacity:0},{duration:M.speed})}},flash:function(M,L){j(M.next).css({opacity:0,left:0});if(M.prev){f.animate(M.prev,{opacity:0},{duration:M.speed/2,complete:function(){f.animate(M.next,{opacity:1},{duration:M.speed,complete:L})}})}else{f.animate(M.next,{opacity:1},{duration:M.speed,complete:L})}},pulse:function(M,L){if(M.prev){j(M.prev).hide()}j(M.next).css({opacity:0,left:0}).show();f.animate(M.next,{opacity:1},{duration:M.speed,complete:L})},slide:function(M,L){F.apply(this,f.array(arguments))},fadeslide:function(M,L){F.apply(this,f.array(arguments).concat([true]))},doorslide:function(M,L){F.apply(this,f.array(arguments).concat([false,true]))}}}}());G.listen();Galleria=function(){var T=this;this._options={};this._playing=false;this._playtime=5000;this._active=null;this._queue={length:0};this._data=[];this._dom={};this._thumbnails=[];this._layers=[];this._initialized=false;this._firstrun=false;this._stageWidth=0;this._stageHeight=0;this._target=e;this._binds=[];this._id=parseInt(Math.random()*10000,10);var P="container stage images image-nav image-nav-left image-nav-right info info-text info-title info-description thumbnails thumbnails-list thumbnails-container thumb-nav-left thumb-nav-right loader counter tooltip",O="current total";j.each(P.split(" "),function(V,W){T._dom[W]=f.create("galleria-"+W)});j.each(O.split(" "),function(V,W){T._dom[W]=f.create("galleria-"+W,"span")});var N=this._keyboard={keys:{UP:38,DOWN:40,LEFT:37,RIGHT:39,RETURN:13,ESCAPE:27,BACKSPACE:8,SPACE:32},map:{},bound:false,press:function(W){var V=W.keyCode||W.which;if(V in N.map&&typeof N.map[V]==="function"){N.map[V].call(T,W)}},attach:function(X){var W,V;for(W in X){if(X.hasOwnProperty(W)){V=W.toUpperCase();if(V in N.keys){N.map[N.keys[V]]=X[W]}else{N.map[V]=X[W]}}}if(!N.bound){N.bound=true;p.bind("keydown",N.press)}},detach:function(){N.bound=false;N.map={};p.unbind("keydown",N.press)}};var R=this._controls={0:e,1:e,active:0,swap:function(){R.active=R.active?0:1},getActive:function(){return R[R.active]},getNext:function(){return R[1-R.active]}};var S=this._carousel={next:T.$("thumb-nav-right"),prev:T.$("thumb-nav-left"),width:0,current:0,max:0,hooks:[],update:function(){var W=0,X=0,V=[0];j.each(T._thumbnails,function(Z,Y){if(Y.ready){W+=Y.outerWidth||j(Y.container).outerWidth(true);V[Z+1]=W;X=Math.max(X,Y.outerHeight||j(Y.container).outerHeight(true))}});T.$("thumbnails").css({width:W,height:X});S.max=W;S.hooks=V;S.width=T.$("thumbnails-list").width();S.setClasses();T.$("thumbnails-container").toggleClass("galleria-carousel",W>S.width);S.width=T.$("thumbnails-list").width()},bindControls:function(){var V;S.next.bind("click",function(W){W.preventDefault();if(T._options.carouselSteps==="auto"){for(V=S.current;V<S.hooks.length;V++){if(S.hooks[V]-S.hooks[S.current]>S.width){S.set(V-2);break}}}else{S.set(S.current+T._options.carouselSteps)}});S.prev.bind("click",function(W){W.preventDefault();if(T._options.carouselSteps==="auto"){for(V=S.current;V>=0;V--){if(S.hooks[S.current]-S.hooks[V]>S.width){S.set(V+2);break}else{if(V===0){S.set(0);break}}}}else{S.set(S.current-T._options.carouselSteps)}})},set:function(V){V=Math.max(V,0);while(S.hooks[V-1]+S.width>=S.max&&V>=0){V--}S.current=V;S.animate()},getLast:function(V){return(V||S.current)-1},follow:function(V){if(V===0||V===S.hooks.length-2){S.set(V);return}var W=S.current;while(S.hooks[W]-S.hooks[S.current]<S.width&&W<=S.hooks.length){W++}if(V-1<S.current){S.set(V-1)}else{if(V+2>W){S.set(V-W+S.current+2)}}},setClasses:function(){S.prev.toggleClass("disabled",!S.current);S.next.toggleClass("disabled",S.hooks[S.current]+S.width>=S.max)},animate:function(W){S.setClasses();var V=S.hooks[S.current]*-1;if(isNaN(V)){return}f.animate(T.get("thumbnails"),{left:V},{duration:T._options.carouselSpeed,easing:T._options.easing,queue:false})}};var U=this._tooltip={initialized:false,open:false,timer:"tooltip"+T._id,swapTimer:"swap"+T._id,init:function(){U.initialized=true;var V=".galleria-tooltip{padding:3px 8px;max-width:50%;background:#ffe;color:#000;z-index:3;position:absolute;font-size:11px;line-height:1.3;opacity:0;box-shadow:0 0 2px rgba(0,0,0,.4);-moz-box-shadow:0 0 2px rgba(0,0,0,.4);-webkit-box-shadow:0 0 2px rgba(0,0,0,.4);}";f.insertStyleTag(V,"galleria-tooltip");T.$("tooltip").css({opacity:0.8,visibility:"visible",display:"none"})},move:function(ac){var ab=T.getMousePosition(ac).x,aa=T.getMousePosition(ac).y,Y=T.$("tooltip"),ae=ab,ad=aa,af=Y.outerHeight(true)+1,X=Y.outerWidth(true),Z=af+15;var W=T.$("container").width()-X-2,V=T.$("container").height()-af-2;if(!isNaN(ae)&&!isNaN(ad)){ae+=10;ad-=(af+8);ae=Math.max(0,Math.min(W,ae));ad=Math.max(0,Math.min(V,ad));if(aa<Z){ad=Z}Y.css({left:ae,top:ad})}},bind:function(W,X){if(Galleria.TOUCH){return}if(!U.initialized){U.init()}var Y=function(){T.$("container").unbind("mousemove",U.move);T.clearTimer(U.timer);T.$("tooltip").stop().animate({opacity:0},200,function(){T.$("tooltip").hide();T.addTimer(U.swapTimer,function(){U.open=false},1000)})};var V=function(Z,aa){U.define(Z,aa);j(Z).hover(function(){T.clearTimer(U.swapTimer);T.$("container").unbind("mousemove",U.move).bind("mousemove",U.move).trigger("mousemove");U.show(Z);T.addTimer(U.timer,function(){T.$("tooltip").stop().show().animate({opacity:1});U.open=true},U.open?0:500)},Y).click(Y)};if(typeof X==="string"){V((W in T._dom?T.get(W):W),X)}else{j.each(W,function(Z,aa){V(T.get(Z),aa)})}},show:function(V){V=j(V in T._dom?T.get(V):V);var X=V.data("tt"),W=function(Y){q.setTimeout((function(Z){return function(){U.move(Z)}}(Y)),10);V.unbind("mouseup",W)};X=typeof X==="function"?X():X;if(!X){return}T.$("tooltip").html(X.replace(/\s/,"&#160;"));V.bind("mouseup",W)},define:function(W,X){if(typeof X!=="function"){var V=X;X=function(){return V}}W=j(W in T._dom?T.get(W):W).data("tt",X);U.show(W)}};var Q=this._fullscreen={scrolled:0,crop:e,active:false,keymap:T._keyboard.map,parseCallback:function(W,V){return m.active?function(){if(typeof W=="function"){W.call(T)}var Y=T._controls.getActive(),X=T._controls.getNext();T._scaleImage(X);T._scaleImage(Y);if(V&&T._options.trueFullscreen){j(Y.container).add(X.container).trigger("transitionend")}}:W},enter:function(V){V=Q.parseCallback(V,true);if(T._options.trueFullscreen&&G.support){Q.active=true;f.forceStyles(T.get("container"),{width:"100%",height:"100%"});T.rescale();if(Galleria.MAC){if(Galleria.WEBKIT&&!(Galleria.SAFARI&&/version\/[1-5]/.test(w))){T.$("container").css("opacity",0).addClass("fullscreen");q.setTimeout(function(){Q.scale();T.$("container").css("opacity",1)},50)}else{T.$("stage").css("opacity",0);q.setTimeout(function(){Q.scale();T.$("stage").css("opacity",1)},4)}}else{T.$("container").addClass("fullscreen")}D.resize(Q.scale);G.enter(T,V,T.get("container"))}else{Q.scrolled=D.scrollTop();q.scrollTo(0,0);Q._enter(V)}},_enter:function(ac){Q.active=true;if(I){Q.iframe=(function(){var af,ae=K.referrer,ah=K.createElement("a"),ag=q.location;ah.href=ae;if(ah.protocol!=ag.protocol||ah.hostname!=ag.hostname||ah.port!=ag.port){Galleria.raise("Parent fullscreen not available. Iframe protocol, domains and ports must match.");return false}Q.pd=q.parent.document;j(Q.pd).find("iframe").each(function(){var ai=this.contentDocument||this.contentWindow.document;if(ai===K){af=this;return false}});return af}())}f.hide(T.getActiveImage());if(I&&Q.iframe){Q.iframe.scrolled=j(q.parent).scrollTop();q.parent.scrollTo(0,0)}var Y=T.getData(),ad=T._options,aa=!T._options.trueFullscreen||!G.support,ab={height:"100%",overflow:"hidden",margin:0,padding:0};if(aa){T.$("container").addClass("fullscreen");f.forceStyles(T.get("container"),{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:10000});f.forceStyles(J().html,ab);f.forceStyles(J().body,ab)}if(I&&Q.iframe){f.forceStyles(Q.pd.documentElement,ab);f.forceStyles(Q.pd.body,ab);f.forceStyles(Q.iframe,j.extend(ab,{width:"100%",height:"100%",top:0,left:0,position:"fixed",zIndex:10000,border:"none"}))}Q.keymap=j.extend({},T._keyboard.map);T.attachKeyboard({escape:T.exitFullscreen,right:T.next,left:T.prev});Q.crop=ad.imageCrop;if(ad.fullscreenCrop!=e){ad.imageCrop=ad.fullscreenCrop}if(Y&&Y.big&&Y.image!==Y.big){var X=new Galleria.Picture(),W=X.isCached(Y.big),Z=T.getIndex(),V=T._thumbnails[Z];T.trigger({type:Galleria.LOADSTART,cached:W,rewind:false,index:Z,imageTarget:T.getActiveImage(),thumbTarget:V,galleriaData:Y});X.load(Y.big,function(ae){T._scaleImage(ae,{complete:function(af){T.trigger({type:Galleria.LOADFINISH,cached:W,index:Z,rewind:false,imageTarget:af.image,thumbTarget:V});var ag=T._controls.getActive().image;if(ag){j(ag).width(af.image.width).height(af.image.height).attr("style",j(af.image).attr("style")).attr("src",af.image.src)}}})})}T.rescale(function(){T.addTimer(false,function(){if(aa){f.show(T.getActiveImage())}if(typeof ac==="function"){ac.call(T)}},100);T.trigger(Galleria.FULLSCREEN_ENTER)});if(!aa){f.show(T.getActiveImage())}else{D.resize(Q.scale)}},scale:function(){T.rescale()},exit:function(V){V=Q.parseCallback(V);if(T._options.trueFullscreen&&G.support){G.exit(V)}else{Q._exit(V)}},_exit:function(Y){Q.active=false;var W=!T._options.trueFullscreen||!G.support;T.$("container").removeClass("fullscreen");if(W){f.hide(T.getActiveImage());f.revertStyles(T.get("container"),J().html,J().body);q.scrollTo(0,Q.scrolled)}if(I&&Q.iframe){f.revertStyles(Q.pd.documentElement,Q.pd.body,Q.iframe);if(Q.iframe.scrolled){q.parent.scrollTo(0,Q.iframe.scrolled)}}T.detachKeyboard();T.attachKeyboard(Q.keymap);T._options.imageCrop=Q.crop;var V=T.getData().big,X=T._controls.getActive().image;if(!T.getData().iframe&&X&&V&&V==X.src){q.setTimeout(function(Z){return function(){X.src=Z}}(T.getData().image),1)}T.rescale(function(){T.addTimer(false,function(){if(W){f.show(T.getActiveImage())}if(typeof Y==="function"){Y.call(T)}D.trigger("resize")},50);T.trigger(Galleria.FULLSCREEN_EXIT)});D.unbind("resize",Q.scale)}};var M=this._idle={trunk:[],bound:false,active:false,add:function(Y,aa,Z,V){if(!Y){return}if(!M.bound){M.addEvent()}Y=j(Y);if(typeof Z=="boolean"){V=Z;Z={}}Z=Z||{};var X={},W;for(W in aa){if(aa.hasOwnProperty(W)){X[W]=Y.css(W)}}Y.data("idle",{from:j.extend(X,Z),to:aa,complete:true,busy:false});if(!V){M.addTimer()}else{Y.css(aa)}M.trunk.push(Y)},remove:function(V){V=j(V);j.each(M.trunk,function(W,X){if(X&&X.length&&!X.not(V).length){V.css(V.data("idle").from);M.trunk.splice(W,1)}});if(!M.trunk.length){M.removeEvent();T.clearTimer(M.timer)}},addEvent:function(){M.bound=true;T.$("container").bind("mousemove click",M.showAll);if(T._options.idleMode=="hover"){T.$("container").bind("mouseleave",M.hide)}},removeEvent:function(){M.bound=false;T.$("container").bind("mousemove click",M.showAll);if(T._options.idleMode=="hover"){T.$("container").unbind("mouseleave",M.hide)}},addTimer:function(){if(T._options.idleMode=="hover"){return}T.addTimer("idle",function(){M.hide()},T._options.idleTime)},hide:function(){if(!T._options.idleMode||T.getIndex()===false||T.getData().iframe){return}T.trigger(Galleria.IDLE_ENTER);var V=M.trunk.length;j.each(M.trunk,function(W,X){var Y=X.data("idle");if(!Y){return}X.data("idle").complete=false;f.animate(X,Y.to,{duration:T._options.idleSpeed,complete:function(){if(W==V-1){M.active=false}}})})},showAll:function(){T.clearTimer("idle");j.each(M.trunk,function(V,W){M.show(W)})},show:function(V){var W=V.data("idle");if(!M.active||(!W.busy&&!W.complete)){W.busy=true;T.trigger(Galleria.IDLE_EXIT);T.clearTimer("idle");f.animate(V,W.from,{duration:T._options.idleSpeed/2,complete:function(){M.active=true;j(V).data("idle").busy=false;j(V).data("idle").complete=true}})}M.addTimer()}};var L=this._lightbox={width:0,height:0,initialized:false,active:null,image:null,elems:{},keymap:false,init:function(){T.trigger(Galleria.LIGHTBOX_OPEN);if(L.initialized){return}L.initialized=true;var V="overlay box content shadow title info close prevholder prev nextholder next counter image",W={},X=T._options,aa="",ad="position:absolute;",Z="lightbox-",Y={overlay:"position:fixed;display:none;opacity:"+X.overlayOpacity+";filter:alpha(opacity="+(X.overlayOpacity*100)+");top:0;left:0;width:100%;height:100%;background:"+X.overlayBackground+";z-index:99990",box:"position:fixed;display:none;width:400px;height:400px;top:50%;left:50%;margin-top:-200px;margin-left:-200px;z-index:99991",shadow:ad+"background:#000;width:100%;height:100%;",content:ad+"background-color:#fff;top:10px;left:10px;right:10px;bottom:10px;overflow:hidden",info:ad+"bottom:10px;left:10px;right:10px;color:#444;font:11px/13px arial,sans-serif;height:13px",close:ad+"top:10px;right:10px;height:20px;width:20px;background:#fff;text-align:center;cursor:pointer;color:#444;font:16px/22px arial,sans-serif;z-index:99999",image:ad+"top:10px;left:10px;right:10px;bottom:30px;overflow:hidden;display:block;",prevholder:ad+"width:50%;top:0;bottom:40px;cursor:pointer;",nextholder:ad+"width:50%;top:0;bottom:40px;right:-1px;cursor:pointer;",prev:ad+"top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;left:20px;display:none;text-align:center;color:#000;font:bold 16px/36px arial,sans-serif",next:ad+"top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;right:20px;left:auto;display:none;font:bold 16px/36px arial,sans-serif;text-align:center;color:#000",title:"float:left",counter:"float:right;margin-left:8px;"},ab=function(ae){return ae.hover(function(){j(this).css("color","#bbb")},function(){j(this).css("color","#444")})},ac={};if(r&&r>7){Y.nextholder+="background:#000;filter:alpha(opacity=0);";Y.prevholder+="background:#000;filter:alpha(opacity=0);"}j.each(Y,function(ae,af){aa+=".galleria-"+Z+ae+"{"+af+"}"});aa+=".galleria-"+Z+"box.iframe .galleria-"+Z+"prevholder,.galleria-"+Z+"box.iframe .galleria-"+Z+"nextholder{width:100px;height:100px;top:50%;margin-top:-70px}";f.insertStyleTag(aa,"galleria-lightbox");j.each(V.split(" "),function(ae,af){T.addElement("lightbox-"+af);W[af]=L.elems[af]=T.get("lightbox-"+af)});L.image=new Galleria.Picture();j.each({box:"shadow content close prevholder nextholder",info:"title counter",content:"info image",prevholder:"prev",nextholder:"next"},function(af,ag){var ae=[];j.each(ag.split(" "),function(ah,ai){ae.push(Z+ai)});ac[Z+af]=ae});T.append(ac);j(W.image).append(L.image.container);j(J().body).append(W.overlay,W.box);f.optimizeTouch(W.box);ab(j(W.close).bind("click",L.hide).html("&#215;"));j.each(["Prev","Next"],function(ah,af){var ag=j(W[af.toLowerCase()]).html(/v/.test(af)?"&#8249;&#160;":"&#160;&#8250;"),ae=j(W[af.toLowerCase()+"holder"]);ae.bind("click",function(){L["show"+af]()});if(r<8||Galleria.TOUCH){ag.show();return}ae.hover(function(){ag.show()},function(ai){ag.stop().fadeOut(200)})});j(W.overlay).bind("click",L.hide);if(Galleria.IPAD){T._options.lightboxTransitionSpeed=0}},rescale:function(Z){var Y=Math.min(D.width()-40,L.width),V=Math.min(D.height()-60,L.height),X=Math.min(Y/L.width,V/L.height),W=Math.round(L.width*X)+40,ab=Math.round(L.height*X)+60,aa={width:W,height:ab,"margin-top":Math.ceil(ab/2)*-1,"margin-left":Math.ceil(W/2)*-1};if(Z){j(L.elems.box).css(aa)}else{j(L.elems.box).animate(aa,{duration:T._options.lightboxTransitionSpeed,easing:T._options.easing,complete:function(){var ad=L.image,ac=T._options.lightboxFadeSpeed;T.trigger({type:Galleria.LIGHTBOX_IMAGE,imageTarget:ad.image});j(ad.container).show();j(ad.image).animate({opacity:1},ac);f.show(L.elems.info,ac)}})}},hide:function(){L.image.image=null;D.unbind("resize",L.rescale);j(L.elems.box).hide();f.hide(L.elems.info);T.detachKeyboard();T.attachKeyboard(L.keymap);L.keymap=false;f.hide(L.elems.overlay,200,function(){j(this).hide().css("opacity",T._options.overlayOpacity);T.trigger(Galleria.LIGHTBOX_CLOSE)})},showNext:function(){L.show(T.getNext(L.active))},showPrev:function(){L.show(T.getPrev(L.active))},show:function(V){L.active=V=typeof V==="number"?V:T.getIndex()||0;if(!L.initialized){L.init()}if(!L.keymap){L.keymap=j.extend({},T._keyboard.map);T.attachKeyboard({escape:L.hide,right:L.showNext,left:L.showPrev})}D.unbind("resize",L.rescale);var Z=T.getData(V),X=T.getDataLength(),ac=T.getNext(V),Y,ab,W;f.hide(L.elems.info);try{for(W=T._options.preload;W>0;W--){ab=new Galleria.Picture();Y=T.getData(ac);ab.preload("big" in Y?Y.big:Y.image);ac=T.getNext(ac)}}catch(aa){}L.image.isIframe=!!Z.iframe;j(L.elems.box).toggleClass("iframe",!!Z.iframe);L.image.load(Z.iframe||Z.big||Z.image,function(ag){if(ag.isIframe){var ad=j(q).width(),ae=j(q).height();if(T._options.maxVideoSize){var af=Math.min(T._options.maxVideoSize/ad,T._options.maxVideoSize/ae);if(af<1){ad*=af;ae*=af}}L.width=ad;L.height=ae}else{L.width=ag.original.width;L.height=ag.original.height}j(ag.image).css({width:ag.isIframe?"100%":"100.1%",height:ag.isIframe?"100%":"100.1%",top:0,zIndex:99998,opacity:0,visibility:"visible"});L.elems.title.innerHTML=Z.title||"";L.elems.counter.innerHTML=(V+1)+" / "+X;D.resize(L.rescale);L.rescale()});j(L.elems.overlay).show().css("visibility","visible");j(L.elems.box).show()}};var F=this._timer={trunk:{},add:function(Z,Y,X,W){Z=Z||new Date().getTime();W=W||false;this.clear(Z);if(W){var V=Y;Y=function(){V();F.add(Z,Y,X)}}this.trunk[Z]=q.setTimeout(Y,X)},clear:function(X){var V=function(Y){q.clearTimeout(this.trunk[Y]);delete this.trunk[Y]},W;if(!!X&&X in this.trunk){V.call(this,X)}else{if(typeof X==="undefined"){for(W in this.trunk){if(this.trunk.hasOwnProperty(W)){V.call(this,W)}}}}}};return this};Galleria.prototype={constructor:Galleria,init:function(M,L){var F=this;L=C(L);this._original={target:M,options:L,data:null};this._target=this._dom.target=M.nodeName?M:j(M).get(0);this._original.html=this._target.innerHTML;B.push(this);if(!this._target){Galleria.raise("Target not found",true);return}this._options={autoplay:false,carousel:true,carouselFollow:true,carouselSpeed:400,carouselSteps:"auto",clicknext:false,dailymotion:{foreground:"%23EEEEEE",highlight:"%235BCEC5",background:"%23222222",logo:0,hideInfos:1},dataConfig:function(N){return{}},dataSelector:"img",dataSort:false,dataSource:this._target,debug:e,dummy:e,easing:"galleria",extend:function(N){},fullscreenCrop:e,fullscreenDoubleTap:true,fullscreenTransition:e,height:0,idleMode:true,idleTime:3000,idleSpeed:200,imageCrop:false,imageMargin:0,imagePan:false,imagePanSmoothness:12,imagePosition:"50%",imageTimeout:e,initialTransition:e,keepSource:false,layerFollow:true,lightbox:false,lightboxFadeSpeed:200,lightboxTransitionSpeed:200,linkSourceImages:true,maxScaleRatio:e,maxVideoSize:e,minScaleRatio:e,overlayOpacity:0.85,overlayBackground:"#0b0b0b",pauseOnInteraction:true,popupLinks:false,preload:2,queue:true,responsive:true,show:0,showInfo:true,showCounter:true,showImagenav:true,swipe:true,thumbCrop:true,thumbEventType:"click",thumbFit:true,thumbMargin:0,thumbQuality:"auto",thumbDisplayOrder:true,thumbnails:true,touchTransition:e,transition:"fade",transitionInitial:e,transitionSpeed:400,trueFullscreen:true,useCanvas:false,vimeo:{title:0,byline:0,portrait:0,color:"aaaaaa"},wait:5000,width:"auto",youtube:{modestbranding:1,autohide:1,color:"white",hd:1,rel:0,showinfo:0}};this._options.initialTransition=this._options.initialTransition||this._options.transitionInitial;if(L&&L.debug===false){g=false}if(L&&typeof L.imageTimeout==="number"){c=L.imageTimeout}if(L&&typeof L.dummy==="string"){z=L.dummy}j(this._target).children().hide();if(Galleria.QUIRK){Galleria.raise("Your page is in Quirks mode, Galleria may not render correctly. Please validate your HTML and add a correct doctype.")}if(typeof Galleria.theme==="object"){this._init()}else{h.push(this)}return this},_init:function(){var L=this,M=this._options;if(this._initialized){Galleria.raise("Init failed: Gallery instance already initialized.");return this}this._initialized=true;if(!Galleria.theme){Galleria.raise("Init failed: No theme found.",true);return this}j.extend(true,M,Galleria.theme.defaults,this._original.options,Galleria.configure.options);(function(O){if(!("getContext" in O)){O=null;return}A=A||{elem:O,context:O.getContext("2d"),cache:{},length:0}}(K.createElement("canvas")));this.bind(Galleria.DATA,function(){this._original.data=this._data;this.get("total").innerHTML=this.getDataLength();var Q=this.$("container");if(L._options.height<2){L._userRatio=L._ratio=L._options.height}var P={width:0,height:0};var O=function(){return L.$("stage").height()};f.wait({until:function(){P=L._getWH();Q.width(P.width).height(P.height);return O()&&P.width&&P.height>50},success:function(){L._width=P.width;L._height=P.height;L._ratio=L._ratio||P.height/P.width;if(Galleria.WEBKIT){q.setTimeout(function(){L._run()},1)}else{L._run()}},error:function(){if(O()){Galleria.raise("Could not extract sufficient width/height of the gallery container. Traced measures: width:"+P.width+"px, height: "+P.height+"px.",true)}else{Galleria.raise("Could not extract a stage height from the CSS. Traced height: "+O()+"px.",true)}},timeout:typeof this._options.wait=="number"?this._options.wait:false})});this.append({"info-text":["info-title","info-description"],info:["info-text"],"image-nav":["image-nav-right","image-nav-left"],stage:["images","loader","counter","image-nav"],"thumbnails-list":["thumbnails"],"thumbnails-container":["thumb-nav-left","thumbnails-list","thumb-nav-right"],container:["stage","thumbnails-container","info","tooltip"]});f.hide(this.$("counter").append(this.get("current"),K.createTextNode(" / "),this.get("total")));this.setCounter("&#8211;");f.hide(L.get("tooltip"));this.$("container").addClass(Galleria.TOUCH?"touch":"notouch");j.each(new Array(2),function(O){var P=new Galleria.Picture();j(P.container).css({position:"absolute",top:0,left:0}).prepend(L._layers[O]=j(f.create("galleria-layer")).css({position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2})[0]);L.$("images").append(P.container);L._controls[O]=P});this.$("images").css({position:"relative",top:0,left:0,width:"100%",height:"100%"});this.$("thumbnails, thumbnails-list").css({overflow:"hidden",position:"relative"});this.$("image-nav-right, image-nav-left").bind("click",function(P){if(M.clicknext){P.stopPropagation()}if(M.pauseOnInteraction){L.pause()}var O=/right/.test(this.className)?"next":"prev";L[O]()});j.each(["info","counter","image-nav"],function(O,P){if(M["show"+P.substr(0,1).toUpperCase()+P.substr(1).replace(/-/,"")]===false){f.moveOut(L.get(P.toLowerCase()))}});this.load();if(!M.keepSource&&!r){this._target.innerHTML=""}if(this.get("errors")){this.appendChild("target","errors")}this.appendChild("target","container");if(M.carousel){var N=0,F=M.show;this.bind(Galleria.THUMBNAIL,function(){this.updateCarousel();if(++N==this.getDataLength()&&typeof F=="number"&&F>0){this._carousel.follow(F)}})}if(M.responsive){D.bind("resize",function(){if(!L.isFullscreen()){L.resize()}})}if(M.swipe){(function(X){var W=[0,0],Z=[0,0],Q=30,P=100,V=false,R=0,T,Y={start:"touchstart",move:"touchmove",stop:"touchend"},S=function(aa){return aa.originalEvent.touches?aa.originalEvent.touches[0]:aa},U=function(aa){if(aa.originalEvent.touches&&aa.originalEvent.touches.length>1){return}T=S(aa);Z=[T.pageX,T.pageY];if(!W[0]){W=Z}if(Math.abs(W[0]-Z[0])>10){aa.preventDefault()}},O=function(aa){X.unbind(Y.move,U);if((aa.originalEvent.touches&&aa.originalEvent.touches.length)||V){V=!V;return}if(f.timestamp()-R<1000&&Math.abs(W[0]-Z[0])>Q&&Math.abs(W[1]-Z[1])<P){aa.preventDefault();L[W[0]>Z[0]?"next":"prev"]()}W=Z=[0,0]};X.bind(Y.start,function(aa){if(aa.originalEvent.touches&&aa.originalEvent.touches.length>1){return}T=S(aa);R=f.timestamp();W=Z=[T.pageX,T.pageY];X.bind(Y.move,U).one(Y.stop,O)})}(L.$("images")));if(M.fullscreenDoubleTap){this.$("stage").bind("touchstart",(function(){var S,P,U,T,R,Q,O=function(V){return V.originalEvent.touches?V.originalEvent.touches[0]:V};return function(V){Q=Galleria.utils.timestamp();P=O(V).pageX;U=O(V).pageY;if((Q-S<500)&&(P-T<20)&&(U-R<20)){L.toggleFullscreen();V.preventDefault();L.$("stage").unbind("touchend",arguments.callee);return}S=Q;T=P;R=U}}()))}}f.optimizeTouch(this.get("container"));j.each(Galleria.on.binds,function(O,P){if(j.inArray(P.hash,L._binds)==-1){L.bind(P.type,P.callback)}});return this},addTimer:function(){this._timer.add.apply(this._timer,f.array(arguments));return this},clearTimer:function(){this._timer.clear.apply(this._timer,f.array(arguments));return this},_getWH:function(){var O=this.$("container"),L=this.$("target"),M=this,N={},F;j.each(["width","height"],function(Q,P){if(M._options[P]&&typeof M._options[P]==="number"){N[P]=M._options[P]}else{F=[f.parseValue(O.css(P)),f.parseValue(L.css(P)),O[P](),L[P]()];if(!M["_"+P]){F.splice(F.length,f.parseValue(O.css("min-"+P)),f.parseValue(L.css("min-"+P)))}N[P]=Math.max.apply(Math,F)}});if(M._userRatio){N.height=N.width*M._userRatio}return N},_createThumbnails:function(Q){this.get("total").innerHTML=this.getDataLength();var P,ab,ac,M,Y,V=this,W=this._options,Z=Q?this._data.length-Q.length:0,S=Z,aa=[],X=0,U=r<8?"http://upload.wikimedia.org/wikipedia/commons/c/c0/Blank.gif":"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw%3D%3D",O=(function(){var ae=V.$("thumbnails").find(".active");if(!ae.length){return false}return ae.find("img").attr("src")}()),ad=typeof W.thumbnails==="string"?W.thumbnails.toLowerCase():null,N=function(ae){return K.defaultView&&K.defaultView.getComputedStyle?K.defaultView.getComputedStyle(ab.container,null)[ae]:Y.css(ae)},F=function(ag,af,ae){return function(){j(ae).append(ag);V.trigger({type:Galleria.THUMBNAIL,thumbTarget:ag,index:af,galleriaData:V.getData(af)})}},R=function(af){if(W.pauseOnInteraction){V.pause()}var ae=j(af.currentTarget).data("index");if(V.getIndex()!==ae){V.show(ae)}af.preventDefault()},L=function(ae,af){j(ae.container).css("visibility","visible");V.trigger({type:Galleria.THUMBNAIL,thumbTarget:ae.image,index:ae.data.order,galleriaData:V.getData(ae.data.order)});if(typeof af=="function"){af.call(V,ae)}},T=function(ae,af){ae.scale({width:ae.data.width,height:ae.data.height,crop:W.thumbCrop,margin:W.thumbMargin,canvas:W.useCanvas,complete:function(ai){var am=["left","top"],ah=["Width","Height"],ag,ak,al=V.getData(ai.index),aj=al.thumb.split(":");j.each(ah,function(an,ao){ag=ao.toLowerCase();if((W.thumbCrop!==true||W.thumbCrop===ag)&&W.thumbFit){ak={};ak[ag]=ai[ag];j(ai.container).css(ak);ak={};ak[am[an]]=0;j(ai.image).css(ak)}ai["outer"+ao]=j(ai.container)["outer"+ao](true)});f.toggleQuality(ai.image,W.thumbQuality===true||(W.thumbQuality==="auto"&&ai.original.width<ai.width*3));if(al.iframe&&aj.length==2&&aj[0] in o){o[aj[0]].getThumb(aj[1],(function(an){return function(ao){an.src=ao;L(ai,af)}}(ai.image)))}else{if(W.thumbDisplayOrder&&!ai.lazy){j.each(aa,function(an,ao){if(an===X&&ao.ready&&!ao.displayed){X++;ao.displayed=true;L(ao,af);return}})}else{L(ai,af)}}}})};if(!Q){this._thumbnails=[];this.$("thumbnails").empty()}for(;this._data[Z];Z++){ac=this._data[Z];P=ac.thumb||ac.image;if((W.thumbnails===true||ad=="lazy")&&(ac.thumb||ac.image)){ab=new Galleria.Picture(Z);ab.index=Z;ab.displayed=false;ab.lazy=false;ab.video=false;this.$("thumbnails").append(ab.container);Y=j(ab.container);Y.css("visibility","hidden");ab.data={width:f.parseValue(N("width")),height:f.parseValue(N("height")),order:Z,src:P};if(W.thumbFit&&W.thumbCrop!==true){Y.css({width:"auto",height:"auto"})}else{Y.css({width:ab.data.width,height:ab.data.height})}M=P.split(":");if(M.length==2&&M[0] in o){ab.video=true;ab.ready=true;ab.load(U,{height:ab.data.height,width:ab.data.height*1.25},T)}else{if(ad=="lazy"){Y.addClass("lazy");ab.lazy=true;ab.load(U,{height:ab.data.height,width:ab.data.width})}else{ab.load(P,T)}}if(W.preload==="all"){ab.preload(ac.image)}}else{if(ac.iframe||ad==="empty"||ad==="numbers"){ab={container:f.create("galleria-image"),image:f.create("img","span"),ready:true};if(ad==="numbers"){j(ab.image).text(Z+1)}if(ac.iframe){j(ab.image).addClass("iframe")}this.$("thumbnails").append(ab.container);q.setTimeout((F)(ab.image,Z,ab.container),50+(Z*20))}else{ab={container:null,image:null}}}j(ab.container).add(W.keepSource&&W.linkSourceImages?ac.original:null).data("index",Z).bind(W.thumbEventType,R).data("thumbload",T);if(O===P){j(ab.container).addClass("active")}this._thumbnails.push(ab)}aa=this._thumbnails.slice(S);return this},lazyLoad:function(O,L){var F=O.constructor==Array?O:[O],M=this,P=this.$("thumbnails").children().filter(function(){return j(this).data("lazy-src")}),N=0;j.each(F,function(S,V){if(V>M._thumbnails.length-1){return}var Q=M._thumbnails[V],U=Q.data,R=U.src.split(":"),W=function(){if(++N==F.length&&typeof L=="function"){L.call(M)}},T=j(Q.container).data("thumbload");if(Q.video){T.call(M,Q,W)}else{Q.load(U.src,function(X){T.call(M,X,W)})}});return this},lazyLoadChunks:function(S,M){var O=this.getDataLength(),L=0,F=0,N=[],P=[],R=this;M=M||0;for(;L<O;L++){P.push(L);if(++F==S||L==O-1){N.push(P);F=0;P=[]}}var Q=function(U){var T=N.shift();if(T){q.setTimeout(function(){R.lazyLoad(T,function(){Q(true)})},(M&&U)?M:0)}};Q(false);return this},_run:function(){var F=this;F._createThumbnails();f.wait({timeout:10000,until:function(){if(Galleria.OPERA){F.$("stage").css("display","inline-block")}F._stageWidth=F.$("stage").width();F._stageHeight=F.$("stage").height();return(F._stageWidth&&F._stageHeight>50)},success:function(){u.push(F);f.show(F.get("counter"));if(F._options.carousel){F._carousel.bindControls()}if(F._options.autoplay){F.pause();if(typeof F._options.autoplay==="number"){F._playtime=F._options.autoplay}F._playing=true}if(F._firstrun){if(F._options.autoplay){F.trigger(Galleria.PLAY)}if(typeof F._options.show==="number"){F.show(F._options.show)}return}F._firstrun=true;if(Galleria.History){Galleria.History.change(function(L){if(isNaN(L)){q.history.go(-1)}else{F.show(L,e,true)}})}F.trigger(Galleria.READY);Galleria.theme.init.call(F,F._options);j.each(Galleria.ready.callbacks,function(L,M){if(typeof M=="function"){M.call(F,F._options)}});F._options.extend.call(F,F._options);if(/^[0-9]{1,4}$/.test(t)&&Galleria.History){F.show(t,e,true)}else{if(F._data[F._options.show]){F.show(F._options.show)}}if(F._options.autoplay){F.trigger(Galleria.PLAY)}},error:function(){Galleria.raise("Stage width or height is too small to show the gallery. Traced measures: width:"+F._stageWidth+"px, height: "+F._stageHeight+"px.",true)}})},load:function(N,F,M){var L=this,O=this._options;this._data=[];this._thumbnails=[];this.$("thumbnails").empty();if(typeof F==="function"){M=F;F=null}N=N||O.dataSource;F=F||O.dataSelector;M=M||O.dataConfig;if(/^function Object/.test(N.constructor)){N=[N]}if(N.constructor===Array){if(this.validate(N)){this._data=N}else{Galleria.raise("Load failed: JSON Array not valid.")}}else{F+=",.video,.iframe";j(N).find(F).each(function(R,T){T=j(T);var U={},S=T.parent(),Q=S.attr("href"),P=S.attr("rel");if(Q&&(T[0].nodeName=="IMG"||T.hasClass("video"))&&a(Q)){U.video=Q}else{if(Q&&T.hasClass("iframe")){U.iframe=Q}else{U.image=U.big=Q}}if(P){U.big=P}j.each("big title description link layer".split(" "),function(V,W){if(T.data(W)){U[W]=T.data(W)}});L._data.push(j.extend({title:T.attr("title")||"",thumb:T.attr("src"),image:T.attr("src"),big:T.attr("src"),description:T.attr("alt")||"",link:T.attr("longdesc"),original:T.get(0)},U,M(T)))})}if(typeof O.dataSort=="function"){l.sort.call(this._data,O.dataSort)}else{if(O.dataSort=="random"){this._data.sort(function(){return Math.round(Math.random())-0.5})}}if(this.getDataLength()){this._parseData().trigger(Galleria.DATA)}return this},_parseData:function(){var F=this,L;j.each(this._data,function(N,O){L=F._data[N];if("thumb" in O===false){L.thumb=O.image}if(!"big" in O){L.big=O.image}if("video" in O){var M=a(O.video);if(M){L.iframe=o[M.provider].embed(M.id)+(function(){if(typeof F._options[M.provider]=="object"){var Q="?",P=[];j.each(F._options[M.provider],function(R,S){P.push(R+"="+S)});if(M.provider=="youtube"){P=["wmode=opaque"].concat(P)}return Q+P.join("&")}return""}());delete L.video;if(!("thumb" in L)||!L.thumb){L.thumb=M.provider+":"+M.id}}}});return this},destroy:function(){this.$("target").data("galleria",null);this.$("container").unbind("galleria");this.get("target").innerHTML=this._original.html;this.clearTimer();f.removeFromArray(B,this);f.removeFromArray(u,this);return this},splice:function(){var F=this,L=f.array(arguments);q.setTimeout(function(){l.splice.apply(F._data,L);F._parseData()._createThumbnails()},2);return F},push:function(){var F=this,L=f.array(arguments);if(L.length==1&&L[0].constructor==Array){L=L[0]}q.setTimeout(function(){l.push.apply(F._data,L);F._parseData()._createThumbnails(L)},2);return F},_getActive:function(){return this._controls.getActive()},validate:function(F){return true},bind:function(L,F){L=d(L);this.$("container").bind(L,this.proxy(F));return this},unbind:function(F){F=d(F);this.$("container").unbind(F);return this},trigger:function(F){F=typeof F==="object"?j.extend(F,{scope:this}):{type:d(F),scope:this};this.$("container").trigger(F);return this},addIdleState:function(M,L,N,F){this._idle.add.apply(this._idle,f.array(arguments));return this},removeIdleState:function(F){this._idle.remove.apply(this._idle,f.array(arguments));return this},enterIdleMode:function(){this._idle.hide();return this},exitIdleMode:function(){this._idle.showAll();return this},enterFullscreen:function(F){this._fullscreen.enter.apply(this,f.array(arguments));return this},exitFullscreen:function(F){this._fullscreen.exit.apply(this,f.array(arguments));return this},toggleFullscreen:function(F){this._fullscreen[this.isFullscreen()?"exit":"enter"].apply(this,f.array(arguments));return this},bindTooltip:function(F,L){this._tooltip.bind.apply(this._tooltip,f.array(arguments));return this},defineTooltip:function(F,L){this._tooltip.define.apply(this._tooltip,f.array(arguments));return this},refreshTooltip:function(F){this._tooltip.show.apply(this._tooltip,f.array(arguments));return this},openLightbox:function(){this._lightbox.show.apply(this._lightbox,f.array(arguments));return this},closeLightbox:function(){this._lightbox.hide.apply(this._lightbox,f.array(arguments));return this},getActiveImage:function(){return this._getActive().image||e},getActiveThumb:function(){return this._thumbnails[this._active].image||e},getMousePosition:function(F){return{x:F.pageX-this.$("container").offset().left,y:F.pageY-this.$("container").offset().top}},addPan:function(Q){if(this._options.imageCrop===false){return}Q=j(Q||this.getActiveImage());var aa=this,Z=Q.width()/2,W=Q.height()/2,Y=parseInt(Q.css("left"),10),X=parseInt(Q.css("top"),10),M=Y||0,L=X||0,V=0,U=0,O=false,T=f.timestamp(),F=0,N=0,S=function(ad,ac,ae){if(ad>0){N=Math.round(Math.max(ad*-1,Math.min(0,ac)));if(F!==N){F=N;if(r===8){Q.parent()["scroll"+ae](N*-1)}else{var ab={};ab[ae.toLowerCase()]=N;Q.css(ab)}}}},P=function(ab){if(f.timestamp()-T<50){return}O=true;Z=aa.getMousePosition(ab).x;W=aa.getMousePosition(ab).y},R=function(ab){if(!O){return}V=Q.width()-aa._stageWidth;U=Q.height()-aa._stageHeight;Y=Z/aa._stageWidth*V*-1;X=W/aa._stageHeight*U*-1;M+=(Y-M)/aa._options.imagePanSmoothness;L+=(X-L)/aa._options.imagePanSmoothness;S(U,L,"Top");S(V,M,"Left")};if(r===8){Q.parent().scrollTop(L*-1).scrollLeft(M*-1);Q.css({top:0,left:0})}this.$("stage").unbind("mousemove",P).bind("mousemove",P);this.addTimer("pan"+aa._id,R,50,true);return this},proxy:function(L,F){if(typeof L!=="function"){return y}F=F||this;return function(){return L.apply(F,f.array(arguments))}},removePan:function(){this.$("stage").unbind("mousemove");this.clearTimer("pan"+this._id);return this},addElement:function(L){var F=this._dom;j.each(f.array(arguments),function(N,M){F[M]=f.create("galleria-"+M)});return this},attachKeyboard:function(F){this._keyboard.attach.apply(this._keyboard,f.array(arguments));return this},detachKeyboard:function(){this._keyboard.detach.apply(this._keyboard,f.array(arguments));return this},appendChild:function(L,F){this.$(L).append(this.get(F)||F);return this},prependChild:function(L,F){this.$(L).prepend(this.get(F)||F);return this},remove:function(F){this.$(f.array(arguments).join(",")).remove();return this},append:function(M){var L,F;for(L in M){if(M.hasOwnProperty(L)){if(M[L].constructor===Array){for(F=0;M[L][F];F++){this.appendChild(L,M[L][F])}}else{this.appendChild(L,M[L])}}}return this},_scaleImage:function(O,M){O=O||this._controls.getActive();if(!O){return}var L=this,F,N=function(P){j(P.container).children(":first").css({top:Math.max(0,f.parseValue(P.image.style.top)),left:Math.max(0,f.parseValue(P.image.style.left)),width:f.parseValue(P.image.width),height:f.parseValue(P.image.height)})};M=j.extend({width:this._stageWidth,height:this._stageHeight,crop:this._options.imageCrop,max:this._options.maxScaleRatio,min:this._options.minScaleRatio,margin:this._options.imageMargin,position:this._options.imagePosition,iframelimit:this._options.maxVideoSize},M);if(this._options.layerFollow&&this._options.imageCrop!==true){if(typeof M.complete=="function"){F=M.complete;M.complete=function(){F.call(O,O);N(O)}}else{M.complete=N}}else{j(O.container).children(":first").css({top:0,left:0})}O.scale(M);return this},updateCarousel:function(){this._carousel.update();return this},resize:function(M,F){if(typeof M=="function"){F=M;M=e}M=j.extend({width:0,height:0},M);var L=this,N=this.$("container");j.each(M,function(O,P){if(!P){N[O]("auto");M[O]=L._getWH()[O]}});j.each(M,function(O,P){N[O](P)});return this.rescale(F)},rescale:function(N,F,L){var M=this;if(typeof N==="function"){L=N;N=e}var O=function(){M._stageWidth=N||M.$("stage").width();M._stageHeight=F||M.$("stage").height();M._scaleImage();if(M._options.carousel){M.updateCarousel()}M.trigger(Galleria.RESCALE);if(typeof L==="function"){L.call(M)}};O.call(M);return this},refreshImage:function(){this._scaleImage();if(this._options.imagePan){this.addPan()}return this},show:function(L,F,M){if(this._queue.length>3||L===false||(!this._options.queue&&this._queue.stalled)){return}L=Math.max(0,Math.min(parseInt(L,10),this.getDataLength()-1));F=typeof F!=="undefined"?!!F:L<this.getIndex();M=M||false;if(!M&&Galleria.History){Galleria.History.set(L.toString());return}this._active=L;l.push.call(this._queue,{index:L,rewind:F});if(!this._queue.stalled){this._show()}return this},_show:function(){var Y=this,V=this._queue[0],T=this.getData(V.index);if(!T){return}var F=T.iframe||(this.isFullscreen()&&"big" in T?T.big:T.image),R=this._controls.getActive(),U=this._controls.getNext(),P=U.isCached(F),L=this._thumbnails[V.index],Q=function(){j(U.image).trigger("mouseup")};var N=(function(ac,ab,ad,Z,aa){return function(){var ae;m.active=false;f.toggleQuality(ab.image,Y._options.imageQuality);Y._layers[Y._controls.active].innerHTML="";j(ad.container).css({zIndex:0,opacity:0}).show();if(ad.isIframe){j(ad.container).find("iframe").remove()}Y.$("container").toggleClass("iframe",!!ac.iframe);j(ab.container).css({zIndex:1,left:0,top:0}).show();Y._controls.swap();if(Y._options.imagePan){Y.addPan(ab.image)}if(ac.link||Y._options.lightbox||Y._options.clicknext){j(ab.image).css({cursor:"pointer"}).bind("mouseup",function(af){if(typeof af.which=="number"&&af.which>1){return}if(Y._options.clicknext&&!Galleria.TOUCH){if(Y._options.pauseOnInteraction){Y.pause()}Y.next();return}if(ac.link){if(Y._options.popupLinks){ae=q.open(ac.link,"_blank")}else{q.location.href=ac.link}return}if(Y._options.lightbox){Y.openLightbox()}})}Y._playCheck();Y.trigger({type:Galleria.IMAGE,index:Z.index,imageTarget:ab.image,thumbTarget:aa.image,galleriaData:ac});l.shift.call(Y._queue);Y._queue.stalled=false;if(Y._queue.length){Y._show()}}}(T,U,R,V,L));if(this._options.carousel&&this._options.carouselFollow){this._carousel.follow(V.index)}if(this._options.preload){var M,S,O=this.getNext(),X;try{for(S=this._options.preload;S>0;S--){M=new Galleria.Picture();X=Y.getData(O);M.preload(this.isFullscreen()&&"big" in X?X.big:X.image);O=Y.getNext(O)}}catch(W){}}f.show(U.container);U.isIframe=!!T.iframe;j(Y._thumbnails[V.index].container).addClass("active").siblings(".active").removeClass("active");Y.trigger({type:Galleria.LOADSTART,cached:P,index:V.index,rewind:V.rewind,imageTarget:U.image,thumbTarget:L.image,galleriaData:T});Y._queue.stalled=true;U.load(F,function(aa){var Z=j(Y._layers[1-Y._controls.active]).html(T.layer||"").hide();Y._scaleImage(aa,{complete:function(ab){if("image" in R){f.toggleQuality(R.image,false)}f.toggleQuality(ab.image,false);Y.removePan();Y.setInfo(V.index);Y.setCounter(V.index);if(T.layer){Z.show();if(T.link||Y._options.lightbox||Y._options.clicknext){Z.css("cursor","pointer").unbind("mouseup").mouseup(Q)}}var ad=Y._options.transition;j.each({initial:R.image===null,touch:Galleria.TOUCH,fullscreen:Y.isFullscreen()},function(af,ae){if(ae&&Y._options[af+"Transition"]!==e){ad=Y._options[af+"Transition"];return false}});if(ad in m.effects===false){N()}else{var ac={prev:R.container,next:ab.container,rewind:V.rewind,speed:Y._options.transitionSpeed||400};m.active=true;m.init.call(Y,ad,ac,N)}Y.trigger({type:Galleria.LOADFINISH,cached:P,index:V.index,rewind:V.rewind,imageTarget:ab.image,thumbTarget:Y._thumbnails[V.index].image,galleriaData:Y.getData(V.index)})}})})},getNext:function(F){F=typeof F==="number"?F:this.getIndex();return F===this.getDataLength()-1?0:F+1},getPrev:function(F){F=typeof F==="number"?F:this.getIndex();return F===0?this.getDataLength()-1:F-1},next:function(){if(this.getDataLength()>1){this.show(this.getNext(),false)}return this},prev:function(){if(this.getDataLength()>1){this.show(this.getPrev(),true)}return this},get:function(F){return F in this._dom?this._dom[F]:null},getData:function(F){return F in this._data?this._data[F]:this._data[this._active]},getDataLength:function(){return this._data.length},getIndex:function(){return typeof this._active==="number"?this._active:false},getStageHeight:function(){return this._stageHeight},getStageWidth:function(){return this._stageWidth},getOptions:function(F){return typeof F==="undefined"?this._options:this._options[F]},setOptions:function(F,L){if(typeof F==="object"){j.extend(this._options,F)}else{this._options[F]=L}return this},play:function(F){this._playing=true;this._playtime=F||this._playtime;this._playCheck();this.trigger(Galleria.PLAY);return this},pause:function(){this._playing=false;this.trigger(Galleria.PAUSE);return this},playToggle:function(F){return(this._playing)?this.pause():this.play(F)},isPlaying:function(){return this._playing},isFullscreen:function(){return this._fullscreen.active},_playCheck:function(){var L=this,O=0,F=20,M=f.timestamp(),P="play"+this._id;if(this._playing){this.clearTimer(P);var N=function(){O=f.timestamp()-M;if(O>=L._playtime&&L._playing){L.clearTimer(P);L.next();return}if(L._playing){L.trigger({type:Galleria.PROGRESS,percent:Math.ceil(O/L._playtime*100),seconds:Math.floor(O/1000),milliseconds:O});L.addTimer(P,N,F)}};L.addTimer(P,N,F)}},setPlaytime:function(F){this._playtime=F;return this},setIndex:function(F){this._active=F;return this},setCounter:function(L){if(typeof L==="number"){L++}else{if(typeof L==="undefined"){L=this.getIndex()+1}}this.get("current").innerHTML=L;if(r){var M=this.$("counter"),F=M.css("opacity");if(parseInt(F,10)===1){f.removeAlpha(M[0])}else{this.$("counter").css("opacity",F)}}return this},setInfo:function(L){var F=this,M=this.getData(L);j.each(["title","description"],function(N,O){var P=F.$("info-"+O);if(!!M[O]){P[M[O].length?"show":"hide"]().html(M[O])}else{P.empty().hide()}});return this},hasInfo:function(L){var F="title description".split(" "),M;for(M=0;F[M];M++){if(!!this.getData(L)[F[M]]){return true}}return false},jQuery:function(N){var F=this,L=[];j.each(N.split(","),function(O,P){P=j.trim(P);if(F.get(P)){L.push(P)}});var M=j(F.get(L.shift()));j.each(L,function(O,P){M=M.add(F.get(P))});return M},$:function(F){return this.jQuery.apply(this,f.array(arguments))}};j.each(x,function(F,M){var L=/_/.test(M)?M.replace(/_/g,""):M;Galleria[M.toUpperCase()]="galleria."+L});j.extend(Galleria,{IE9:r===9,IE8:r===8,IE7:r===7,IE6:r===6,IE:r,WEBKIT:/webkit/.test(w),CHROME:/chrome/.test(w),SAFARI:/safari/.test(w)&&!(/chrome/.test(w)),QUIRK:(r&&K.compatMode&&K.compatMode==="BackCompat"),MAC:/mac/.test(navigator.platform.toLowerCase()),OPERA:!!q.opera,IPHONE:/iphone/.test(w),IPAD:/ipad/.test(w),ANDROID:/android/.test(w),TOUCH:("ontouchstart" in K)});Galleria.addTheme=function(M){if(!M.name){Galleria.raise("No theme name specified")}if(typeof M.defaults!=="object"){M.defaults={}}else{M.defaults=C(M.defaults)}var F=false,L;if(typeof M.css==="string"){j("link").each(function(N,O){L=new RegExp(M.css);if(L.test(O.href)){F=true;n(M);return false}});if(!F){j("script").each(function(O,N){L=new RegExp("galleria\\."+M.name.toLowerCase()+"\\.");if(L.test(N.src)){F=N.src.replace(/[^\/]*$/,"")+M.css;q.setTimeout(function(){f.loadCSS(F,"galleria-theme",function(){n(M)})},1)}})}if(!F){Galleria.raise("No theme CSS loaded")}}else{n(M)}return M};Galleria.loadTheme=function(N,L){if(j("script").filter(function(){return j(this).attr("src")==N}).length){return}var F=false,M;j(q).load(function(){if(!F){M=q.setTimeout(function(){if(!F&&!Galleria.theme){Galleria.raise("Galleria had problems loading theme at "+N+". Please check theme path or load manually.",true)}},20000)}});Galleria.unloadTheme();f.loadScript(N,function(){F=true;q.clearTimeout(M)});return Galleria};Galleria.unloadTheme=function(){if(typeof Galleria.theme=="object"){j("script").each(function(L,F){if(new RegExp("galleria\\."+Galleria.theme.name+"\\.").test(F.src)){j(F).remove()}});Galleria.theme=e}return Galleria};Galleria.get=function(F){if(!!B[F]){return B[F]}else{if(typeof F!=="number"){return B}else{Galleria.raise("Gallery index "+F+" not found")}}};Galleria.configure=function(F,M){var L={};if(typeof F=="string"&&M){L[F]=M;F=L}else{j.extend(L,F)}Galleria.configure.options=L;j.each(Galleria.get(),function(O,N){N.setOptions(L)});return Galleria};Galleria.configure.options={};Galleria.on=function(F,M){if(!F){return}M=M||y;var L=F+M.toString().replace(/\s/g,"")+f.timestamp();j.each(Galleria.get(),function(O,N){N._binds.push(L);N.bind(F,M)});Galleria.on.binds.push({type:F,callback:M,hash:L});return Galleria};Galleria.on.binds=[];Galleria.run=function(F,L){if(j.isFunction(L)){L={extend:L}}j(F||"#galleria").galleria(L);return Galleria};Galleria.addTransition=function(F,L){m.effects[F]=L;return Galleria};Galleria.utils=f;Galleria.log=function(){var F=f.array(arguments);if("console" in q&&"log" in q.console){try{return q.console.log.apply(q.console,F)}catch(L){j.each(F,function(){q.console.log(this)})}}else{return q.alert(F.join("<br>"))}};Galleria.ready=function(F){if(typeof F!="function"){return Galleria}j.each(u,function(M,L){F.call(L,L._options)});Galleria.ready.callbacks.push(F);return Galleria};Galleria.ready.callbacks=[];Galleria.raise=function(P,O){var N=O?"Fatal error":"Error",L=this,M={color:"#fff",position:"absolute",top:0,left:0,zIndex:100000},F=function(R){var Q='<div style="padding:4px;margin:0 0 2px;background:#'+(O?"811":"222")+';">'+(O?"<strong>"+N+": </strong>":"")+R+"</div>";j.each(B,function(){var S=this.$("errors"),T=this.$("target");if(!S.length){T.css("position","relative");S=this.addElement("errors").appendChild("target","errors").$("errors").css(M)}S.append(Q)});if(!B.length){j("<div>").css(j.extend(M,{position:"fixed"})).append(Q).appendTo(J().body)}};if(g){F(P);if(O){throw new Error(N+": "+P)}}else{if(O){if(v){return}v=true;O=false;F("Gallery could not load.")}}};Galleria.version=H;Galleria.requires=function(F,L){L=L||"You need to upgrade Galleria to version "+F+" to use one or more components.";if(Galleria.version<F){Galleria.raise(L,true)}return Galleria};Galleria.Picture=function(F){this.id=F||null;this.image=null;this.container=f.create("galleria-image");j(this.container).css({overflow:"hidden",position:"relative"});this.original={width:0,height:0};this.ready=false;this.isIframe=false};Galleria.Picture.prototype={cache:{},show:function(){f.show(this.image)},hide:function(){f.moveOut(this.image)},clear:function(){this.image=null},isCached:function(F){return !!this.cache[F]},preload:function(F){j(new Image()).load((function(M,L){return function(){L[M]=M}}(F,this.cache))).attr("src",F)},load:function(F,U,S){if(typeof U=="function"){S=U;U=null}if(this.isIframe){var M="if"+new Date().getTime();this.image=j("<iframe>",{src:F,frameborder:0,id:M,allowfullscreen:true,css:{visibility:"hidden"}})[0];j(this.container).find("iframe,img").remove();this.container.appendChild(this.image);j("#"+M).load((function(V,W){return function(){q.setTimeout(function(){j(V.image).css("visibility","visible");if(typeof W=="function"){W.call(V,V)}},10)}}(this,S)));return this.container}this.image=new Image();if(Galleria.IE8){j(this.image).css("filter","inherit")}var P=0,L=false,Q=false,T=j(this.container),N=j(this.image),R=function(){if(!L){L=true;q.setTimeout((function(V,W){return function(){V.attr("src",W+"?"+f.timestamp())}}(j(this),F)),50)}else{if(z){j(this).attr("src",z)}else{Galleria.raise("Image not found: "+F)}}},O=(function(V,X,W){return function(){var Y=function(){j(this).unbind("load");V.original=U||{height:this.height,width:this.width};V.container.appendChild(this);V.cache[W]=W;if(typeof X=="function"){q.setTimeout(function(){X.call(V,V)},1)}};if((!this.width||!this.height)){q.setTimeout((function(Z){return function(){if(Z.width&&Z.height){Y.call(Z)}else{if(!Q){j(new Image()).load(O).attr("src",Z.src);Q=true}else{Galleria.raise("Could not extract width/height from image: "+Z.src+". Traced measures: width:"+Z.width+"px, height: "+Z.height+"px.")}}}}(this)),2)}else{Y.call(this)}}}(this,S,F));T.find("iframe,img").remove();N.css("display","block");f.hide(this.image);j.each("minWidth minHeight maxWidth maxHeight".split(" "),function(V,W){N.css(W,(/min/.test(W)?"0":"none"))});N.load(O).error(R).attr("src",F);return this.container},scale:function(V){var U=this;V=j.extend({width:0,height:0,min:e,max:e,margin:0,complete:y,position:"center",crop:false,canvas:false,iframelimit:e},V);if(this.isIframe){var O=V.width,L=V.height,Q,N;if(V.iframelimit){var F=Math.min(V.iframelimit/O,V.iframelimit/L);if(F<1){Q=O*F;N=L*F;j(this.image).css({top:L/2-N/2,left:O/2-Q/2,position:"absolute"})}else{j(this.image).css({top:0,left:0})}}j(this.image).width(Q||O).height(N||L).removeAttr("width").removeAttr("height");j(this.container).width(O).height(L);V.complete.call(U,U);try{if(this.image.contentWindow){j(this.image.contentWindow).trigger("resize")}}catch(R){}return this.container}if(!this.image){return this.container}var M,S,T=j(U.container),P;f.wait({until:function(){M=V.width||T.width()||f.parseValue(T.css("width"));S=V.height||T.height()||f.parseValue(T.css("height"));return M&&S},success:function(){var Y=(M-V.margin*2)/U.original.width,W=(S-V.margin*2)/U.original.height,X=Math.min(Y,W),ab=Math.max(Y,W),af={"true":ab,width:Y,height:W,"false":X,landscape:U.original.width>U.original.height?ab:X,portrait:U.original.width<U.original.height?ab:X},Z=af[V.crop.toString()],ac="";if(V.max){Z=Math.min(V.max,Z)}if(V.min){Z=Math.max(V.min,Z)}j.each(["width","height"],function(ai,ah){j(U.image)[ah](U[ah]=U.image[ah]=Math.round(U.original[ah]*Z))});j(U.container).width(M).height(S);if(V.canvas&&A){A.elem.width=U.width;A.elem.height=U.height;ac=U.image.src+":"+U.width+"x"+U.height;U.image.src=A.cache[ac]||(function(ah){A.context.drawImage(U.image,0,0,U.original.width*Z,U.original.height*Z);try{P=A.elem.toDataURL();A.length+=P.length;A.cache[ah]=P;return P}catch(ai){return U.image.src}}(ac))}var aa={},ae={},ad=function(al,aj,ak){var ai=0;if(/\%/.test(al)){var am=parseInt(al,10)/100,ah=U.image[aj]||j(U.image)[aj]();ai=Math.ceil(ah*-1*am+ak*am)}else{ai=f.parseValue(al)}return ai},ag={top:{top:0},left:{left:0},right:{left:"100%"},bottom:{top:"100%"}};j.each(V.position.toLowerCase().split(" "),function(ah,ai){if(ai==="center"){ai="50%"}aa[ah?"top":"left"]=ai});j.each(aa,function(ah,ai){if(ag.hasOwnProperty(ai)){j.extend(ae,ag[ai])}});aa=aa.top?j.extend(aa,ae):ae;aa=j.extend({top:"50%",left:"50%"},aa);j(U.image).css({position:"absolute",top:ad(aa.top,"height",S),left:ad(aa.left,"width",M)});U.show();U.ready=true;V.complete.call(U,U)},error:function(){Galleria.raise("Could not scale image: "+U.image.src)},timeout:1000});return this}};j.extend(j.easing,{galleria:function(L,M,F,O,N){if((M/=N/2)<1){return O/2*M*M*M+F}return O/2*((M-=2)*M*M+2)+F},galleriaIn:function(L,M,F,O,N){return O*(M/=N)*M+F},galleriaOut:function(L,M,F,O,N){return -O*(M/=N)*(M-2)+F}});j.fn.galleria=function(L){var F=this.selector;if(!j(this).length){j(function(){if(j(F).length){j(F).galleria(L)}else{Galleria.utils.wait({until:function(){return j(F).length},success:function(){j(F).galleria(L)},error:function(){Galleria.raise('Init failed: Galleria could not find the element "'+F+'".')},timeout:5000})}});return this}return this.each(function(){if(j.data(this,"galleria")){j.data(this,"galleria").destroy();j(this).find("*").hide()}j.data(this,"galleria",new Galleria().init(this,L))})}}(jQuery));(function(c){Galleria.addTheme({name:"classic",author:"Galleria",css:false,defaults:{transition:"slide",thumbCrop:"height",_toggleInfo:!0},init:function(a){Galleria.requires(1.28,"This version of Classic theme requires Galleria 1.2.8 or later"),this.addElement("info-link","info-close"),this.append({info:["info-link","info-close"]});var h=this.$("info-link,info-close,info-text"),g=Galleria.TOUCH,f=g?"touchstart":"click";this.$("loader,counter").show().css("opacity",0.4),g||(this.addIdleState(this.get("image-nav-left"),{left:-50}),this.addIdleState(this.get("image-nav-right"),{right:-50}),this.addIdleState(this.get("counter"),{opacity:0})),a._toggleInfo===!0?h.bind(f,function(){h.toggle()}):(h.show(),this.$("info-link, info-close").hide()),this.bind("thumbnail",function(d){g?c(d.thumbTarget).css("opacity",this.getIndex()?1:0.6):(c(d.thumbTarget).css("opacity",0.6).parent().hover(function(){c(this).not(".active").children().stop().fadeTo(100,1)},function(){c(this).not(".active").children().stop().fadeTo(400,0.6)}),d.index===this.getIndex()&&c(d.thumbTarget).css("opacity",1))}),this.bind("loadstart",function(d){d.cached||this.$("loader").show().fadeTo(200,0.4),this.$("info").toggle(this.hasInfo()),c(d.thumbTarget).css("opacity",1).parent().siblings().children().css("opacity",0.6)}),this.bind("loadfinish",function(d){this.$("loader").fadeOut(200)})}})})(jQuery);var Prototype={Version:"1.7",Browser:(function(){var c=navigator.userAgent;var a=Object.prototype.toString.call(window.opera)=="[object Opera]";return{IE:!!window.attachEvent&&!a,Opera:a,WebKit:c.indexOf("AppleWebKit/")>-1,Gecko:c.indexOf("Gecko")>-1&&c.indexOf("KHTML")===-1,MobileSafari:/Apple.*Mobile/.test(c)}})(),BrowserFeatures:{XPath:!!document.evaluate,SelectorsAPI:!!document.querySelector,ElementExtensions:(function(){var a=window.Element||window.HTMLElement;return !!(a&&a.prototype)})(),SpecificElementExtensions:(function(){if(typeof window.HTMLDivElement!=="undefined"){return true}var d=document.createElement("div"),c=document.createElement("form"),a=false;if(d.__proto__&&(d.__proto__!==c.__proto__)){a=true}d=c=null;return a})()},ScriptFragment:"<script[^>]*>([\\S\\s]*?)<\/script>",JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,emptyFunction:function(){},K:function(a){return a}};if(Prototype.Browser.MobileSafari){Prototype.BrowserFeatures.SpecificElementExtensions=false}var Abstract={};var Try={these:function(){var d;for(var c=0,f=arguments.length;c<f;c++){var a=arguments[c];try{d=a();break}catch(g){}}return d}};var Class=(function(){var e=(function(){for(var f in {toString:1}){if(f==="toString"){return false}}return true})();function a(){}function c(){var j=null,h=$A(arguments);if(Object.isFunction(h[0])){j=h.shift()}function f(){this.initialize.apply(this,arguments)}Object.extend(f,Class.Methods);f.superclass=j;f.subclasses=[];if(j){a.prototype=j.prototype;f.prototype=new a;j.subclasses.push(f)}for(var g=0,k=h.length;g<k;g++){f.addMethods(h[g])}if(!f.prototype.initialize){f.prototype.initialize=Prototype.emptyFunction}f.prototype.constructor=f;return f}function d(m){var h=this.superclass&&this.superclass.prototype,g=Object.keys(m);if(e){if(m.toString!=Object.prototype.toString){g.push("toString")}if(m.valueOf!=Object.prototype.valueOf){g.push("valueOf")}}for(var f=0,j=g.length;f<j;f++){var l=g[f],k=m[l];if(h&&Object.isFunction(k)&&k.argumentNames()[0]=="$super"){var n=k;k=(function(o){return function(){return h[o].apply(this,arguments)}})(l).wrap(n);k.valueOf=n.valueOf.bind(n);k.toString=n.toString.bind(n)}this.prototype[l]=k}return this}return{create:c,Methods:{addMethods:d}}})();(function(){var F=Object.prototype.toString,E="Null",q="Undefined",y="Boolean",g="Number",v="String",K="Object",w="[object Function]",B="[object Boolean]",h="[object Number]",n="[object String]",j="[object Array]",A="[object Date]",k=window.JSON&&typeof JSON.stringify==="function"&&JSON.stringify(0)==="0"&&typeof JSON.stringify(Prototype.K)==="undefined";function m(M){switch(M){case null:return E;case (void 0):return q}var L=typeof M;switch(L){case"boolean":return y;case"number":return g;case"string":return v}return K}function C(L,N){for(var M in N){L[M]=N[M]}return L}function J(L){try{if(d(L)){return"undefined"}if(L===null){return"null"}return L.inspect?L.inspect():String(L)}catch(M){if(M instanceof RangeError){return"..."}throw M}}function G(L){return I("",{"":L},[])}function I(U,R,S){var T=R[U],Q=typeof T;if(m(T)===K&&typeof T.toJSON==="function"){T=T.toJSON(U)}var N=F.call(T);switch(N){case h:case B:case n:T=T.valueOf()}switch(T){case null:return"null";case true:return"true";case false:return"false"}Q=typeof T;switch(Q){case"string":return T.inspect(true);case"number":return isFinite(T)?String(T):"null";case"object":for(var M=0,L=S.length;M<L;M++){if(S[M]===T){throw new TypeError()}}S.push(T);var P=[];if(N===j){for(var M=0,L=T.length;M<L;M++){var O=I(M,T,S);P.push(typeof O==="undefined"?"null":O)}P="["+P.join(",")+"]"}else{var V=Object.keys(T);for(var M=0,L=V.length;M<L;M++){var U=V[M],O=I(U,T,S);if(typeof O!=="undefined"){P.push(U.inspect(true)+":"+O)}}P="{"+P.join(",")+"}"}S.pop();return P}}function z(L){return JSON.stringify(L)}function l(L){return $H(L).toQueryString()}function r(L){return L&&L.toHTML?L.toHTML():String.interpret(L)}function u(L){if(m(L)!==K){throw new TypeError()}var M=[];for(var N in L){if(L.hasOwnProperty(N)){M.push(N)}}return M}function e(L){var M=[];for(var N in L){M.push(L[N])}return M}function D(L){return C({},L)}function x(L){return !!(L&&L.nodeType==1)}function o(L){return F.call(L)===j}var c=(typeof Array.isArray=="function")&&Array.isArray([])&&!Array.isArray({});if(c){o=Array.isArray}function f(L){return L instanceof Hash}function a(L){return F.call(L)===w}function p(L){return F.call(L)===n}function t(L){return F.call(L)===h}function H(L){return F.call(L)===A}function d(L){return typeof L==="undefined"}C(Object,{extend:C,inspect:J,toJSON:k?z:G,toQueryString:l,toHTML:r,keys:Object.keys||u,values:e,clone:D,isElement:x,isArray:o,isHash:f,isFunction:a,isString:p,isNumber:t,isDate:H,isUndefined:d})})();Object.extend(Function.prototype,(function(){var m=Array.prototype.slice;function e(q,n){var p=q.length,o=n.length;while(o--){q[p+o]=n[o]}return q}function k(o,n){o=m.call(o,0);return e(o,n)}function h(){var n=this.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return n.length==1&&!n[0]?[]:n}function j(p){if(arguments.length<2&&Object.isUndefined(arguments[0])){return this}var n=this,o=m.call(arguments,1);return function(){var q=k(o,arguments);return n.apply(p,q)}}function g(p){var n=this,o=m.call(arguments,1);return function(r){var q=e([r||window.event],o);return n.apply(p,q)}}function l(){if(!arguments.length){return this}var n=this,o=m.call(arguments,0);return function(){var p=k(o,arguments);return n.apply(this,p)}}function f(p){var n=this,o=m.call(arguments,1);p=p*1000;return window.setTimeout(function(){return n.apply(n,o)},p)}function a(){var n=e([0.01],arguments);return this.delay.apply(this,n)}function d(o){var n=this;return function(){var p=e([n.bind(this)],arguments);return o.apply(this,p)}}function c(){if(this._methodized){return this._methodized}var n=this;return this._methodized=function(){var o=e([this],arguments);return n.apply(null,o)}}return{argumentNames:h,bind:j,bindAsEventListener:g,curry:l,delay:f,defer:a,wrap:d,methodize:c}})());(function(d){function c(){return this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).toPaddedString(2)+"-"+this.getUTCDate().toPaddedString(2)+"T"+this.getUTCHours().toPaddedString(2)+":"+this.getUTCMinutes().toPaddedString(2)+":"+this.getUTCSeconds().toPaddedString(2)+"Z"}function a(){return this.toISOString()}if(!d.toISOString){d.toISOString=c}if(!d.toJSON){d.toJSON=a}})(Date.prototype);RegExp.prototype.match=RegExp.prototype.test;RegExp.escape=function(a){return String(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")};var PeriodicalExecuter=Class.create({initialize:function(c,a){this.callback=c;this.frequency=a;this.currentlyExecuting=false;this.registerCallback()},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),this.frequency*1000)},execute:function(){this.callback(this)},stop:function(){if(!this.timer){return}clearInterval(this.timer);this.timer=null},onTimerEvent:function(){if(!this.currentlyExecuting){try{this.currentlyExecuting=true;this.execute();this.currentlyExecuting=false}catch(a){this.currentlyExecuting=false;throw a}}}});Object.extend(String,{interpret:function(a){return a==null?"":String(a)},specialChar:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"}});Object.extend(String.prototype,(function(){var NATIVE_JSON_PARSE_SUPPORT=window.JSON&&typeof JSON.parse==="function"&&JSON.parse('{"test": true}').test;function prepareReplacement(replacement){if(Object.isFunction(replacement)){return replacement}var template=new Template(replacement);return function(match){return template.evaluate(match)}}function gsub(pattern,replacement){var result="",source=this,match;replacement=prepareReplacement(replacement);if(Object.isString(pattern)){pattern=RegExp.escape(pattern)}if(!(pattern.length||pattern.source)){replacement=replacement("");return replacement+source.split("").join(replacement)+replacement}while(source.length>0){if(match=source.match(pattern)){result+=source.slice(0,match.index);result+=String.interpret(replacement(match));source=source.slice(match.index+match[0].length)}else{result+=source,source=""}}return result}function sub(pattern,replacement,count){replacement=prepareReplacement(replacement);count=Object.isUndefined(count)?1:count;return this.gsub(pattern,function(match){if(--count<0){return match[0]}return replacement(match)})}function scan(pattern,iterator){this.gsub(pattern,iterator);return String(this)}function truncate(length,truncation){length=length||30;truncation=Object.isUndefined(truncation)?"...":truncation;return this.length>length?this.slice(0,length-truncation.length)+truncation:String(this)}function strip(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}function stripTags(){return this.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")}function stripScripts(){return this.replace(new RegExp(Prototype.ScriptFragment,"img"),"")}function extractScripts(){var matchAll=new RegExp(Prototype.ScriptFragment,"img"),matchOne=new RegExp(Prototype.ScriptFragment,"im");return(this.match(matchAll)||[]).map(function(scriptTag){return(scriptTag.match(matchOne)||["",""])[1]})}function evalScripts(){return this.extractScripts().map(function(script){return eval(script)})}function escapeHTML(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function unescapeHTML(){return this.stripTags().replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function toQueryParams(separator){var match=this.strip().match(/([^?#]*)(#.*)?$/);if(!match){return{}}return match[1].split(separator||"&").inject({},function(hash,pair){if((pair=pair.split("="))[0]){var key=decodeURIComponent(pair.shift()),value=pair.length>1?pair.join("="):pair[0];if(value!=undefined){value=decodeURIComponent(value)}if(key in hash){if(!Object.isArray(hash[key])){hash[key]=[hash[key]]}hash[key].push(value)}else{hash[key]=value}}return hash})}function toArray(){return this.split("")}function succ(){return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1)}function times(count){return count<1?"":new Array(count+1).join(this)}function camelize(){return this.replace(/-+(.)?/g,function(match,chr){return chr?chr.toUpperCase():""})}function capitalize(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()}function underscore(){return this.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/-/g,"_").toLowerCase()}function dasherize(){return this.replace(/_/g,"-")}function inspect(useDoubleQuotes){var escapedString=this.replace(/[\x00-\x1f\\]/g,function(character){if(character in String.specialChar){return String.specialChar[character]}return"\\u00"+character.charCodeAt().toPaddedString(2,16)});if(useDoubleQuotes){return'"'+escapedString.replace(/"/g,'\\"')+'"'}return"'"+escapedString.replace(/'/g,"\\'")+"'"}function unfilterJSON(filter){return this.replace(filter||Prototype.JSONFilter,"$1")}function isJSON(){var str=this;if(str.blank()){return false}str=str.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@");str=str.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");str=str.replace(/(?:^|:|,)(?:\s*\[)+/g,"");return(/^[\],:{}\s]*$/).test(str)}function evalJSON(sanitize){var json=this.unfilterJSON(),cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(cx.test(json)){json=json.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}try{if(!sanitize||json.isJSON()){return eval("("+json+")")}}catch(e){}throw new SyntaxError("Badly formed JSON string: "+this.inspect())}function parseJSON(){var json=this.unfilterJSON();return JSON.parse(json)}function include(pattern){return this.indexOf(pattern)>-1}function startsWith(pattern){return this.lastIndexOf(pattern,0)===0}function endsWith(pattern){var d=this.length-pattern.length;return d>=0&&this.indexOf(pattern,d)===d}function empty(){return this==""}function blank(){return/^\s*$/.test(this)}function interpolate(object,pattern){return new Template(this,pattern).evaluate(object)}return{gsub:gsub,sub:sub,scan:scan,truncate:truncate,strip:String.prototype.trim||strip,stripTags:stripTags,stripScripts:stripScripts,extractScripts:extractScripts,evalScripts:evalScripts,escapeHTML:escapeHTML,unescapeHTML:unescapeHTML,toQueryParams:toQueryParams,parseQuery:toQueryParams,toArray:toArray,succ:succ,times:times,camelize:camelize,capitalize:capitalize,underscore:underscore,dasherize:dasherize,inspect:inspect,unfilterJSON:unfilterJSON,isJSON:isJSON,evalJSON:NATIVE_JSON_PARSE_SUPPORT?parseJSON:evalJSON,include:include,startsWith:startsWith,endsWith:endsWith,empty:empty,blank:blank,interpolate:interpolate}})());var Template=Class.create({initialize:function(a,c){this.template=a.toString();this.pattern=c||Template.Pattern},evaluate:function(a){if(a&&Object.isFunction(a.toTemplateReplacements)){a=a.toTemplateReplacements()}return this.template.gsub(this.pattern,function(e){if(a==null){return(e[1]+"")}var g=e[1]||"";if(g=="\\"){return e[2]}var c=a,h=e[3],f=/^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/;e=f.exec(h);if(e==null){return g}while(e!=null){var d=e[1].startsWith("[")?e[2].replace(/\\\\]/g,"]"):e[1];c=c[d];if(null==c||""==e[3]){break}h=h.substring("["==e[3]?e[1].length:e[0].length);e=f.exec(h)}return g+String.interpret(c)})}});Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;var $break={};var Enumerable=(function(){function d(B,A){var z=0;try{this._each(function(D){B.call(A,D,z++)})}catch(C){if(C!=$break){throw C}}return this}function u(C,B,A){var z=-C,D=[],E=this.toArray();if(C<1){return E}while((z+=C)<E.length){D.push(E.slice(z,z+C))}return D.collect(B,A)}function c(B,A){B=B||Prototype.K;var z=true;this.each(function(D,C){z=z&&!!B.call(A,D,C);if(!z){throw $break}});return z}function k(B,A){B=B||Prototype.K;var z=false;this.each(function(D,C){if(z=!!B.call(A,D,C)){throw $break}});return z}function l(B,A){B=B||Prototype.K;var z=[];this.each(function(D,C){z.push(B.call(A,D,C))});return z}function w(B,A){var z;this.each(function(D,C){if(B.call(A,D,C)){z=D;throw $break}});return z}function j(B,A){var z=[];this.each(function(D,C){if(B.call(A,D,C)){z.push(D)}});return z}function h(C,B,A){B=B||Prototype.K;var z=[];if(Object.isString(C)){C=new RegExp(RegExp.escape(C))}this.each(function(E,D){if(C.match(E)){z.push(B.call(A,E,D))}});return z}function a(z){if(Object.isFunction(this.indexOf)){if(this.indexOf(z)!=-1){return true}}var A=false;this.each(function(B){if(B==z){A=true;throw $break}});return A}function t(A,z){z=Object.isUndefined(z)?null:z;return this.eachSlice(A,function(B){while(B.length<A){B.push(z)}return B})}function n(z,B,A){this.each(function(D,C){z=B.call(A,z,D,C)});return z}function y(A){var z=$A(arguments).slice(1);return this.map(function(B){return B[A].apply(B,z)})}function r(B,A){B=B||Prototype.K;var z;this.each(function(D,C){D=B.call(A,D,C);if(z==null||D>=z){z=D}});return z}function p(B,A){B=B||Prototype.K;var z;this.each(function(D,C){D=B.call(A,D,C);if(z==null||D<z){z=D}});return z}function f(C,A){C=C||Prototype.K;var B=[],z=[];this.each(function(E,D){(C.call(A,E,D)?B:z).push(E)});return[B,z]}function g(A){var z=[];this.each(function(B){z.push(B[A])});return z}function e(B,A){var z=[];this.each(function(D,C){if(!B.call(A,D,C)){z.push(D)}});return z}function o(A,z){return this.map(function(C,B){return{value:C,criteria:A.call(z,C,B)}}).sort(function(E,D){var C=E.criteria,B=D.criteria;return C<B?-1:C>B?1:0}).pluck("value")}function q(){return this.map()}function v(){var A=Prototype.K,z=$A(arguments);if(Object.isFunction(z.last())){A=z.pop()}var B=[this].concat(z).map($A);return this.map(function(D,C){return A(B.pluck(C))})}function m(){return this.toArray().length}function x(){return"#<Enumerable:"+this.toArray().inspect()+">"}return{each:d,eachSlice:u,all:c,every:c,any:k,some:k,collect:l,map:l,detect:w,findAll:j,select:j,filter:j,grep:h,include:a,member:a,inGroupsOf:t,inject:n,invoke:y,max:r,min:p,partition:f,pluck:g,reject:e,sortBy:o,toArray:q,entries:q,zip:v,size:m,inspect:x,find:w}})();function $A(d){if(!d){return[]}if("toArray" in Object(d)){return d.toArray()}var c=d.length||0,a=new Array(c);while(c--){a[c]=d[c]}return a}function $w(a){if(!Object.isString(a)){return[]}a=a.strip();return a?a.split(/\s+/):[]}Array.from=$A;(function(){var u=Array.prototype,o=u.slice,q=u.forEach;function c(z,y){for(var x=0,A=this.length>>>0;x<A;x++){if(x in this){z.call(y,this[x],x,this)}}}if(!q){q=c}function n(){this.length=0;return this}function e(){return this[0]}function h(){return this[this.length-1]}function k(){return this.select(function(x){return x!=null})}function w(){return this.inject([],function(y,x){if(Object.isArray(x)){return y.concat(x.flatten())}y.push(x);return y})}function j(){var x=o.call(arguments,0);return this.select(function(y){return !x.include(y)})}function g(x){return(x===false?this.toArray():this)._reverse()}function m(x){return this.inject([],function(A,z,y){if(0==y||(x?A.last()!=z:!A.include(z))){A.push(z)}return A})}function r(x){return this.uniq().findAll(function(y){return x.detect(function(z){return y===z})})}function t(){return o.call(this,0)}function l(){return this.length}function v(){return"["+this.map(Object.inspect).join(", ")+"]"}function a(z,x){x||(x=0);var y=this.length;if(x<0){x=y+x}for(;x<y;x++){if(this[x]===z){return x}}return -1}function p(y,x){x=isNaN(x)?this.length:(x<0?this.length+x:x)+1;var z=this.slice(0,x).reverse().indexOf(y);return(z<0)?z:x-z-1}function d(){var C=o.call(this,0),A;for(var y=0,z=arguments.length;y<z;y++){A=arguments[y];if(Object.isArray(A)&&!("callee" in A)){for(var x=0,B=A.length;x<B;x++){C.push(A[x])}}else{C.push(A)}}return C}Object.extend(u,Enumerable);if(!u._reverse){u._reverse=u.reverse}Object.extend(u,{_each:q,clear:n,first:e,last:h,compact:k,flatten:w,without:j,reverse:g,uniq:m,intersect:r,clone:t,toArray:t,size:l,inspect:v});var f=(function(){return[].concat(arguments)[0][0]!==1})(1,2);if(f){u.concat=d}if(!u.indexOf){u.indexOf=a}if(!u.lastIndexOf){u.lastIndexOf=p}})();function $H(a){return new Hash(a)}var Hash=Class.create(Enumerable,(function(){function f(r){this._object=Object.isHash(r)?r.toObject():Object.clone(r)}function g(t){for(var r in this._object){var u=this._object[r],v=[r,u];v.key=r;v.value=u;t(v)}}function l(r,t){return this._object[r]=t}function d(r){if(this._object[r]!==Object.prototype[r]){return this._object[r]}}function o(r){var t=this._object[r];delete this._object[r];return t}function q(){return Object.clone(this._object)}function p(){return this.pluck("key")}function n(){return this.pluck("value")}function h(t){var r=this.detect(function(u){return u.value===t});return r&&r.key}function k(r){return this.clone().update(r)}function e(r){return new Hash(r).inject(this,function(t,u){t.set(u.key,u.value);return t})}function c(r,t){if(Object.isUndefined(t)){return r}return r+"="+encodeURIComponent(String.interpret(t))}function a(){return this.inject([],function(w,z){var v=encodeURIComponent(z.key),t=z.value;if(t&&typeof t=="object"){if(Object.isArray(t)){var y=[];for(var u=0,r=t.length,x;u<r;u++){x=t[u];y.push(c(v,x))}return w.concat(y)}}else{w.push(c(v,t))}return w}).join("&")}function m(){return"#<Hash:{"+this.map(function(r){return r.map(Object.inspect).join(": ")}).join(", ")+"}>"}function j(){return new Hash(this)}return{initialize:f,_each:g,set:l,get:d,unset:o,toObject:q,toTemplateReplacements:q,keys:p,values:n,index:h,merge:k,update:e,toQueryString:a,inspect:m,toJSON:q,clone:j}})());Hash.from=$H;Object.extend(Number.prototype,(function(){function e(){return this.toPaddedString(2,16)}function c(){return this+1}function j(l,k){$R(0,this,true).each(l,k);return this}function h(m,l){var k=this.toString(l||10);return"0".times(m-k.length)+k}function a(){return Math.abs(this)}function d(){return Math.round(this)}function f(){return Math.ceil(this)}function g(){return Math.floor(this)}return{toColorPart:e,succ:c,times:j,toPaddedString:h,abs:a,round:d,ceil:f,floor:g}})());function $R(d,a,c){return new ObjectRange(d,a,c)}var ObjectRange=Class.create(Enumerable,(function(){function c(g,e,f){this.start=g;this.end=e;this.exclusive=f}function d(e){var f=this.start;while(this.include(f)){e(f);f=f.succ()}}function a(e){if(e<this.start){return false}if(this.exclusive){return e<this.end}return e<=this.end}return{initialize:c,_each:d,include:a}})());var Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||false},activeRequestCount:0};Ajax.Responders={responders:[],_each:function(a){this.responders._each(a)},register:function(a){if(!this.include(a)){this.responders.push(a)}},unregister:function(a){this.responders=this.responders.without(a)},dispatch:function(e,c,d,a){this.each(function(f){if(Object.isFunction(f[e])){try{f[e].apply(f,[c,d,a])}catch(g){}}})}};Object.extend(Ajax.Responders,Enumerable);Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++},onComplete:function(){Ajax.activeRequestCount--}});Ajax.Base=Class.create({initialize:function(a){this.options={method:"post",asynchronous:true,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:"",evalJSON:true,evalJS:true};Object.extend(this.options,a||{});this.options.method=this.options.method.toLowerCase();if(Object.isHash(this.options.parameters)){this.options.parameters=this.options.parameters.toObject()}}});Ajax.Request=Class.create(Ajax.Base,{_complete:false,initialize:function($super,c,a){$super(a);this.transport=Ajax.getTransport();this.request(c)},request:function(c){this.url=c;this.method=this.options.method;var f=Object.isString(this.options.parameters)?this.options.parameters:Object.toQueryString(this.options.parameters);if(!["get","post"].include(this.method)){f+=(f?"&":"")+"_method="+this.method;this.method="post"}if(f&&this.method==="get"){this.url+=(this.url.include("?")?"&":"?")+f}this.parameters=f.toQueryParams();try{var a=new Ajax.Response(this);if(this.options.onCreate){this.options.onCreate(a)}Ajax.Responders.dispatch("onCreate",this,a);this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous);if(this.options.asynchronous){this.respondToReadyState.bind(this).defer(1)}this.transport.onreadystatechange=this.onStateChange.bind(this);this.setRequestHeaders();this.body=this.method=="post"?(this.options.postBody||f):null;this.transport.send(this.body);if(!this.options.asynchronous&&this.transport.overrideMimeType){this.onStateChange()}}catch(d){this.dispatchException(d)}},onStateChange:function(){var a=this.transport.readyState;if(a>1&&!((a==4)&&this._complete)){this.respondToReadyState(this.transport.readyState)}},setRequestHeaders:function(){var f={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,Accept:"text/javascript, text/html, application/xml, text/xml, */*"};if(this.method=="post"){f["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){f.Connection="close"}}if(typeof this.options.requestHeaders=="object"){var d=this.options.requestHeaders;if(Object.isFunction(d.push)){for(var c=0,e=d.length;c<e;c+=2){f[d[c]]=d[c+1]}}else{$H(d).each(function(g){f[g.key]=g.value})}}for(var a in f){this.transport.setRequestHeader(a,f[a])}},success:function(){var a=this.getStatus();return !a||(a>=200&&a<300)||a==304},getStatus:function(){try{if(this.transport.status===1223){return 204}return this.transport.status||0}catch(a){return 0}},respondToReadyState:function(a){var d=Ajax.Request.Events[a],c=new Ajax.Response(this);if(d=="Complete"){try{this._complete=true;(this.options["on"+c.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(c,c.headerJSON)}catch(f){this.dispatchException(f)}var g=c.getHeader("Content-type");if(this.options.evalJS=="force"||(this.options.evalJS&&this.isSameOrigin()&&g&&g.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i))){this.evalResponse()}}try{(this.options["on"+d]||Prototype.emptyFunction)(c,c.headerJSON);Ajax.Responders.dispatch("on"+d,this,c,c.headerJSON)}catch(f){this.dispatchException(f)}if(d=="Complete"){this.transport.onreadystatechange=Prototype.emptyFunction}},isSameOrigin:function(){var a=this.url.match(/^\s*https?:\/\/[^\/]*/);return !a||(a[0]=="#{protocol}//#{domain}#{port}".interpolate({protocol:location.protocol,domain:document.domain,port:location.port?":"+location.port:""}))},getHeader:function(a){try{return this.transport.getResponseHeader(a)||null}catch(c){return null}},evalResponse:function(){try{return eval((this.transport.responseText||"").unfilterJSON())}catch(e){this.dispatchException(e)}},dispatchException:function(a){(this.options.onException||Prototype.emptyFunction)(this,a);Ajax.Responders.dispatch("onException",this,a)}});Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"];Ajax.Response=Class.create({initialize:function(d){this.request=d;var e=this.transport=d.transport,a=this.readyState=e.readyState;if((a>2&&!Prototype.Browser.IE)||a==4){this.status=this.getStatus();this.statusText=this.getStatusText();this.responseText=String.interpret(e.responseText);this.headerJSON=this._getHeaderJSON()}if(a==4){var c=e.responseXML;this.responseXML=Object.isUndefined(c)?null:c;this.responseJSON=this._getResponseJSON()}},status:0,statusText:"",getStatus:Ajax.Request.prototype.getStatus,getStatusText:function(){try{return this.transport.statusText||""}catch(a){return""}},getHeader:Ajax.Request.prototype.getHeader,getAllHeaders:function(){try{return this.getAllResponseHeaders()}catch(a){return null}},getResponseHeader:function(a){return this.transport.getResponseHeader(a)},getAllResponseHeaders:function(){return this.transport.getAllResponseHeaders()},_getHeaderJSON:function(){var a=this.getHeader("X-JSON");if(!a){return null}a=decodeURIComponent(escape(a));try{return a.evalJSON(this.request.options.sanitizeJSON||!this.request.isSameOrigin())}catch(c){this.request.dispatchException(c)}},_getResponseJSON:function(){var a=this.request.options;if(!a.evalJSON||(a.evalJSON!="force"&&!(this.getHeader("Content-type")||"").include("application/json"))||this.responseText.blank()){return null}try{return this.responseText.evalJSON(a.sanitizeJSON||!this.request.isSameOrigin())}catch(c){this.request.dispatchException(c)}}});Ajax.Updater=Class.create(Ajax.Request,{initialize:function($super,a,d,c){this.container={success:(a.success||a),failure:(a.failure||(a.success?null:a))};c=Object.clone(c);var e=c.onComplete;c.onComplete=(function(f,g){this.updateContent(f.responseText);if(Object.isFunction(e)){e(f,g)}}).bind(this);$super(d,c)},updateContent:function(e){var d=this.container[this.success()?"success":"failure"],a=this.options;if(!a.evalScripts){e=e.stripScripts()}if(d=$(d)){if(a.insertion){if(Object.isString(a.insertion)){var c={};c[a.insertion]=e;d.insert(c)}else{a.insertion(d,e)}}else{d.update(e)}}}});Ajax.PeriodicalUpdater=Class.create(Ajax.Base,{initialize:function($super,a,d,c){$super(c);this.onComplete=this.options.onComplete;this.frequency=(this.options.frequency||2);this.decay=(this.options.decay||1);this.updater={};this.container=a;this.url=d;this.start()},start:function(){this.options.onComplete=this.updateComplete.bind(this);this.onTimerEvent()},stop:function(){this.updater.options.onComplete=undefined;clearTimeout(this.timer);(this.onComplete||Prototype.emptyFunction).apply(this,arguments)},updateComplete:function(a){if(this.options.decay){this.decay=(a.responseText==this.lastText?this.decay*this.options.decay:1);this.lastText=a.responseText}this.timer=this.onTimerEvent.bind(this).delay(this.decay*this.frequency)},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options)}});function $(c){if(arguments.length>1){for(var a=0,e=[],d=arguments.length;a<d;a++){e.push($(arguments[a]))}return e}if(Object.isString(c)){c=document.getElementById(c)}return Element.extend(c)}if(Prototype.BrowserFeatures.XPath){document._getElementsByXPath=function(g,a){var d=[];var f=document.evaluate(g,$(a)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(var c=0,e=f.snapshotLength;c<e;c++){d.push(Element.extend(f.snapshotItem(c)))}return d}}if(!Node){var Node={}}if(!Node.ELEMENT_NODE){Object.extend(Node,{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12})}(function(d){function e(g,f){if(g==="select"){return false}if("type" in f){return false}return true}var c=(function(){try{var f=document.createElement('<input name="x">');return f.tagName.toLowerCase()==="input"&&f.name==="x"}catch(g){return false}})();var a=d.Element;d.Element=function(h,g){g=g||{};h=h.toLowerCase();var f=Element.cache;if(c&&g.name){h="<"+h+' name="'+g.name+'">';delete g.name;return Element.writeAttribute(document.createElement(h),g)}if(!f[h]){f[h]=Element.extend(document.createElement(h))}var j=e(h,g)?f[h].cloneNode(false):document.createElement(h);return Element.writeAttribute(j,g)};Object.extend(d.Element,a||{});if(a){d.Element.prototype=a.prototype}})(this);Element.idCounter=1;Element.cache={};Element._purgeElement=function(c){var a=c._prototypeUID;if(a){Element.stopObserving(c);c._prototypeUID=void 0;delete Element.Storage[a]}};Element.Methods={visible:function(a){return $(a).style.display!="none"},toggle:function(a){a=$(a);Element[Element.visible(a)?"hide":"show"](a);return a},hide:function(a){a=$(a);a.style.display="none";return a},show:function(a){a=$(a);a.style.display="";return a},remove:function(a){a=$(a);a.parentNode.removeChild(a);return a},update:(function(){var e=(function(){var h=document.createElement("select"),j=true;h.innerHTML='<option value="test">test</option>';if(h.options&&h.options[0]){j=h.options[0].nodeName.toUpperCase()!=="OPTION"}h=null;return j})();var c=(function(){try{var h=document.createElement("table");if(h&&h.tBodies){h.innerHTML="<tbody><tr><td>test</td></tr></tbody>";var k=typeof h.tBodies[0]=="undefined";h=null;return k}}catch(j){return true}})();var a=(function(){try{var h=document.createElement("div");h.innerHTML="<link>";var k=(h.childNodes.length===0);h=null;return k}catch(j){return true}})();var d=e||c||a;var g=(function(){var h=document.createElement("script"),k=false;try{h.appendChild(document.createTextNode(""));k=!h.firstChild||h.firstChild&&h.firstChild.nodeType!==3}catch(j){k=true}h=null;return k})();function f(m,n){m=$(m);var h=Element._purgeElement;var o=m.getElementsByTagName("*"),l=o.length;while(l--){h(o[l])}if(n&&n.toElement){n=n.toElement()}if(Object.isElement(n)){return m.update().insert(n)}n=Object.toHTML(n);var k=m.tagName.toUpperCase();if(k==="SCRIPT"&&g){m.text=n;return m}if(d){if(k in Element._insertionTranslations.tags){while(m.firstChild){m.removeChild(m.firstChild)}Element._getContentFromAnonymousElement(k,n.stripScripts()).each(function(p){m.appendChild(p)})}else{if(a&&Object.isString(n)&&n.indexOf("<link")>-1){while(m.firstChild){m.removeChild(m.firstChild)}var j=Element._getContentFromAnonymousElement(k,n.stripScripts(),true);j.each(function(p){m.appendChild(p)})}else{m.innerHTML=n.stripScripts()}}}else{m.innerHTML=n.stripScripts()}n.evalScripts.bind(n).defer();return m}return f})(),replace:function(c,d){c=$(c);if(d&&d.toElement){d=d.toElement()}else{if(!Object.isElement(d)){d=Object.toHTML(d);var a=c.ownerDocument.createRange();a.selectNode(c);d.evalScripts.bind(d).defer();d=a.createContextualFragment(d.stripScripts())}}c.parentNode.replaceChild(d,c);return c},insert:function(d,f){d=$(d);if(Object.isString(f)||Object.isNumber(f)||Object.isElement(f)||(f&&(f.toElement||f.toHTML))){f={bottom:f}}var e,g,c,h;for(var a in f){e=f[a];a=a.toLowerCase();g=Element._insertionTranslations[a];if(e&&e.toElement){e=e.toElement()}if(Object.isElement(e)){g(d,e);continue}e=Object.toHTML(e);c=((a=="before"||a=="after")?d.parentNode:d).tagName.toUpperCase();h=Element._getContentFromAnonymousElement(c,e.stripScripts());if(a=="top"||a=="after"){h.reverse()}h.each(g.curry(d));e.evalScripts.bind(e).defer()}return d},wrap:function(c,d,a){c=$(c);if(Object.isElement(d)){$(d).writeAttribute(a||{})}else{if(Object.isString(d)){d=new Element(d,a)}else{d=new Element("div",d)}}if(c.parentNode){c.parentNode.replaceChild(d,c)}d.appendChild(c);return d},inspect:function(c){c=$(c);var a="<"+c.tagName.toLowerCase();$H({id:"id",className:"class"}).each(function(g){var f=g.first(),d=g.last(),e=(c[f]||"").toString();if(e){a+=" "+d+"="+e.inspect(true)}});return a+">"},recursivelyCollect:function(a,d,e){a=$(a);e=e||-1;var c=[];while(a=a[d]){if(a.nodeType==1){c.push(Element.extend(a))}if(c.length==e){break}}return c},ancestors:function(a){return Element.recursivelyCollect(a,"parentNode")},descendants:function(a){return Element.select(a,"*")},firstDescendant:function(a){a=$(a).firstChild;while(a&&a.nodeType!=1){a=a.nextSibling}return $(a)},immediateDescendants:function(c){var a=[],d=$(c).firstChild;while(d){if(d.nodeType===1){a.push(Element.extend(d))}d=d.nextSibling}return a},previousSiblings:function(a,c){return Element.recursivelyCollect(a,"previousSibling")},nextSiblings:function(a){return Element.recursivelyCollect(a,"nextSibling")},siblings:function(a){a=$(a);return Element.previousSiblings(a).reverse().concat(Element.nextSiblings(a))},match:function(c,a){c=$(c);if(Object.isString(a)){return Prototype.Selector.match(c,a)}return a.match(c)},up:function(c,e,a){c=$(c);if(arguments.length==1){return $(c.parentNode)}var d=Element.ancestors(c);return Object.isNumber(e)?d[e]:Prototype.Selector.find(d,e,a)},down:function(c,d,a){c=$(c);if(arguments.length==1){return Element.firstDescendant(c)}return Object.isNumber(d)?Element.descendants(c)[d]:Element.select(c,d)[a||0]},previous:function(c,d,a){c=$(c);if(Object.isNumber(d)){a=d,d=false}if(!Object.isNumber(a)){a=0}if(d){return Prototype.Selector.find(c.previousSiblings(),d,a)}else{return c.recursivelyCollect("previousSibling",a+1)[a]}},next:function(c,e,a){c=$(c);if(Object.isNumber(e)){a=e,e=false}if(!Object.isNumber(a)){a=0}if(e){return Prototype.Selector.find(c.nextSiblings(),e,a)}else{var d=Object.isNumber(a)?a+1:1;return c.recursivelyCollect("nextSibling",a+1)[a]}},select:function(a){a=$(a);var c=Array.prototype.slice.call(arguments,1).join(", ");return Prototype.Selector.select(c,a)},adjacent:function(a){a=$(a);var c=Array.prototype.slice.call(arguments,1).join(", ");return Prototype.Selector.select(c,a.parentNode).without(a)},identify:function(a){a=$(a);var c=Element.readAttribute(a,"id");if(c){return c}do{c="anonymous_element_"+Element.idCounter++}while($(c));Element.writeAttribute(a,"id",c);return c},readAttribute:function(d,a){d=$(d);if(Prototype.Browser.IE){var c=Element._attributeTranslations.read;if(c.values[a]){return c.values[a](d,a)}if(c.names[a]){a=c.names[a]}if(a.include(":")){return(!d.attributes||!d.attributes[a])?null:d.attributes[a].value}}return d.getAttribute(a)},writeAttribute:function(f,d,g){f=$(f);var c={},e=Element._attributeTranslations.write;if(typeof d=="object"){c=d}else{c[d]=Object.isUndefined(g)?true:g}for(var a in c){d=e.names[a]||a;g=c[a];if(e.values[a]){d=e.values[a](f,g)}if(g===false||g===null){f.removeAttribute(d)}else{if(g===true){f.setAttribute(d,d)}else{f.setAttribute(d,g)}}}return f},getHeight:function(a){return Element.getDimensions(a).height},getWidth:function(a){return Element.getDimensions(a).width},classNames:function(a){return new Element.ClassNames(a)},hasClassName:function(a,c){if(!(a=$(a))){return}var d=a.className;return(d.length>0&&(d==c||new RegExp("(^|\\s)"+c+"(\\s|$)").test(d)))},addClassName:function(a,c){if(!(a=$(a))){return}if(!Element.hasClassName(a,c)){a.className+=(a.className?" ":"")+c}return a},removeClassName:function(a,c){if(!(a=$(a))){return}a.className=a.className.replace(new RegExp("(^|\\s+)"+c+"(\\s+|$)")," ").strip();return a},toggleClassName:function(a,c){if(!(a=$(a))){return}return Element[Element.hasClassName(a,c)?"removeClassName":"addClassName"](a,c)},cleanWhitespace:function(c){c=$(c);var d=c.firstChild;while(d){var a=d.nextSibling;if(d.nodeType==3&&!/\S/.test(d.nodeValue)){c.removeChild(d)}d=a}return c},empty:function(a){return $(a).innerHTML.blank()},descendantOf:function(c,a){c=$(c),a=$(a);if(c.compareDocumentPosition){return(c.compareDocumentPosition(a)&8)===8}if(a.contains){return a.contains(c)&&a!==c}while(c=c.parentNode){if(c==a){return true}}return false},scrollTo:function(a){a=$(a);var c=Element.cumulativeOffset(a);window.scrollTo(c[0],c[1]);return a},getStyle:function(c,d){c=$(c);d=d=="float"?"cssFloat":d.camelize();var e=c.style[d];if(!e||e=="auto"){var a=document.defaultView.getComputedStyle(c,null);e=a?a[d]:null}if(d=="opacity"){return e?parseFloat(e):1}return e=="auto"?null:e},getOpacity:function(a){return $(a).getStyle("opacity")},setStyle:function(c,d){c=$(c);var f=c.style,a;if(Object.isString(d)){c.style.cssText+=";"+d;return d.include("opacity")?c.setOpacity(d.match(/opacity:\s*(\d?\.?\d*)/)[1]):c}for(var e in d){if(e=="opacity"){c.setOpacity(d[e])}else{f[(e=="float"||e=="cssFloat")?(Object.isUndefined(f.styleFloat)?"cssFloat":"styleFloat"):e]=d[e]}}return c},setOpacity:function(a,c){a=$(a);a.style.opacity=(c==1||c==="")?"":(c<0.00001)?0:c;return a},makePositioned:function(a){a=$(a);var c=Element.getStyle(a,"position");if(c=="static"||!c){a._madePositioned=true;a.style.position="relative";if(Prototype.Browser.Opera){a.style.top=0;a.style.left=0}}return a},undoPositioned:function(a){a=$(a);if(a._madePositioned){a._madePositioned=undefined;a.style.position=a.style.top=a.style.left=a.style.bottom=a.style.right=""}return a},makeClipping:function(a){a=$(a);if(a._overflow){return a}a._overflow=Element.getStyle(a,"overflow")||"auto";if(a._overflow!=="hidden"){a.style.overflow="hidden"}return a},undoClipping:function(a){a=$(a);if(!a._overflow){return a}a.style.overflow=a._overflow=="auto"?"":a._overflow;a._overflow=null;return a},clonePosition:function(c,e){var a=Object.extend({setLeft:true,setTop:true,setWidth:true,setHeight:true,offsetTop:0,offsetLeft:0},arguments[2]||{});e=$(e);var f=Element.viewportOffset(e),g=[0,0],d=null;c=$(c);if(Element.getStyle(c,"position")=="absolute"){d=Element.getOffsetParent(c);g=Element.viewportOffset(d)}if(d==document.body){g[0]-=document.body.offsetLeft;g[1]-=document.body.offsetTop}if(a.setLeft){c.style.left=(f[0]-g[0]+a.offsetLeft)+"px"}if(a.setTop){c.style.top=(f[1]-g[1]+a.offsetTop)+"px"}if(a.setWidth){c.style.width=e.offsetWidth+"px"}if(a.setHeight){c.style.height=e.offsetHeight+"px"}return c}};Object.extend(Element.Methods,{getElementsBySelector:Element.Methods.select,childElements:Element.Methods.immediateDescendants});Element._attributeTranslations={write:{names:{className:"class",htmlFor:"for"},values:{}}};if(Prototype.Browser.Opera){Element.Methods.getStyle=Element.Methods.getStyle.wrap(function(e,c,d){switch(d){case"height":case"width":if(!Element.visible(c)){return null}var f=parseInt(e(c,d),10);if(f!==c["offset"+d.capitalize()]){return f+"px"}var a;if(d==="height"){a=["border-top-width","padding-top","padding-bottom","border-bottom-width"]}else{a=["border-left-width","padding-left","padding-right","border-right-width"]}return a.inject(f,function(g,h){var j=e(c,h);return j===null?g:g-parseInt(j,10)})+"px";default:return e(c,d)}});Element.Methods.readAttribute=Element.Methods.readAttribute.wrap(function(d,a,c){if(c==="title"){return a.title}return d(a,c)})}else{if(Prototype.Browser.IE){Element.Methods.getStyle=function(a,c){a=$(a);c=(c=="float"||c=="cssFloat")?"styleFloat":c.camelize();var d=a.style[c];if(!d&&a.currentStyle){d=a.currentStyle[c]}if(c=="opacity"){if(d=(a.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/)){if(d[1]){return parseFloat(d[1])/100}}return 1}if(d=="auto"){if((c=="width"||c=="height")&&(a.getStyle("display")!="none")){return a["offset"+c.capitalize()]+"px"}return null}return d};Element.Methods.setOpacity=function(c,f){function g(h){return h.replace(/alpha\([^\)]*\)/gi,"")}c=$(c);var a=c.currentStyle;if((a&&!a.hasLayout)||(!a&&c.style.zoom=="normal")){c.style.zoom=1}var e=c.getStyle("filter"),d=c.style;if(f==1||f===""){(e=g(e))?d.filter=e:d.removeAttribute("filter");return c}else{if(f<0.00001){f=0}}d.filter=g(e)+"alpha(opacity="+(f*100)+")";return c};Element._attributeTranslations=(function(){var c="className",a="for",d=document.createElement("div");d.setAttribute(c,"x");if(d.className!=="x"){d.setAttribute("class","x");if(d.className==="x"){c="class"}}d=null;d=document.createElement("label");d.setAttribute(a,"x");if(d.htmlFor!=="x"){d.setAttribute("htmlFor","x");if(d.htmlFor==="x"){a="htmlFor"}}d=null;return{read:{names:{"class":c,className:c,"for":a,htmlFor:a},values:{_getAttr:function(e,f){return e.getAttribute(f)},_getAttr2:function(e,f){return e.getAttribute(f,2)},_getAttrNode:function(e,g){var f=e.getAttributeNode(g);return f?f.value:""},_getEv:(function(){var e=document.createElement("div"),h;e.onclick=Prototype.emptyFunction;var g=e.getAttribute("onclick");if(String(g).indexOf("{")>-1){h=function(f,j){j=f.getAttribute(j);if(!j){return null}j=j.toString();j=j.split("{")[1];j=j.split("}")[0];return j.strip()}}else{if(g===""){h=function(f,j){j=f.getAttribute(j);if(!j){return null}return j.strip()}}}e=null;return h})(),_flag:function(e,f){return $(e).hasAttribute(f)?f:null},style:function(e){return e.style.cssText.toLowerCase()},title:function(e){return e.title}}}}})();Element._attributeTranslations.write={names:Object.extend({cellpadding:"cellPadding",cellspacing:"cellSpacing"},Element._attributeTranslations.read.names),values:{checked:function(a,c){a.checked=!!c},style:function(a,c){a.style.cssText=c?c:""}}};Element._attributeTranslations.has={};$w("colSpan rowSpan vAlign dateTime accessKey tabIndex encType maxLength readOnly longDesc frameBorder").each(function(a){Element._attributeTranslations.write.names[a.toLowerCase()]=a;Element._attributeTranslations.has[a.toLowerCase()]=a});(function(a){Object.extend(a,{href:a._getAttr2,src:a._getAttr2,type:a._getAttr,action:a._getAttrNode,disabled:a._flag,checked:a._flag,readonly:a._flag,multiple:a._flag,onload:a._getEv,onunload:a._getEv,onclick:a._getEv,ondblclick:a._getEv,onmousedown:a._getEv,onmouseup:a._getEv,onmouseover:a._getEv,onmousemove:a._getEv,onmouseout:a._getEv,onfocus:a._getEv,onblur:a._getEv,onkeypress:a._getEv,onkeydown:a._getEv,onkeyup:a._getEv,onsubmit:a._getEv,onreset:a._getEv,onselect:a._getEv,onchange:a._getEv})})(Element._attributeTranslations.read.values);if(Prototype.BrowserFeatures.ElementExtensions){(function(){function a(f){var c=f.getElementsByTagName("*"),e=[];for(var d=0,g;g=c[d];d++){if(g.tagName!=="!"){e.push(g)}}return e}Element.Methods.down=function(d,e,c){d=$(d);if(arguments.length==1){return d.firstDescendant()}return Object.isNumber(e)?a(d)[e]:Element.select(d,e)[c||0]}})()}}else{if(Prototype.Browser.Gecko&&/rv:1\.8\.0/.test(navigator.userAgent)){Element.Methods.setOpacity=function(a,c){a=$(a);a.style.opacity=(c==1)?0.999999:(c==="")?"":(c<0.00001)?0:c;return a}}else{if(Prototype.Browser.WebKit){Element.Methods.setOpacity=function(a,c){a=$(a);a.style.opacity=(c==1||c==="")?"":(c<0.00001)?0:c;if(c==1){if(a.tagName.toUpperCase()=="IMG"&&a.width){a.width++;a.width--}else{try{var f=document.createTextNode(" ");a.appendChild(f);a.removeChild(f)}catch(d){}}}return a}}}}}if("outerHTML" in document.documentElement){Element.Methods.replace=function(d,f){d=$(d);if(f&&f.toElement){f=f.toElement()}if(Object.isElement(f)){d.parentNode.replaceChild(f,d);return d}f=Object.toHTML(f);var e=d.parentNode,c=e.tagName.toUpperCase();if(Element._insertionTranslations.tags[c]){var g=d.next(),a=Element._getContentFromAnonymousElement(c,f.stripScripts());e.removeChild(d);if(g){a.each(function(h){e.insertBefore(h,g)})}else{a.each(function(h){e.appendChild(h)})}}else{d.outerHTML=f.stripScripts()}f.evalScripts.bind(f).defer();return d}}Element._returnOffset=function(c,d){var a=[c,d];a.left=c;a.top=d;return a};Element._getContentFromAnonymousElement=function(f,e,g){var h=new Element("div"),d=Element._insertionTranslations.tags[f];var a=false;if(d){a=true}else{if(g){a=true;d=["","",0]}}if(a){h.innerHTML="&nbsp;"+d[0]+e+d[1];h.removeChild(h.firstChild);for(var c=d[2];c--;){h=h.firstChild}}else{h.innerHTML=e}return $A(h.childNodes)};Element._insertionTranslations={before:function(a,c){a.parentNode.insertBefore(c,a)},top:function(a,c){a.insertBefore(c,a.firstChild)},bottom:function(a,c){a.appendChild(c)},after:function(a,c){a.parentNode.insertBefore(c,a.nextSibling)},tags:{TABLE:["<table>","</table>",1],TBODY:["<table><tbody>","</tbody></table>",2],TR:["<table><tbody><tr>","</tr></tbody></table>",3],TD:["<table><tbody><tr><td>","</td></tr></tbody></table>",4],SELECT:["<select>","</select>",1]}};(function(){var a=Element._insertionTranslations.tags;Object.extend(a,{THEAD:a.TBODY,TFOOT:a.TBODY,TH:a.TD})})();Element.Methods.Simulated={hasAttribute:function(a,d){d=Element._attributeTranslations.has[d]||d;var c=$(a).getAttributeNode(d);return !!(c&&c.specified)}};Element.Methods.ByTag={};Object.extend(Element,Element.Methods);(function(a){if(!Prototype.BrowserFeatures.ElementExtensions&&a.__proto__){window.HTMLElement={};window.HTMLElement.prototype=a.__proto__;Prototype.BrowserFeatures.ElementExtensions=true}a=null})(document.createElement("div"));Element.extend=(function(){function d(h){if(typeof window.Element!="undefined"){var k=window.Element.prototype;if(k){var m="_"+(Math.random()+"").slice(2),j=document.createElement(h);k[m]="x";var l=(j[m]!=="x");delete k[m];j=null;return l}}return false}function c(j,h){for(var l in h){var k=h[l];if(Object.isFunction(k)&&!(l in j)){j[l]=k.methodize()}}}var e=d("object");if(Prototype.BrowserFeatures.SpecificElementExtensions){if(e){return function(j){if(j&&typeof j._extendedByPrototype=="undefined"){var h=j.tagName;if(h&&(/^(?:object|applet|embed)$/i.test(h))){c(j,Element.Methods);c(j,Element.Methods.Simulated);c(j,Element.Methods.ByTag[h.toUpperCase()])}}return j}}return Prototype.K}var a={},f=Element.Methods.ByTag;var g=Object.extend(function(k){if(!k||typeof k._extendedByPrototype!="undefined"||k.nodeType!=1||k==window){return k}var h=Object.clone(a),j=k.tagName.toUpperCase();if(f[j]){Object.extend(h,f[j])}c(k,h);k._extendedByPrototype=Prototype.emptyFunction;return k},{refresh:function(){if(!Prototype.BrowserFeatures.ElementExtensions){Object.extend(a,Element.Methods);Object.extend(a,Element.Methods.Simulated)}}});g.refresh();return g})();if(document.documentElement.hasAttribute){Element.hasAttribute=function(a,c){return a.hasAttribute(c)}}else{Element.hasAttribute=Element.Methods.Simulated.hasAttribute}Element.addMethods=function(d){var k=Prototype.BrowserFeatures,e=Element.Methods.ByTag;if(!d){Object.extend(Form,Form.Methods);Object.extend(Form.Element,Form.Element.Methods);Object.extend(Element.Methods.ByTag,{FORM:Object.clone(Form.Methods),INPUT:Object.clone(Form.Element.Methods),SELECT:Object.clone(Form.Element.Methods),TEXTAREA:Object.clone(Form.Element.Methods),BUTTON:Object.clone(Form.Element.Methods)})}if(arguments.length==2){var c=d;d=arguments[1]}if(!c){Object.extend(Element.Methods,d||{})}else{if(Object.isArray(c)){c.each(h)}else{h(c)}}function h(m){m=m.toUpperCase();if(!Element.Methods.ByTag[m]){Element.Methods.ByTag[m]={}}Object.extend(Element.Methods.ByTag[m],d)}function a(o,n,m){m=m||false;for(var q in o){var p=o[q];if(!Object.isFunction(p)){continue}if(!m||!(q in n)){n[q]=p.methodize()}}}function f(p){var m;var o={OPTGROUP:"OptGroup",TEXTAREA:"TextArea",P:"Paragraph",FIELDSET:"FieldSet",UL:"UList",OL:"OList",DL:"DList",DIR:"Directory",H1:"Heading",H2:"Heading",H3:"Heading",H4:"Heading",H5:"Heading",H6:"Heading",Q:"Quote",INS:"Mod",DEL:"Mod",A:"Anchor",IMG:"Image",CAPTION:"TableCaption",COL:"TableCol",COLGROUP:"TableCol",THEAD:"TableSection",TFOOT:"TableSection",TBODY:"TableSection",TR:"TableRow",TH:"TableCell",TD:"TableCell",FRAMESET:"FrameSet",IFRAME:"IFrame"};if(o[p]){m="HTML"+o[p]+"Element"}if(window[m]){return window[m]}m="HTML"+p+"Element";if(window[m]){return window[m]}m="HTML"+p.capitalize()+"Element";if(window[m]){return window[m]}var n=document.createElement(p),q=n.__proto__||n.constructor.prototype;n=null;return q}var j=window.HTMLElement?HTMLElement.prototype:Element.prototype;if(k.ElementExtensions){a(Element.Methods,j);a(Element.Methods.Simulated,j,true)}if(k.SpecificElementExtensions){for(var l in Element.Methods.ByTag){var g=f(l);if(Object.isUndefined(g)){continue}a(e[l],g.prototype)}}Object.extend(Element,Element.Methods);delete Element.ByTag;if(Element.extend.refresh){Element.extend.refresh()}Element.cache={}};document.viewport={getDimensions:function(){return{width:this.getWidth(),height:this.getHeight()}},getScrollOffsets:function(){return Element._returnOffset(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)}};(function(c){var h=Prototype.Browser,f=document,d,e={};function a(){if(h.WebKit&&!f.evaluate){return document}if(h.Opera&&window.parseFloat(window.opera.version())<9.5){return document.body}return document.documentElement}function g(j){if(!d){d=a()}e[j]="client"+j;c["get"+j]=function(){return d[e[j]]};return c["get"+j]()}c.getWidth=g.curry("Width");c.getHeight=g.curry("Height")})(document.viewport);Element.Storage={UID:1};Element.addMethods({getStorage:function(c){if(!(c=$(c))){return}var a;if(c===window){a=0}else{if(typeof c._prototypeUID==="undefined"){c._prototypeUID=Element.Storage.UID++}a=c._prototypeUID}if(!Element.Storage[a]){Element.Storage[a]=$H()}return Element.Storage[a]},store:function(c,a,d){if(!(c=$(c))){return}if(arguments.length===2){Element.getStorage(c).update(a)}else{Element.getStorage(c).set(a,d)}return c},retrieve:function(d,c,a){if(!(d=$(d))){return}var f=Element.getStorage(d),e=f.get(c);if(Object.isUndefined(e)){f.set(c,a);e=a}return e},clone:function(d,a){if(!(d=$(d))){return}var f=d.cloneNode(a);f._prototypeUID=void 0;if(a){var e=Element.select(f,"*"),c=e.length;while(c--){e[c]._prototypeUID=void 0}}return Element.extend(f)},purge:function(d){if(!(d=$(d))){return}var a=Element._purgeElement;a(d);var e=d.getElementsByTagName("*"),c=e.length;while(c--){a(e[c])}return null}});(function(){function j(y){var x=y.match(/^(\d+)%?$/i);if(!x){return null}return(Number(x[1])/100)}function q(I,J,y){var B=null;if(Object.isElement(I)){B=I;I=B.getStyle(J)}if(I===null){return null}if((/^(?:-)?\d+(\.\d+)?(px)?$/i).test(I)){return window.parseFloat(I)}var D=I.include("%"),z=(y===document.viewport);if(/\d/.test(I)&&B&&B.runtimeStyle&&!(D&&z)){var x=B.style.left,H=B.runtimeStyle.left;B.runtimeStyle.left=B.currentStyle.left;B.style.left=I||0;I=B.style.pixelLeft;B.style.left=x;B.runtimeStyle.left=H;return I}if(B&&D){y=y||B.parentNode;var A=j(I);var E=null;var C=B.getStyle("position");var G=J.include("left")||J.include("right")||J.include("width");var F=J.include("top")||J.include("bottom")||J.include("height");if(y===document.viewport){if(G){E=document.viewport.getWidth()}else{if(F){E=document.viewport.getHeight()}}}else{if(G){E=$(y).measure("width")}else{if(F){E=$(y).measure("height")}}}return(E===null)?0:E*A}return 0}function h(x){if(Object.isString(x)&&x.endsWith("px")){return x}return x+"px"}function l(y){var x=y;while(y&&y.parentNode){var z=y.getStyle("display");if(z==="none"){return false}y=$(y.parentNode)}return true}var e=Prototype.K;if("currentStyle" in document.documentElement){e=function(x){if(!x.currentStyle.hasLayout){x.style.zoom=1}return x}}function g(x){if(x.include("border")){x=x+"-width"}return x.camelize()}Element.Layout=Class.create(Hash,{initialize:function($super,y,x){$super();this.element=$(y);Element.Layout.PROPERTIES.each(function(z){this._set(z,null)},this);if(x){this._preComputing=true;this._begin();Element.Layout.PROPERTIES.each(this._compute,this);this._end();this._preComputing=false}},_set:function(y,x){return Hash.prototype.set.call(this,y,x)},set:function(y,x){throw"Properties of Element.Layout are read-only."},get:function($super,y){var x=$super(y);return x===null?this._compute(y):x},_begin:function(){if(this._prepared){return}var B=this.element;if(l(B)){this._prepared=true;return}var D={position:B.style.position||"",width:B.style.width||"",visibility:B.style.visibility||"",display:B.style.display||""};B.store("prototype_original_styles",D);var E=B.getStyle("position"),x=B.getStyle("width");if(x==="0px"||x===null){B.style.display="block";x=B.getStyle("width")}var y=(E==="fixed")?document.viewport:B.parentNode;B.setStyle({position:"absolute",visibility:"hidden",display:"block"});var z=B.getStyle("width");var A;if(x&&(z===x)){A=q(B,"width",y)}else{if(E==="absolute"||E==="fixed"){A=q(B,"width",y)}else{var F=B.parentNode,C=$(F).getLayout();A=C.get("width")-this.get("margin-left")-this.get("border-left")-this.get("padding-left")-this.get("padding-right")-this.get("border-right")-this.get("margin-right")}}B.setStyle({width:A+"px"});this._prepared=true},_end:function(){var y=this.element;var x=y.retrieve("prototype_original_styles");y.store("prototype_original_styles",null);y.setStyle(x);this._prepared=false},_compute:function(y){var x=Element.Layout.COMPUTATIONS;if(!(y in x)){throw"Property not found."}return this._set(y,x[y].call(this,this.element))},toObject:function(){var x=$A(arguments);var y=(x.length===0)?Element.Layout.PROPERTIES:x.join(" ").split(" ");var z={};y.each(function(A){if(!Element.Layout.PROPERTIES.include(A)){return}var B=this.get(A);if(B!=null){z[A]=B}},this);return z},toHash:function(){var x=this.toObject.apply(this,arguments);return new Hash(x)},toCSS:function(){var x=$A(arguments);var z=(x.length===0)?Element.Layout.PROPERTIES:x.join(" ").split(" ");var y={};z.each(function(A){if(!Element.Layout.PROPERTIES.include(A)){return}if(Element.Layout.COMPOSITE_PROPERTIES.include(A)){return}var B=this.get(A);if(B!=null){y[g(A)]=B+"px"}},this);return y},inspect:function(){return"#<Element.Layout>"}});Object.extend(Element.Layout,{PROPERTIES:$w("height width top left right bottom border-left border-right border-top border-bottom padding-left padding-right padding-top padding-bottom margin-top margin-bottom margin-left margin-right padding-box-width padding-box-height border-box-width border-box-height margin-box-width margin-box-height"),COMPOSITE_PROPERTIES:$w("padding-box-width padding-box-height margin-box-width margin-box-height border-box-width border-box-height"),COMPUTATIONS:{height:function(z){if(!this._preComputing){this._begin()}var x=this.get("border-box-height");if(x<=0){if(!this._preComputing){this._end()}return 0}var A=this.get("border-top"),y=this.get("border-bottom");var C=this.get("padding-top"),B=this.get("padding-bottom");if(!this._preComputing){this._end()}return x-A-y-C-B},width:function(z){if(!this._preComputing){this._begin()}var y=this.get("border-box-width");if(y<=0){if(!this._preComputing){this._end()}return 0}var C=this.get("border-left"),x=this.get("border-right");var A=this.get("padding-left"),B=this.get("padding-right");if(!this._preComputing){this._end()}return y-C-x-A-B},"padding-box-height":function(y){var x=this.get("height"),A=this.get("padding-top"),z=this.get("padding-bottom");return x+A+z},"padding-box-width":function(x){var y=this.get("width"),z=this.get("padding-left"),A=this.get("padding-right");return y+z+A},"border-box-height":function(y){if(!this._preComputing){this._begin()}var x=y.offsetHeight;if(!this._preComputing){this._end()}return x},"border-box-width":function(x){if(!this._preComputing){this._begin()}var y=x.offsetWidth;if(!this._preComputing){this._end()}return y},"margin-box-height":function(y){var x=this.get("border-box-height"),z=this.get("margin-top"),A=this.get("margin-bottom");if(x<=0){return 0}return x+z+A},"margin-box-width":function(z){var y=this.get("border-box-width"),A=this.get("margin-left"),x=this.get("margin-right");if(y<=0){return 0}return y+A+x},top:function(x){var y=x.positionedOffset();return y.top},bottom:function(x){var A=x.positionedOffset(),y=x.getOffsetParent(),z=y.measure("height");var B=this.get("border-box-height");return z-B-A.top},left:function(x){var y=x.positionedOffset();return y.left},right:function(z){var B=z.positionedOffset(),A=z.getOffsetParent(),x=A.measure("width");var y=this.get("border-box-width");return x-y-B.left},"padding-top":function(x){return q(x,"paddingTop")},"padding-bottom":function(x){return q(x,"paddingBottom")},"padding-left":function(x){return q(x,"paddingLeft")},"padding-right":function(x){return q(x,"paddingRight")},"border-top":function(x){return q(x,"borderTopWidth")},"border-bottom":function(x){return q(x,"borderBottomWidth")},"border-left":function(x){return q(x,"borderLeftWidth")},"border-right":function(x){return q(x,"borderRightWidth")},"margin-top":function(x){return q(x,"marginTop")},"margin-bottom":function(x){return q(x,"marginBottom")},"margin-left":function(x){return q(x,"marginLeft")},"margin-right":function(x){return q(x,"marginRight")}}});if("getBoundingClientRect" in document.documentElement){Object.extend(Element.Layout.COMPUTATIONS,{right:function(y){var z=e(y.getOffsetParent());var A=y.getBoundingClientRect(),x=z.getBoundingClientRect();return(x.right-A.right).round()},bottom:function(y){var z=e(y.getOffsetParent());var A=y.getBoundingClientRect(),x=z.getBoundingClientRect();return(x.bottom-A.bottom).round()}})}Element.Offset=Class.create({initialize:function(y,x){this.left=y.round();this.top=x.round();this[0]=this.left;this[1]=this.top},relativeTo:function(x){return new Element.Offset(this.left-x.left,this.top-x.top)},inspect:function(){return"#<Element.Offset left: #{left} top: #{top}>".interpolate(this)},toString:function(){return"[#{left}, #{top}]".interpolate(this)},toArray:function(){return[this.left,this.top]}});function u(y,x){return new Element.Layout(y,x)}function c(x,y){return $(x).getLayout().get(y)}function p(y){y=$(y);var C=Element.getStyle(y,"display");if(C&&C!=="none"){return{width:y.offsetWidth,height:y.offsetHeight}}var z=y.style;var x={visibility:z.visibility,position:z.position,display:z.display};var B={visibility:"hidden",display:"block"};if(x.position!=="fixed"){B.position="absolute"}Element.setStyle(y,B);var A={width:y.offsetWidth,height:y.offsetHeight};Element.setStyle(y,x);return A}function n(x){x=$(x);if(f(x)||d(x)||o(x)||m(x)){return $(document.body)}var y=(Element.getStyle(x,"display")==="inline");if(!y&&x.offsetParent){return $(x.offsetParent)}while((x=x.parentNode)&&x!==document.body){if(Element.getStyle(x,"position")!=="static"){return m(x)?$(document.body):$(x)}}return $(document.body)}function w(y){y=$(y);var x=0,z=0;if(y.parentNode){do{x+=y.offsetTop||0;z+=y.offsetLeft||0;y=y.offsetParent}while(y)}return new Element.Offset(z,x)}function r(y){y=$(y);var z=y.getLayout();var x=0,B=0;do{x+=y.offsetTop||0;B+=y.offsetLeft||0;y=y.offsetParent;if(y){if(o(y)){break}var A=Element.getStyle(y,"position");if(A!=="static"){break}}}while(y);B-=z.get("margin-top");x-=z.get("margin-left");return new Element.Offset(B,x)}function a(y){var x=0,z=0;do{x+=y.scrollTop||0;z+=y.scrollLeft||0;y=y.parentNode}while(y);return new Element.Offset(z,x)}function v(B){y=$(y);var x=0,A=0,z=document.body;var y=B;do{x+=y.offsetTop||0;A+=y.offsetLeft||0;if(y.offsetParent==z&&Element.getStyle(y,"position")=="absolute"){break}}while(y=y.offsetParent);y=B;do{if(y!=z){x-=y.scrollTop||0;A-=y.scrollLeft||0}}while(y=y.parentNode);return new Element.Offset(A,x)}function t(x){x=$(x);if(Element.getStyle(x,"position")==="absolute"){return x}var B=n(x);var A=x.viewportOffset(),y=B.viewportOffset();var C=A.relativeTo(y);var z=x.getLayout();x.store("prototype_absolutize_original_styles",{left:x.getStyle("left"),top:x.getStyle("top"),width:x.getStyle("width"),height:x.getStyle("height")});x.setStyle({position:"absolute",top:C.top+"px",left:C.left+"px",width:z.get("width")+"px",height:z.get("height")+"px"});return x}function k(y){y=$(y);if(Element.getStyle(y,"position")==="relative"){return y}var x=y.retrieve("prototype_absolutize_original_styles");if(x){y.setStyle(x)}return y}if(Prototype.Browser.IE){n=n.wrap(function(z,y){y=$(y);if(f(y)||d(y)||o(y)||m(y)){return $(document.body)}var x=y.getStyle("position");if(x!=="static"){return z(y)}y.setStyle({position:"relative"});var A=z(y);y.setStyle({position:x});return A});r=r.wrap(function(A,y){y=$(y);if(!y.parentNode){return new Element.Offset(0,0)}var x=y.getStyle("position");if(x!=="static"){return A(y)}var z=y.getOffsetParent();if(z&&z.getStyle("position")==="fixed"){e(z)}y.setStyle({position:"relative"});var B=A(y);y.setStyle({position:x});return B})}else{if(Prototype.Browser.Webkit){w=function(y){y=$(y);var x=0,z=0;do{x+=y.offsetTop||0;z+=y.offsetLeft||0;if(y.offsetParent==document.body){if(Element.getStyle(y,"position")=="absolute"){break}}y=y.offsetParent}while(y);return new Element.Offset(z,x)}}}Element.addMethods({getLayout:u,measure:c,getDimensions:p,getOffsetParent:n,cumulativeOffset:w,positionedOffset:r,cumulativeScrollOffset:a,viewportOffset:v,absolutize:t,relativize:k});function o(x){return x.nodeName.toUpperCase()==="BODY"}function m(x){return x.nodeName.toUpperCase()==="HTML"}function f(x){return x.nodeType===Node.DOCUMENT_NODE}function d(x){return x!==document.body&&!Element.descendantOf(x,document.body)}if("getBoundingClientRect" in document.documentElement){Element.addMethods({viewportOffset:function(x){x=$(x);if(d(x)){return new Element.Offset(0,0)}var y=x.getBoundingClientRect(),z=document.documentElement;return new Element.Offset(y.left-z.clientLeft,y.top-z.clientTop)}})}})();window.$$=function(){var a=$A(arguments).join(", ");return Prototype.Selector.select(a,document)};Prototype.Selector=(function(){function a(){throw new Error('Method "Prototype.Selector.select" must be defined.')}function d(){throw new Error('Method "Prototype.Selector.match" must be defined.')}function e(m,n,j){j=j||0;var h=Prototype.Selector.match,l=m.length,g=0,k;for(k=0;k<l;k++){if(h(m[k],n)&&j==g++){return Element.extend(m[k])}}}function f(j){for(var g=0,h=j.length;g<h;g++){Element.extend(j[g])}return j}var c=Prototype.K;return{select:a,match:d,find:e,extendElements:(Element.extend===c)?c:f,extendElement:Element.extend}})();Prototype._original_property=window.Sizzle;
/*!
 * Sizzle CSS Selector Engine - v1.0
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var t=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,l=0,f=Object.prototype.toString,q=false,k=true;[0,0].sort(function(){k=false;return 0});var c=function(H,x,E,z){E=E||[];var e=x=x||document;if(x.nodeType!==1&&x.nodeType!==9){return[]}if(!H||typeof H!=="string"){return E}var F=[],G,C,L,K,D,w,v=true,A=r(x),J=H;while((t.exec(""),G=t.exec(J))!==null){J=G[3];F.push(G[1]);if(G[2]){w=G[3];break}}if(F.length>1&&m.exec(H)){if(F.length===2&&g.relative[F[0]]){C=h(F[0]+F[1],x)}else{C=g.relative[F[0]]?[x]:c(F.shift(),x);while(F.length){H=F.shift();if(g.relative[H]){H+=F.shift()}C=h(H,C)}}}else{if(!z&&F.length>1&&x.nodeType===9&&!A&&g.match.ID.test(F[0])&&!g.match.ID.test(F[F.length-1])){var M=c.find(F.shift(),x,A);x=M.expr?c.filter(M.expr,M.set)[0]:M.set[0]}if(x){var M=z?{expr:F.pop(),set:a(z)}:c.find(F.pop(),F.length===1&&(F[0]==="~"||F[0]==="+")&&x.parentNode?x.parentNode:x,A);C=M.expr?c.filter(M.expr,M.set):M.set;if(F.length>0){L=a(C)}else{v=false}while(F.length){var y=F.pop(),B=y;if(!g.relative[y]){y=""}else{B=F.pop()}if(B==null){B=x}g.relative[y](L,B,A)}}else{L=F=[]}}if(!L){L=C}if(!L){throw"Syntax error, unrecognized expression: "+(y||H)}if(f.call(L)==="[object Array]"){if(!v){E.push.apply(E,L)}else{if(x&&x.nodeType===1){for(var I=0;L[I]!=null;I++){if(L[I]&&(L[I]===true||L[I].nodeType===1&&j(x,L[I]))){E.push(C[I])}}}else{for(var I=0;L[I]!=null;I++){if(L[I]&&L[I].nodeType===1){E.push(C[I])}}}}}else{a(L,E)}if(w){c(w,e,E,z);c.uniqueSort(E)}return E};c.uniqueSort=function(v){if(d){q=k;v.sort(d);if(q){for(var e=1;e<v.length;e++){if(v[e]===v[e-1]){v.splice(e--,1)}}}}return v};c.matches=function(e,v){return c(e,null,null,v)};c.find=function(B,e,C){var A,y;if(!B){return[]}for(var x=0,w=g.order.length;x<w;x++){var z=g.order[x],y;if((y=g.leftMatch[z].exec(B))){var v=y[1];y.splice(1,1);if(v.substr(v.length-1)!=="\\"){y[1]=(y[1]||"").replace(/\\/g,"");A=g.find[z](y,e,C);if(A!=null){B=B.replace(g.match[z],"");break}}}}if(!A){A=e.getElementsByTagName("*")}return{set:A,expr:B}};c.filter=function(E,D,H,x){var w=E,J=[],B=D,z,e,A=D&&D[0]&&r(D[0]);while(E&&D.length){for(var C in g.filter){if((z=g.match[C].exec(E))!=null){var v=g.filter[C],I,G;e=false;if(B==J){J=[]}if(g.preFilter[C]){z=g.preFilter[C](z,B,H,J,x,A);if(!z){e=I=true}else{if(z===true){continue}}}if(z){for(var y=0;(G=B[y])!=null;y++){if(G){I=v(G,z,y,B);var F=x^!!I;if(H&&I!=null){if(F){e=true}else{B[y]=false}}else{if(F){J.push(G);e=true}}}}}if(I!==undefined){if(!H){B=J}E=E.replace(g.match[C],"");if(!e){return[]}break}}}if(E==w){if(e==null){throw"Syntax error, unrecognized expression: "+E}else{break}}w=E}return B};var g=c.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")}},relative:{"+":function(B,e,A){var y=typeof e==="string",C=y&&!/\W/.test(e),z=y&&!C;if(C&&!A){e=e.toUpperCase()}for(var x=0,w=B.length,v;x<w;x++){if((v=B[x])){while((v=v.previousSibling)&&v.nodeType!==1){}B[x]=z||v&&v.nodeName===e?v||false:v===e}}if(z){c.filter(e,B,true)}},">":function(A,v,B){var y=typeof v==="string";if(y&&!/\W/.test(v)){v=B?v:v.toUpperCase();for(var w=0,e=A.length;w<e;w++){var z=A[w];if(z){var x=z.parentNode;A[w]=x.nodeName===v?x:false}}}else{for(var w=0,e=A.length;w<e;w++){var z=A[w];if(z){A[w]=y?z.parentNode:z.parentNode===v}}if(y){c.filter(v,A,true)}}},"":function(x,v,z){var w=l++,e=u;if(!/\W/.test(v)){var y=v=z?v:v.toUpperCase();e=p}e("parentNode",v,w,x,y,z)},"~":function(x,v,z){var w=l++,e=u;if(typeof v==="string"&&!/\W/.test(v)){var y=v=z?v:v.toUpperCase();e=p}e("previousSibling",v,w,x,y,z)}},find:{ID:function(v,w,x){if(typeof w.getElementById!=="undefined"&&!x){var e=w.getElementById(v[1]);return e?[e]:[]}},NAME:function(w,z,A){if(typeof z.getElementsByName!=="undefined"){var v=[],y=z.getElementsByName(w[1]);for(var x=0,e=y.length;x<e;x++){if(y[x].getAttribute("name")===w[1]){v.push(y[x])}}return v.length===0?null:v}},TAG:function(e,v){return v.getElementsByTagName(e[1])}},preFilter:{CLASS:function(x,v,w,e,A,B){x=" "+x[1].replace(/\\/g,"")+" ";if(B){return x}for(var y=0,z;(z=v[y])!=null;y++){if(z){if(A^(z.className&&(" "+z.className+" ").indexOf(x)>=0)){if(!w){e.push(z)}}else{if(w){v[y]=false}}}}return false},ID:function(e){return e[1].replace(/\\/g,"")},TAG:function(v,e){for(var w=0;e[w]===false;w++){}return e[w]&&r(e[w])?v[1]:v[1].toUpperCase()},CHILD:function(e){if(e[1]=="nth"){var v=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(e[2]=="even"&&"2n"||e[2]=="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(v[1]+(v[2]||1))-0;e[3]=v[3]-0}e[0]=l++;return e},ATTR:function(y,v,w,e,z,A){var x=y[1].replace(/\\/g,"");if(!A&&g.attrMap[x]){y[1]=g.attrMap[x]}if(y[2]==="~="){y[4]=" "+y[4]+" "}return y},PSEUDO:function(y,v,w,e,z){if(y[1]==="not"){if((t.exec(y[3])||"").length>1||/^\w/.test(y[3])){y[3]=c(y[3],null,null,v)}else{var x=c.filter(y[3],v,w,true^z);if(!w){e.push.apply(e,x)}return false}}else{if(g.match.POS.test(y[0])||g.match.CHILD.test(y[0])){return true}}return y},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){e.parentNode.selectedIndex;return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(w,v,e){return !!c(e[3],w).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){return"text"===e.type},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||e.nodeName.toUpperCase()==="BUTTON"},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)}},setFilters:{first:function(v,e){return e===0},last:function(w,v,e,x){return v===x.length-1},even:function(v,e){return e%2===0},odd:function(v,e){return e%2===1},lt:function(w,v,e){return v<e[3]-0},gt:function(w,v,e){return v>e[3]-0},nth:function(w,v,e){return e[3]-0==v},eq:function(w,v,e){return e[3]-0==v}},filter:{PSEUDO:function(A,w,x,B){var v=w[1],y=g.filters[v];if(y){return y(A,x,w,B)}else{if(v==="contains"){return(A.textContent||A.innerText||"").indexOf(w[3])>=0}else{if(v==="not"){var z=w[3];for(var x=0,e=z.length;x<e;x++){if(z[x]===A){return false}}return true}}}},CHILD:function(e,x){var A=x[1],v=e;switch(A){case"only":case"first":while((v=v.previousSibling)){if(v.nodeType===1){return false}}if(A=="first"){return true}v=e;case"last":while((v=v.nextSibling)){if(v.nodeType===1){return false}}return true;case"nth":var w=x[2],D=x[3];if(w==1&&D==0){return true}var z=x[0],C=e.parentNode;if(C&&(C.sizcache!==z||!e.nodeIndex)){var y=0;for(v=C.firstChild;v;v=v.nextSibling){if(v.nodeType===1){v.nodeIndex=++y}}C.sizcache=z}var B=e.nodeIndex-D;if(w==0){return B==0}else{return(B%w==0&&B/w>=0)}}},ID:function(v,e){return v.nodeType===1&&v.getAttribute("id")===e},TAG:function(v,e){return(e==="*"&&v.nodeType===1)||v.nodeName===e},CLASS:function(v,e){return(" "+(v.className||v.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(z,x){var w=x[1],e=g.attrHandle[w]?g.attrHandle[w](z):z[w]!=null?z[w]:z.getAttribute(w),A=e+"",y=x[2],v=x[4];return e==null?y==="!=":y==="="?A===v:y==="*="?A.indexOf(v)>=0:y==="~="?(" "+A+" ").indexOf(v)>=0:!v?A&&e!==false:y==="!="?A!=v:y==="^="?A.indexOf(v)===0:y==="$="?A.substr(A.length-v.length)===v:y==="|="?A===v||A.substr(0,v.length+1)===v+"-":false},POS:function(y,v,w,z){var e=v[2],x=g.setFilters[e];if(x){return x(y,w,v,z)}}}};var m=g.match.POS;for(var o in g.match){g.match[o]=new RegExp(g.match[o].source+/(?![^\[]*\])(?![^\(]*\))/.source);g.leftMatch[o]=new RegExp(/(^(?:.|\r|\n)*?)/.source+g.match[o].source)}var a=function(v,e){v=Array.prototype.slice.call(v,0);if(e){e.push.apply(e,v);return e}return v};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(n){a=function(y,x){var v=x||[];if(f.call(y)==="[object Array]"){Array.prototype.push.apply(v,y)}else{if(typeof y.length==="number"){for(var w=0,e=y.length;w<e;w++){v.push(y[w])}}else{for(var w=0;y[w];w++){v.push(y[w])}}}return v}}var d;if(document.documentElement.compareDocumentPosition){d=function(v,e){if(!v.compareDocumentPosition||!e.compareDocumentPosition){if(v==e){q=true}return 0}var w=v.compareDocumentPosition(e)&4?-1:v===e?0:1;if(w===0){q=true}return w}}else{if("sourceIndex" in document.documentElement){d=function(v,e){if(!v.sourceIndex||!e.sourceIndex){if(v==e){q=true}return 0}var w=v.sourceIndex-e.sourceIndex;if(w===0){q=true}return w}}else{if(document.createRange){d=function(x,v){if(!x.ownerDocument||!v.ownerDocument){if(x==v){q=true}return 0}var w=x.ownerDocument.createRange(),e=v.ownerDocument.createRange();w.setStart(x,0);w.setEnd(x,0);e.setStart(v,0);e.setEnd(v,0);var y=w.compareBoundaryPoints(Range.START_TO_END,e);if(y===0){q=true}return y}}}}(function(){var v=document.createElement("div"),w="script"+(new Date).getTime();v.innerHTML="<a name='"+w+"'/>";var e=document.documentElement;e.insertBefore(v,e.firstChild);if(!!document.getElementById(w)){g.find.ID=function(y,z,A){if(typeof z.getElementById!=="undefined"&&!A){var x=z.getElementById(y[1]);return x?x.id===y[1]||typeof x.getAttributeNode!=="undefined"&&x.getAttributeNode("id").nodeValue===y[1]?[x]:undefined:[]}};g.filter.ID=function(z,x){var y=typeof z.getAttributeNode!=="undefined"&&z.getAttributeNode("id");return z.nodeType===1&&y&&y.nodeValue===x}}e.removeChild(v);e=v=null})();(function(){var e=document.createElement("div");e.appendChild(document.createComment(""));if(e.getElementsByTagName("*").length>0){g.find.TAG=function(v,z){var y=z.getElementsByTagName(v[1]);if(v[1]==="*"){var x=[];for(var w=0;y[w];w++){if(y[w].nodeType===1){x.push(y[w])}}y=x}return y}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){g.attrHandle.href=function(v){return v.getAttribute("href",2)}}e=null})();if(document.querySelectorAll){(function(){var e=c,w=document.createElement("div");w.innerHTML="<p class='TEST'></p>";if(w.querySelectorAll&&w.querySelectorAll(".TEST").length===0){return}c=function(A,z,x,y){z=z||document;if(!y&&z.nodeType===9&&!r(z)){try{return a(z.querySelectorAll(A),x)}catch(B){}}return e(A,z,x,y)};for(var v in e){c[v]=e[v]}w=null})()}if(document.getElementsByClassName&&document.documentElement.getElementsByClassName){(function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}g.order.splice(1,0,"CLASS");g.find.CLASS=function(v,w,x){if(typeof w.getElementsByClassName!=="undefined"&&!x){return w.getElementsByClassName(v[1])}};e=null})()}function p(v,A,z,E,B,D){var C=v=="previousSibling"&&!D;for(var x=0,w=E.length;x<w;x++){var e=E[x];if(e){if(C&&e.nodeType===1){e.sizcache=z;e.sizset=x}e=e[v];var y=false;while(e){if(e.sizcache===z){y=E[e.sizset];break}if(e.nodeType===1&&!D){e.sizcache=z;e.sizset=x}if(e.nodeName===A){y=e;break}e=e[v]}E[x]=y}}}function u(v,A,z,E,B,D){var C=v=="previousSibling"&&!D;for(var x=0,w=E.length;x<w;x++){var e=E[x];if(e){if(C&&e.nodeType===1){e.sizcache=z;e.sizset=x}e=e[v];var y=false;while(e){if(e.sizcache===z){y=E[e.sizset];break}if(e.nodeType===1){if(!D){e.sizcache=z;e.sizset=x}if(typeof A!=="string"){if(e===A){y=true;break}}else{if(c.filter(A,[e]).length>0){y=e;break}}}e=e[v]}E[x]=y}}}var j=document.compareDocumentPosition?function(v,e){return v.compareDocumentPosition(e)&16}:function(v,e){return v!==e&&(v.contains?v.contains(e):true)};var r=function(e){return e.nodeType===9&&e.documentElement.nodeName!=="HTML"||!!e.ownerDocument&&e.ownerDocument.documentElement.nodeName!=="HTML"};var h=function(e,B){var x=[],y="",z,w=B.nodeType?[B]:B;while((z=g.match.PSEUDO.exec(e))){y+=z[0];e=e.replace(g.match.PSEUDO,"")}e=g.relative[e]?e+"*":e;for(var A=0,v=w.length;A<v;A++){c(e,w[A],x)}return c.filter(y,x)};window.Sizzle=c})();(function(d){var e=Prototype.Selector.extendElements;function a(f,g){return e(d(f,g||document))}function c(g,f){return d.matches(f,[g]).length==1}Prototype.Selector.engine=d;Prototype.Selector.select=a;Prototype.Selector.match=c})(Sizzle);window.Sizzle=Prototype._original_property;delete Prototype._original_property;var Form={reset:function(a){a=$(a);a.reset();return a},serializeElements:function(j,e){if(typeof e!="object"){e={hash:!!e}}else{if(Object.isUndefined(e.hash)){e.hash=true}}var f,h,a=false,g=e.submit,c,d;if(e.hash){d={};c=function(k,l,m){if(l in k){if(!Object.isArray(k[l])){k[l]=[k[l]]}k[l].push(m)}else{k[l]=m}return k}}else{d="";c=function(k,l,m){return k+(k?"&":"")+encodeURIComponent(l)+"="+encodeURIComponent(m)}}return j.inject(d,function(k,l){if(!l.disabled&&l.name){f=l.name;h=$(l).getValue();if(h!=null&&l.type!="file"&&(l.type!="submit"||(!a&&g!==false&&(!g||f==g)&&(a=true)))){k=c(k,f,h)}}return k})}};Form.Methods={serialize:function(c,a){return Form.serializeElements(Form.getElements(c),a)},getElements:function(f){var g=$(f).getElementsByTagName("*"),e,a=[],d=Form.Element.Serializers;for(var c=0;e=g[c];c++){a.push(e)}return a.inject([],function(h,j){if(d[j.tagName.toLowerCase()]){h.push(Element.extend(j))}return h})},getInputs:function(h,d,e){h=$(h);var a=h.getElementsByTagName("input");if(!d&&!e){return $A(a).map(Element.extend)}for(var f=0,j=[],g=a.length;f<g;f++){var c=a[f];if((d&&c.type!=d)||(e&&c.name!=e)){continue}j.push(Element.extend(c))}return j},disable:function(a){a=$(a);Form.getElements(a).invoke("disable");return a},enable:function(a){a=$(a);Form.getElements(a).invoke("enable");return a},findFirstElement:function(c){var d=$(c).getElements().findAll(function(e){return"hidden"!=e.type&&!e.disabled});var a=d.findAll(function(e){return e.hasAttribute("tabIndex")&&e.tabIndex>=0}).sortBy(function(e){return e.tabIndex}).first();return a?a:d.find(function(e){return/^(?:input|select|textarea)$/i.test(e.tagName)})},focusFirstElement:function(c){c=$(c);var a=c.findFirstElement();if(a){a.activate()}return c},request:function(c,a){c=$(c),a=Object.clone(a||{});var e=a.parameters,d=c.readAttribute("action")||"";if(d.blank()){d=window.location.href}a.parameters=c.serialize(true);if(e){if(Object.isString(e)){e=e.toQueryParams()}Object.extend(a.parameters,e)}if(c.hasAttribute("method")&&!a.method){a.method=c.method}return new Ajax.Request(d,a)}};Form.Element={focus:function(a){$(a).focus();return a},select:function(a){$(a).select();return a}};Form.Element.Methods={serialize:function(a){a=$(a);if(!a.disabled&&a.name){var c=a.getValue();if(c!=undefined){var d={};d[a.name]=c;return Object.toQueryString(d)}}return""},getValue:function(a){a=$(a);var c=a.tagName.toLowerCase();return Form.Element.Serializers[c](a)},setValue:function(a,c){a=$(a);var d=a.tagName.toLowerCase();Form.Element.Serializers[d](a,c);return a},clear:function(a){$(a).value="";return a},present:function(a){return $(a).value!=""},activate:function(a){a=$(a);try{a.focus();if(a.select&&(a.tagName.toLowerCase()!="input"||!(/^(?:button|reset|submit)$/i.test(a.type)))){a.select()}}catch(c){}return a},disable:function(a){a=$(a);a.disabled=true;return a},enable:function(a){a=$(a);a.disabled=false;return a}};var Field=Form.Element;var $F=Form.Element.Methods.getValue;Form.Element.Serializers=(function(){function c(j,k){switch(j.type.toLowerCase()){case"checkbox":case"radio":return g(j,k);default:return f(j,k)}}function g(j,k){if(Object.isUndefined(k)){return j.checked?j.value:null}else{j.checked=!!k}}function f(j,k){if(Object.isUndefined(k)){return j.value}else{j.value=k}}function a(l,o){if(Object.isUndefined(o)){return(l.type==="select-one"?d:e)(l)}var k,m,p=!Object.isArray(o);for(var j=0,n=l.length;j<n;j++){k=l.options[j];m=this.optionValue(k);if(p){if(m==o){k.selected=true;return}}else{k.selected=o.include(m)}}}function d(k){var j=k.selectedIndex;return j>=0?h(k.options[j]):null}function e(m){var j,n=m.length;if(!n){return null}for(var l=0,j=[];l<n;l++){var k=m.options[l];if(k.selected){j.push(h(k))}}return j}function h(j){return Element.hasAttribute(j,"value")?j.value:j.text}return{input:c,inputSelector:g,textarea:f,select:a,selectOne:d,selectMany:e,optionValue:h,button:f}})();Abstract.TimedObserver=Class.create(PeriodicalExecuter,{initialize:function($super,a,c,d){$super(d,c);this.element=$(a);this.lastValue=this.getValue()},execute:function(){var a=this.getValue();if(Object.isString(this.lastValue)&&Object.isString(a)?this.lastValue!=a:String(this.lastValue)!=String(a)){this.callback(this.element,a);this.lastValue=a}}});Form.Element.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.Element.getValue(this.element)}});Form.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.serialize(this.element)}});Abstract.EventObserver=Class.create({initialize:function(a,c){this.element=$(a);this.callback=c;this.lastValue=this.getValue();if(this.element.tagName.toLowerCase()=="form"){this.registerFormCallbacks()}else{this.registerCallback(this.element)}},onElementEvent:function(){var a=this.getValue();if(this.lastValue!=a){this.callback(this.element,a);this.lastValue=a}},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback,this)},registerCallback:function(a){if(a.type){switch(a.type.toLowerCase()){case"checkbox":case"radio":Event.observe(a,"click",this.onElementEvent.bind(this));break;default:Event.observe(a,"change",this.onElementEvent.bind(this));break}}}});Form.Element.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.Element.getValue(this.element)}});Form.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.serialize(this.element)}});(function(){var F={KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_INSERT:45,cache:{}};var g=document.documentElement;var G="onmouseenter" in g&&"onmouseleave" in g;var a=function(H){return false};if(window.attachEvent){if(window.addEventListener){a=function(H){return !(H instanceof window.Event)}}else{a=function(H){return true}}}var u;function D(I,H){return I.which?(I.which===H+1):(I.button===H)}var q={0:1,1:4,2:2};function B(I,H){return I.button===q[H]}function E(I,H){switch(H){case 0:return I.which==1&&!I.metaKey;case 1:return I.which==2||(I.which==1&&I.metaKey);case 2:return I.which==3;default:return false}}if(window.attachEvent){if(!window.addEventListener){u=B}else{u=function(I,H){return a(I)?B(I,H):D(I,H)}}}else{if(Prototype.Browser.WebKit){u=E}else{u=D}}function y(H){return u(H,0)}function w(H){return u(H,1)}function p(H){return u(H,2)}function e(J){J=F.extend(J);var I=J.target,H=J.type,K=J.currentTarget;if(K&&K.tagName){if(H==="load"||H==="error"||(H==="click"&&K.tagName.toLowerCase()==="input"&&K.type==="radio")){I=K}}if(I.nodeType==Node.TEXT_NODE){I=I.parentNode}return Element.extend(I)}function r(I,J){var H=F.element(I);if(!J){return H}while(H){if(Object.isElement(H)&&Prototype.Selector.match(H,J)){return Element.extend(H)}H=H.parentNode}}function v(H){return{x:d(H),y:c(H)}}function d(J){var I=document.documentElement,H=document.body||{scrollLeft:0};return J.pageX||(J.clientX+(I.scrollLeft||H.scrollLeft)-(I.clientLeft||0))}function c(J){var I=document.documentElement,H=document.body||{scrollTop:0};return J.pageY||(J.clientY+(I.scrollTop||H.scrollTop)-(I.clientTop||0))}function t(H){F.extend(H);H.preventDefault();H.stopPropagation();H.stopped=true}F.Methods={isLeftClick:y,isMiddleClick:w,isRightClick:p,element:e,findElement:r,pointer:v,pointerX:d,pointerY:c,stop:t};var A=Object.keys(F.Methods).inject({},function(H,I){H[I]=F.Methods[I].methodize();return H});if(window.attachEvent){function k(I){var H;switch(I.type){case"mouseover":case"mouseenter":H=I.fromElement;break;case"mouseout":case"mouseleave":H=I.toElement;break;default:return null}return Element.extend(H)}var x={stopPropagation:function(){this.cancelBubble=true},preventDefault:function(){this.returnValue=false},inspect:function(){return"[object Event]"}};F.extend=function(I,H){if(!I){return false}if(!a(I)){return I}if(I._extendedByPrototype){return I}I._extendedByPrototype=Prototype.emptyFunction;var J=F.pointer(I);Object.extend(I,{target:I.srcElement||H,relatedTarget:k(I),pageX:J.x,pageY:J.y});Object.extend(I,A);Object.extend(I,x);return I}}else{F.extend=Prototype.K}if(window.addEventListener){F.prototype=window.Event.prototype||document.createEvent("HTMLEvents").__proto__;Object.extend(F.prototype,A)}function o(L,K,M){var J=Element.retrieve(L,"prototype_event_registry");if(Object.isUndefined(J)){f.push(L);J=Element.retrieve(L,"prototype_event_registry",$H())}var H=J.get(K);if(Object.isUndefined(H)){H=[];J.set(K,H)}if(H.pluck("handler").include(M)){return false}var I;if(K.include(":")){I=function(N){if(Object.isUndefined(N.eventName)){return false}if(N.eventName!==K){return false}F.extend(N,L);M.call(L,N)}}else{if(!G&&(K==="mouseenter"||K==="mouseleave")){if(K==="mouseenter"||K==="mouseleave"){I=function(O){F.extend(O,L);var N=O.relatedTarget;while(N&&N!==L){try{N=N.parentNode}catch(P){N=L}}if(N===L){return}M.call(L,O)}}}else{I=function(N){F.extend(N,L);M.call(L,N)}}}I.handler=M;H.push(I);return I}function j(){for(var H=0,I=f.length;H<I;H++){F.stopObserving(f[H]);f[H]=null}}var f=[];if(Prototype.Browser.IE){window.attachEvent("onunload",j)}if(Prototype.Browser.WebKit){window.addEventListener("unload",Prototype.emptyFunction,false)}var n=Prototype.K,h={mouseenter:"mouseover",mouseleave:"mouseout"};if(!G){n=function(H){return(h[H]||H)}}function z(K,J,L){K=$(K);var I=o(K,J,L);if(!I){return K}if(J.include(":")){if(K.addEventListener){K.addEventListener("dataavailable",I,false)}else{K.attachEvent("ondataavailable",I);K.attachEvent("onlosecapture",I)}}else{var H=n(J);if(K.addEventListener){K.addEventListener(H,I,false)}else{K.attachEvent("on"+H,I)}}return K}function m(N,K,O){N=$(N);var J=Element.retrieve(N,"prototype_event_registry");if(!J){return N}if(!K){J.each(function(Q){var P=Q.key;m(N,P)});return N}var L=J.get(K);if(!L){return N}if(!O){L.each(function(P){m(N,K,P.handler)});return N}var M=L.length,I;while(M--){if(L[M].handler===O){I=L[M];break}}if(!I){return N}if(K.include(":")){if(N.removeEventListener){N.removeEventListener("dataavailable",I,false)}else{N.detachEvent("ondataavailable",I);N.detachEvent("onlosecapture",I)}}else{var H=n(K);if(N.removeEventListener){N.removeEventListener(H,I,false)}else{N.detachEvent("on"+H,I)}}J.set(K,L.without(I));return N}function C(K,J,I,H){K=$(K);if(Object.isUndefined(H)){H=true}if(K==document&&document.createEvent&&!K.dispatchEvent){K=document.documentElement}var L;if(document.createEvent){L=document.createEvent("HTMLEvents");L.initEvent("dataavailable",H,true)}else{L=document.createEventObject();L.eventType=H?"ondataavailable":"onlosecapture"}L.eventName=J;L.memo=I||{};if(document.createEvent){K.dispatchEvent(L)}else{K.fireEvent(L.eventType,L)}return F.extend(L)}F.Handler=Class.create({initialize:function(J,I,H,K){this.element=$(J);this.eventName=I;this.selector=H;this.callback=K;this.handler=this.handleEvent.bind(this)},start:function(){F.observe(this.element,this.eventName,this.handler);return this},stop:function(){F.stopObserving(this.element,this.eventName,this.handler);return this},handleEvent:function(I){var H=F.findElement(I,this.selector);if(H){this.callback.call(this.element,I,H)}}});function l(J,I,H,K){J=$(J);if(Object.isFunction(H)&&Object.isUndefined(K)){K=H,H=null}return new F.Handler(J,I,H,K).start()}Object.extend(F,F.Methods);Object.extend(F,{fire:C,observe:z,stopObserving:m,on:l});Element.addMethods({fire:C,observe:z,stopObserving:m,on:l});Object.extend(document,{fire:C.methodize(),observe:z.methodize(),stopObserving:m.methodize(),on:l.methodize(),loaded:false});if(window.Event){Object.extend(window.Event,F)}else{window.Event=F}})();(function(){var e;function a(){if(document.loaded){return}if(e){window.clearTimeout(e)}document.loaded=true;document.fire("dom:loaded")}function d(){if(document.readyState==="complete"){document.stopObserving("readystatechange",d);a()}}function c(){try{document.documentElement.doScroll("left")}catch(f){e=c.defer();return}a()}if(document.addEventListener){document.addEventListener("DOMContentLoaded",a,false)}else{document.observe("readystatechange",d);if(window==top){e=c.defer()}}Event.observe(window,"load",a)})();Element.addMethods();Hash.toQueryString=Object.toQueryString;var Toggle={display:Element.toggle};Element.Methods.childOf=Element.Methods.descendantOf;var Insertion={Before:function(a,c){return Element.insert(a,{before:c})},Top:function(a,c){return Element.insert(a,{top:c})},Bottom:function(a,c){return Element.insert(a,{bottom:c})},After:function(a,c){return Element.insert(a,{after:c})}};var $continue=new Error('"throw $continue" is deprecated, use "return" instead');var Position={includeScrollOffsets:false,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},within:function(c,a,d){if(this.includeScrollOffsets){return this.withinIncludingScrolloffsets(c,a,d)}this.xcomp=a;this.ycomp=d;this.offset=Element.cumulativeOffset(c);return(d>=this.offset[1]&&d<this.offset[1]+c.offsetHeight&&a>=this.offset[0]&&a<this.offset[0]+c.offsetWidth)},withinIncludingScrolloffsets:function(c,a,e){var d=Element.cumulativeScrollOffset(c);this.xcomp=a+d[0]-this.deltaX;this.ycomp=e+d[1]-this.deltaY;this.offset=Element.cumulativeOffset(c);return(this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+c.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+c.offsetWidth)},overlap:function(c,a){if(!c){return 0}if(c=="vertical"){return((this.offset[1]+a.offsetHeight)-this.ycomp)/a.offsetHeight}if(c=="horizontal"){return((this.offset[0]+a.offsetWidth)-this.xcomp)/a.offsetWidth}},cumulativeOffset:Element.Methods.cumulativeOffset,positionedOffset:Element.Methods.positionedOffset,absolutize:function(a){Position.prepare();return Element.absolutize(a)},relativize:function(a){Position.prepare();return Element.relativize(a)},realOffset:Element.Methods.cumulativeScrollOffset,offsetParent:Element.Methods.getOffsetParent,page:Element.Methods.viewportOffset,clone:function(c,d,a){a=a||{};return Element.clonePosition(d,c,a)}};if(!document.getElementsByClassName){document.getElementsByClassName=function(c){function a(d){return d.blank()?null:"[contains(concat(' ', @class, ' '), ' "+d+" ')]"}c.getElementsByClassName=Prototype.BrowserFeatures.XPath?function(d,f){f=f.toString().strip();var e=/\s/.test(f)?$w(f).map(a).join(""):a(f);return e?document._getElementsByXPath(".//*"+e,d):[]}:function(f,g){g=g.toString().strip();var h=[],j=(/\s/.test(g)?$w(g):null);if(!j&&!g){return h}var d=$(f).getElementsByTagName("*");g=" "+g+" ";for(var e=0,l,k;l=d[e];e++){if(l.className&&(k=" "+l.className+" ")&&(k.include(g)||(j&&j.all(function(m){return !m.toString().blank()&&k.include(" "+m+" ")})))){h.push(Element.extend(l))}}return h};return function(e,d){return $(d||document.body).getElementsByClassName(e)}}(Element.Methods)}Element.ClassNames=Class.create();Element.ClassNames.prototype={initialize:function(a){this.element=$(a)},_each:function(a){this.element.className.split(/\s+/).select(function(c){return c.length>0})._each(a)},set:function(a){this.element.className=a},add:function(a){if(this.include(a)){return}this.set($A(this).concat(a).join(" "))},remove:function(a){if(!this.include(a)){return}this.set($A(this).without(a).join(" "))},toString:function(){return $A(this).join(" ")}};Object.extend(Element.ClassNames.prototype,Enumerable);(function(){window.Selector=Class.create({initialize:function(a){this.expression=a.strip()},findElements:function(a){return Prototype.Selector.select(this.expression,a)},match:function(a){return Prototype.Selector.match(a,this.expression)},toString:function(){return this.expression},inspect:function(){return"#<Selector: "+this.expression+">"}});Object.extend(Selector,{matchElements:function(g,h){var a=Prototype.Selector.match,e=[];for(var d=0,f=g.length;d<f;d++){var c=g[d];if(a(c,h)){e.push(Element.extend(c))}}return e},findElement:function(g,h,c){c=c||0;var a=0,e;for(var d=0,f=g.length;d<f;d++){e=g[d];if(Prototype.Selector.match(e,h)&&c===a++){return Element.extend(e)}}},findChildElements:function(c,d){var a=d.toArray().join(", ");return Prototype.Selector.select(a,c||document)}})})();String.prototype.parseColor=function(){var a="#";if(this.slice(0,4)=="rgb("){var d=this.slice(4,this.length-1).split(",");var c=0;do{a+=parseInt(d[c]).toColorPart()}while(++c<3)}else{if(this.slice(0,1)=="#"){if(this.length==4){for(var c=1;c<4;c++){a+=(this.charAt(c)+this.charAt(c)).toLowerCase()}}if(this.length==7){a=this.toLowerCase()}}}return(a.length==7?a:(arguments[0]||this))};Element.collectTextNodes=function(a){return $A($(a).childNodes).collect(function(c){return(c.nodeType==3?c.nodeValue:(c.hasChildNodes()?Element.collectTextNodes(c):""))}).flatten().join("")};Element.collectTextNodesIgnoreClass=function(a,c){return $A($(a).childNodes).collect(function(d){return(d.nodeType==3?d.nodeValue:((d.hasChildNodes()&&!Element.hasClassName(d,c))?Element.collectTextNodesIgnoreClass(d,c):""))}).flatten().join("")};Element.setContentZoom=function(a,c){a=$(a);a.setStyle({fontSize:(c/100)+"em"});if(Prototype.Browser.WebKit){window.scrollBy(0,0)}return a};Element.getInlineOpacity=function(a){return $(a).style.opacity||""};Element.forceRerendering=function(a){try{a=$(a);var d=document.createTextNode(" ");a.appendChild(d);a.removeChild(d)}catch(c){}};var Effect={_elementDoesNotExistError:{name:"ElementDoesNotExistError",message:"The specified DOM element does not exist, but is required for this effect to operate"},Transitions:{linear:Prototype.K,sinoidal:function(a){return(-Math.cos(a*Math.PI)/2)+0.5},reverse:function(a){return 1-a},flicker:function(a){var a=((-Math.cos(a*Math.PI)/4)+0.75)+Math.random()/4;return a>1?1:a},wobble:function(a){return(-Math.cos(a*Math.PI*(9*a))/2)+0.5},pulse:function(c,a){return(-Math.cos((c*((a||5)-0.5)*2)*Math.PI)/2)+0.5},spring:function(a){return 1-(Math.cos(a*4.5*Math.PI)*Math.exp(-a*6))},none:function(a){return 0},full:function(a){return 1}},DefaultOptions:{duration:1,fps:100,sync:false,from:0,to:1,delay:0,queue:"parallel"},tagifyText:function(a){var c="position:relative";if(Prototype.Browser.IE){c+=";zoom:1"}a=$(a);$A(a.childNodes).each(function(d){if(d.nodeType==3){d.nodeValue.toArray().each(function(e){a.insertBefore(new Element("span",{style:c}).update(e==" "?String.fromCharCode(160):e),d)});Element.remove(d)}})},multiple:function(c,d){var f;if(((typeof c=="object")||Object.isFunction(c))&&(c.length)){f=c}else{f=$(c).childNodes}var a=Object.extend({speed:0.1,delay:0},arguments[2]||{});var e=a.delay;$A(f).each(function(h,g){new d(h,Object.extend(a,{delay:g*a.speed+e}))})},PAIRS:{slide:["SlideDown","SlideUp"],blind:["BlindDown","BlindUp"],appear:["Appear","Fade"]},toggle:function(c,d,a){c=$(c);d=(d||"appear").toLowerCase();return Effect[Effect.PAIRS[d][c.visible()?1:0]](c,Object.extend({queue:{position:"end",scope:(c.id||"global"),limit:1}},a||{}))}};Effect.DefaultOptions.transition=Effect.Transitions.sinoidal;Effect.ScopedQueue=Class.create(Enumerable,{initialize:function(){this.effects=[];this.interval=null},_each:function(a){this.effects._each(a)},add:function(c){var d=new Date().getTime();var a=Object.isString(c.options.queue)?c.options.queue:c.options.queue.position;switch(a){case"front":this.effects.findAll(function(f){return f.state=="idle"}).each(function(f){f.startOn+=c.finishOn;f.finishOn+=c.finishOn});break;case"with-last":d=this.effects.pluck("startOn").max()||d;break;case"end":d=this.effects.pluck("finishOn").max()||d;break}c.startOn+=d;c.finishOn+=d;if(!c.options.queue.limit||(this.effects.length<c.options.queue.limit)){this.effects.push(c)}if(!this.interval){this.interval=setInterval(this.loop.bind(this),15)}},remove:function(a){this.effects=this.effects.reject(function(c){return c==a});if(this.effects.length==0){clearInterval(this.interval);this.interval=null}},loop:function(){var d=new Date().getTime();for(var c=0,a=this.effects.length;c<a;c++){this.effects[c]&&this.effects[c].loop(d)}}});Effect.Queues={instances:$H(),get:function(a){if(!Object.isString(a)){return a}return this.instances.get(a)||this.instances.set(a,new Effect.ScopedQueue())}};Effect.Queue=Effect.Queues.get("global");Effect.Base=Class.create({position:null,start:function(a){if(a&&a.transition===false){a.transition=Effect.Transitions.linear}this.options=Object.extend(Object.extend({},Effect.DefaultOptions),a||{});this.currentFrame=0;this.state="idle";this.startOn=this.options.delay*1000;this.finishOn=this.startOn+(this.options.duration*1000);this.fromToDelta=this.options.to-this.options.from;this.totalTime=this.finishOn-this.startOn;this.totalFrames=this.options.fps*this.options.duration;this.render=(function(){function c(e,d){if(e.options[d+"Internal"]){e.options[d+"Internal"](e)}if(e.options[d]){e.options[d](e)}}return function(d){if(this.state==="idle"){this.state="running";c(this,"beforeSetup");if(this.setup){this.setup()}c(this,"afterSetup")}if(this.state==="running"){d=(this.options.transition(d)*this.fromToDelta)+this.options.from;this.position=d;c(this,"beforeUpdate");if(this.update){this.update(d)}c(this,"afterUpdate")}}})();this.event("beforeStart");if(!this.options.sync){Effect.Queues.get(Object.isString(this.options.queue)?"global":this.options.queue.scope).add(this)}},loop:function(d){if(d>=this.startOn){if(d>=this.finishOn){this.render(1);this.cancel();this.event("beforeFinish");if(this.finish){this.finish()}this.event("afterFinish");return}var c=(d-this.startOn)/this.totalTime,a=(c*this.totalFrames).round();if(a>this.currentFrame){this.render(c);this.currentFrame=a}}},cancel:function(){if(!this.options.sync){Effect.Queues.get(Object.isString(this.options.queue)?"global":this.options.queue.scope).remove(this)}this.state="finished"},event:function(a){if(this.options[a+"Internal"]){this.options[a+"Internal"](this)}if(this.options[a]){this.options[a](this)}},inspect:function(){var a=$H();for(property in this){if(!Object.isFunction(this[property])){a.set(property,this[property])}}return"#<Effect:"+a.inspect()+",options:"+$H(this.options).inspect()+">"}});Effect.Parallel=Class.create(Effect.Base,{initialize:function(a){this.effects=a||[];this.start(arguments[1])},update:function(a){this.effects.invoke("render",a)},finish:function(a){this.effects.each(function(c){c.render(1);c.cancel();c.event("beforeFinish");if(c.finish){c.finish(a)}c.event("afterFinish")})}});Effect.Tween=Class.create(Effect.Base,{initialize:function(d,g,f){d=Object.isString(d)?$(d):d;var c=$A(arguments),e=c.last(),a=c.length==5?c[3]:null;this.method=Object.isFunction(e)?e.bind(d):Object.isFunction(d[e])?d[e].bind(d):function(h){d[e]=h};this.start(Object.extend({from:g,to:f},a||{}))},update:function(a){this.method(a)}});Effect.Event=Class.create(Effect.Base,{initialize:function(){this.start(Object.extend({duration:0},arguments[0]||{}))},update:Prototype.emptyFunction});Effect.Opacity=Class.create(Effect.Base,{initialize:function(c){this.element=$(c);if(!this.element){throw (Effect._elementDoesNotExistError)}if(Prototype.Browser.IE&&(!this.element.currentStyle.hasLayout)){this.element.setStyle({zoom:1})}var a=Object.extend({from:this.element.getOpacity()||0,to:1},arguments[1]||{});this.start(a)},update:function(a){this.element.setOpacity(a)}});Effect.Move=Class.create(Effect.Base,{initialize:function(c){this.element=$(c);if(!this.element){throw (Effect._elementDoesNotExistError)}var a=Object.extend({x:0,y:0,mode:"relative"},arguments[1]||{});this.start(a)},setup:function(){this.element.makePositioned();this.originalLeft=parseFloat(this.element.getStyle("left")||"0");this.originalTop=parseFloat(this.element.getStyle("top")||"0");if(this.options.mode=="absolute"){this.options.x=this.options.x-this.originalLeft;this.options.y=this.options.y-this.originalTop}},update:function(a){this.element.setStyle({left:(this.options.x*a+this.originalLeft).round()+"px",top:(this.options.y*a+this.originalTop).round()+"px"})}});Effect.MoveBy=function(c,a,d){return new Effect.Move(c,Object.extend({x:d,y:a},arguments[3]||{}))};Effect.Scale=Class.create(Effect.Base,{initialize:function(c,d){this.element=$(c);if(!this.element){throw (Effect._elementDoesNotExistError)}var a=Object.extend({scaleX:true,scaleY:true,scaleContent:true,scaleFromCenter:false,scaleMode:"box",scaleFrom:100,scaleTo:d},arguments[2]||{});this.start(a)},setup:function(){this.restoreAfterFinish=this.options.restoreAfterFinish||false;this.elementPositioning=this.element.getStyle("position");this.originalStyle={};["top","left","width","height","fontSize"].each(function(c){this.originalStyle[c]=this.element.style[c]}.bind(this));this.originalTop=this.element.offsetTop;this.originalLeft=this.element.offsetLeft;var a=this.element.getStyle("font-size")||"100%";["em","px","%","pt"].each(function(c){if(a.indexOf(c)>0){this.fontSize=parseFloat(a);this.fontSizeType=c}}.bind(this));this.factor=(this.options.scaleTo-this.options.scaleFrom)/100;this.dims=null;if(this.options.scaleMode=="box"){this.dims=[this.element.offsetHeight,this.element.offsetWidth]}if(/^content/.test(this.options.scaleMode)){this.dims=[this.element.scrollHeight,this.element.scrollWidth]}if(!this.dims){this.dims=[this.options.scaleMode.originalHeight,this.options.scaleMode.originalWidth]}},update:function(a){var c=(this.options.scaleFrom/100)+(this.factor*a);if(this.options.scaleContent&&this.fontSize){this.element.setStyle({fontSize:this.fontSize*c+this.fontSizeType})}this.setDimensions(this.dims[0]*c,this.dims[1]*c)},finish:function(a){if(this.restoreAfterFinish){this.element.setStyle(this.originalStyle)}},setDimensions:function(a,f){var g={};if(this.options.scaleX){g.width=f.round()+"px"}if(this.options.scaleY){g.height=a.round()+"px"}if(this.options.scaleFromCenter){var e=(a-this.dims[0])/2;var c=(f-this.dims[1])/2;if(this.elementPositioning=="absolute"){if(this.options.scaleY){g.top=this.originalTop-e+"px"}if(this.options.scaleX){g.left=this.originalLeft-c+"px"}}else{if(this.options.scaleY){g.top=-e+"px"}if(this.options.scaleX){g.left=-c+"px"}}}this.element.setStyle(g)}});Effect.Highlight=Class.create(Effect.Base,{initialize:function(c){this.element=$(c);if(!this.element){throw (Effect._elementDoesNotExistError)}var a=Object.extend({startcolor:"#ffff99"},arguments[1]||{});this.start(a)},setup:function(){if(this.element.getStyle("display")=="none"){this.cancel();return}this.oldStyle={};if(!this.options.keepBackgroundImage){this.oldStyle.backgroundImage=this.element.getStyle("background-image");this.element.setStyle({backgroundImage:"none"})}if(!this.options.endcolor){this.options.endcolor=this.element.getStyle("background-color").parseColor("#ffffff")}if(!this.options.restorecolor){this.options.restorecolor=this.element.getStyle("background-color")}this._base=$R(0,2).map(function(a){return parseInt(this.options.startcolor.slice(a*2+1,a*2+3),16)}.bind(this));this._delta=$R(0,2).map(function(a){return parseInt(this.options.endcolor.slice(a*2+1,a*2+3),16)-this._base[a]}.bind(this))},update:function(a){this.element.setStyle({backgroundColor:$R(0,2).inject("#",function(c,d,e){return c+((this._base[e]+(this._delta[e]*a)).round().toColorPart())}.bind(this))})},finish:function(){this.element.setStyle(Object.extend(this.oldStyle,{backgroundColor:this.options.restorecolor}))}});Effect.ScrollTo=function(d){var c=arguments[1]||{},a=document.viewport.getScrollOffsets(),e=$(d).cumulativeOffset();if(c.offset){e[1]+=c.offset}return new Effect.Tween(null,a.top,e[1],c,function(f){scrollTo(a.left,f.round())})};Effect.Fade=function(d){d=$(d);var a=d.getInlineOpacity();var c=Object.extend({from:d.getOpacity()||1,to:0,afterFinishInternal:function(e){if(e.options.to!=0){return}e.element.hide().setStyle({opacity:a})}},arguments[1]||{});return new Effect.Opacity(d,c)};Effect.Appear=function(c){c=$(c);var a=Object.extend({from:(c.getStyle("display")=="none"?0:c.getOpacity()||0),to:1,afterFinishInternal:function(d){d.element.forceRerendering()},beforeSetup:function(d){d.element.setOpacity(d.options.from).show()}},arguments[1]||{});return new Effect.Opacity(c,a)};Effect.Puff=function(c){c=$(c);var a={opacity:c.getInlineOpacity(),position:c.getStyle("position"),top:c.style.top,left:c.style.left,width:c.style.width,height:c.style.height};return new Effect.Parallel([new Effect.Scale(c,200,{sync:true,scaleFromCenter:true,scaleContent:true,restoreAfterFinish:true}),new Effect.Opacity(c,{sync:true,to:0})],Object.extend({duration:1,beforeSetupInternal:function(d){Position.absolutize(d.effects[0].element)},afterFinishInternal:function(d){d.effects[0].element.hide().setStyle(a)}},arguments[1]||{}))};Effect.BlindUp=function(a){a=$(a);a.makeClipping();return new Effect.Scale(a,0,Object.extend({scaleContent:false,scaleX:false,restoreAfterFinish:true,afterFinishInternal:function(c){c.element.hide().undoClipping()}},arguments[1]||{}))};Effect.BlindDown=function(c){c=$(c);var a=c.getDimensions();return new Effect.Scale(c,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:0,scaleMode:{originalHeight:a.height,originalWidth:a.width},restoreAfterFinish:true,afterSetup:function(d){d.element.makeClipping().setStyle({height:"0px"}).show()},afterFinishInternal:function(d){d.element.undoClipping()}},arguments[1]||{}))};Effect.SwitchOff=function(c){c=$(c);var a=c.getInlineOpacity();return new Effect.Appear(c,Object.extend({duration:0.4,from:0,transition:Effect.Transitions.flicker,afterFinishInternal:function(d){new Effect.Scale(d.element,1,{duration:0.3,scaleFromCenter:true,scaleX:false,scaleContent:false,restoreAfterFinish:true,beforeSetup:function(e){e.element.makePositioned().makeClipping()},afterFinishInternal:function(e){e.element.hide().undoClipping().undoPositioned().setStyle({opacity:a})}})}},arguments[1]||{}))};Effect.DropOut=function(c){c=$(c);var a={top:c.getStyle("top"),left:c.getStyle("left"),opacity:c.getInlineOpacity()};return new Effect.Parallel([new Effect.Move(c,{x:0,y:100,sync:true}),new Effect.Opacity(c,{sync:true,to:0})],Object.extend({duration:0.5,beforeSetup:function(d){d.effects[0].element.makePositioned()},afterFinishInternal:function(d){d.effects[0].element.hide().undoPositioned().setStyle(a)}},arguments[1]||{}))};Effect.Shake=function(e){e=$(e);var c=Object.extend({distance:20,duration:0.5},arguments[1]||{});var f=parseFloat(c.distance);var d=parseFloat(c.duration)/10;var a={top:e.getStyle("top"),left:e.getStyle("left")};return new Effect.Move(e,{x:f,y:0,duration:d,afterFinishInternal:function(g){new Effect.Move(g.element,{x:-f*2,y:0,duration:d*2,afterFinishInternal:function(h){new Effect.Move(h.element,{x:f*2,y:0,duration:d*2,afterFinishInternal:function(j){new Effect.Move(j.element,{x:-f*2,y:0,duration:d*2,afterFinishInternal:function(k){new Effect.Move(k.element,{x:f*2,y:0,duration:d*2,afterFinishInternal:function(l){new Effect.Move(l.element,{x:-f,y:0,duration:d,afterFinishInternal:function(m){m.element.undoPositioned().setStyle(a)}})}})}})}})}})}})};Effect.SlideDown=function(d){d=$(d).cleanWhitespace();var a=d.down().getStyle("bottom");var c=d.getDimensions();return new Effect.Scale(d,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:window.opera?0:1,scaleMode:{originalHeight:c.height,originalWidth:c.width},restoreAfterFinish:true,afterSetup:function(e){e.element.makePositioned();e.element.down().makePositioned();if(window.opera){e.element.setStyle({top:""})}e.element.makeClipping().setStyle({height:"0px"}).show()},afterUpdateInternal:function(e){e.element.down().setStyle({bottom:(e.dims[0]-e.element.clientHeight)+"px"})},afterFinishInternal:function(e){e.element.undoClipping().undoPositioned();e.element.down().undoPositioned().setStyle({bottom:a})}},arguments[1]||{}))};Effect.SlideUp=function(d){d=$(d).cleanWhitespace();var a=d.down().getStyle("bottom");var c=d.getDimensions();return new Effect.Scale(d,window.opera?0:1,Object.extend({scaleContent:false,scaleX:false,scaleMode:"box",scaleFrom:100,scaleMode:{originalHeight:c.height,originalWidth:c.width},restoreAfterFinish:true,afterSetup:function(e){e.element.makePositioned();e.element.down().makePositioned();if(window.opera){e.element.setStyle({top:""})}e.element.makeClipping().show()},afterUpdateInternal:function(e){e.element.down().setStyle({bottom:(e.dims[0]-e.element.clientHeight)+"px"})},afterFinishInternal:function(e){e.element.hide().undoClipping().undoPositioned();e.element.down().undoPositioned().setStyle({bottom:a})}},arguments[1]||{}))};Effect.Squish=function(a){return new Effect.Scale(a,window.opera?1:0,{restoreAfterFinish:true,beforeSetup:function(c){c.element.makeClipping()},afterFinishInternal:function(c){c.element.hide().undoClipping()}})};Effect.Grow=function(d){d=$(d);var c=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.full},arguments[1]||{});var a={top:d.style.top,left:d.style.left,height:d.style.height,width:d.style.width,opacity:d.getInlineOpacity()};var h=d.getDimensions();var j,g;var f,e;switch(c.direction){case"top-left":j=g=f=e=0;break;case"top-right":j=h.width;g=e=0;f=-h.width;break;case"bottom-left":j=f=0;g=h.height;e=-h.height;break;case"bottom-right":j=h.width;g=h.height;f=-h.width;e=-h.height;break;case"center":j=h.width/2;g=h.height/2;f=-h.width/2;e=-h.height/2;break}return new Effect.Move(d,{x:j,y:g,duration:0.01,beforeSetup:function(k){k.element.hide().makeClipping().makePositioned()},afterFinishInternal:function(k){new Effect.Parallel([new Effect.Opacity(k.element,{sync:true,to:1,from:0,transition:c.opacityTransition}),new Effect.Move(k.element,{x:f,y:e,sync:true,transition:c.moveTransition}),new Effect.Scale(k.element,100,{scaleMode:{originalHeight:h.height,originalWidth:h.width},sync:true,scaleFrom:window.opera?1:0,transition:c.scaleTransition,restoreAfterFinish:true})],Object.extend({beforeSetup:function(l){l.effects[0].element.setStyle({height:"0px"}).show()},afterFinishInternal:function(l){l.effects[0].element.undoClipping().undoPositioned().setStyle(a)}},c))}})};Effect.Shrink=function(d){d=$(d);var c=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.none},arguments[1]||{});var a={top:d.style.top,left:d.style.left,height:d.style.height,width:d.style.width,opacity:d.getInlineOpacity()};var g=d.getDimensions();var f,e;switch(c.direction){case"top-left":f=e=0;break;case"top-right":f=g.width;e=0;break;case"bottom-left":f=0;e=g.height;break;case"bottom-right":f=g.width;e=g.height;break;case"center":f=g.width/2;e=g.height/2;break}return new Effect.Parallel([new Effect.Opacity(d,{sync:true,to:0,from:1,transition:c.opacityTransition}),new Effect.Scale(d,window.opera?1:0,{sync:true,transition:c.scaleTransition,restoreAfterFinish:true}),new Effect.Move(d,{x:f,y:e,sync:true,transition:c.moveTransition})],Object.extend({beforeStartInternal:function(h){h.effects[0].element.makePositioned().makeClipping()},afterFinishInternal:function(h){h.effects[0].element.hide().undoClipping().undoPositioned().setStyle(a)}},c))};Effect.Pulsate=function(d){d=$(d);var c=arguments[1]||{},a=d.getInlineOpacity(),f=c.transition||Effect.Transitions.linear,e=function(g){return 1-f((-Math.cos((g*(c.pulses||5)*2)*Math.PI)/2)+0.5)};return new Effect.Opacity(d,Object.extend(Object.extend({duration:2,from:0,afterFinishInternal:function(g){g.element.setStyle({opacity:a})}},c),{transition:e}))};Effect.Fold=function(c){c=$(c);var a={top:c.style.top,left:c.style.left,width:c.style.width,height:c.style.height};c.makeClipping();return new Effect.Scale(c,5,Object.extend({scaleContent:false,scaleX:false,afterFinishInternal:function(d){new Effect.Scale(c,1,{scaleContent:false,scaleY:false,afterFinishInternal:function(e){e.element.hide().undoClipping().setStyle(a)}})}},arguments[1]||{}))};Effect.Morph=Class.create(Effect.Base,{initialize:function(d){this.element=$(d);if(!this.element){throw (Effect._elementDoesNotExistError)}var a=Object.extend({style:{}},arguments[1]||{});if(!Object.isString(a.style)){this.style=$H(a.style)}else{if(a.style.include(":")){this.style=a.style.parseStyle()}else{this.element.addClassName(a.style);this.style=$H(this.element.getStyles());this.element.removeClassName(a.style);var c=this.element.getStyles();this.style=this.style.reject(function(e){return e.value==c[e.key]});a.afterFinishInternal=function(e){e.element.addClassName(e.options.style);e.transforms.each(function(f){e.element.style[f.style]=""})}}}this.start(a)},setup:function(){function a(c){if(!c||["rgba(0, 0, 0, 0)","transparent"].include(c)){c="#ffffff"}c=c.parseColor();return $R(0,2).map(function(d){return parseInt(c.slice(d*2+1,d*2+3),16)})}this.transforms=this.style.map(function(h){var g=h[0],f=h[1],e=null;if(f.parseColor("#zzzzzz")!="#zzzzzz"){f=f.parseColor();e="color"}else{if(g=="opacity"){f=parseFloat(f);if(Prototype.Browser.IE&&(!this.element.currentStyle.hasLayout)){this.element.setStyle({zoom:1})}}else{if(Element.CSS_LENGTH.test(f)){var d=f.match(/^([\+\-]?[0-9\.]+)(.*)$/);f=parseFloat(d[1]);e=(d.length==3)?d[2]:null}}}var c=this.element.getStyle(g);return{style:g.camelize(),originalValue:e=="color"?a(c):parseFloat(c||0),targetValue:e=="color"?a(f):f,unit:e}}.bind(this)).reject(function(c){return((c.originalValue==c.targetValue)||(c.unit!="color"&&(isNaN(c.originalValue)||isNaN(c.targetValue))))})},update:function(a){var e={},c,d=this.transforms.length;while(d--){e[(c=this.transforms[d]).style]=c.unit=="color"?"#"+(Math.round(c.originalValue[0]+(c.targetValue[0]-c.originalValue[0])*a)).toColorPart()+(Math.round(c.originalValue[1]+(c.targetValue[1]-c.originalValue[1])*a)).toColorPart()+(Math.round(c.originalValue[2]+(c.targetValue[2]-c.originalValue[2])*a)).toColorPart():(c.originalValue+(c.targetValue-c.originalValue)*a).toFixed(3)+(c.unit===null?"":c.unit)}this.element.setStyle(e,true)}});Effect.Transform=Class.create({initialize:function(a){this.tracks=[];this.options=arguments[1]||{};this.addTracks(a)},addTracks:function(a){a.each(function(c){c=$H(c);var d=c.values().first();this.tracks.push($H({ids:c.keys().first(),effect:Effect.Morph,options:{style:d}}))}.bind(this));return this},play:function(){return new Effect.Parallel(this.tracks.map(function(a){var e=a.get("ids"),d=a.get("effect"),c=a.get("options");var f=[$(e)||$$(e)].flatten();return f.map(function(g){return new d(g,Object.extend({sync:true},c))})}).flatten(),this.options)}});Element.CSS_PROPERTIES=$w("backgroundColor backgroundPosition borderBottomColor borderBottomStyle borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderSpacing borderTopColor borderTopStyle borderTopWidth bottom clip color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop markerOffset maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex");Element.CSS_LENGTH=/^(([\+\-]?[0-9\.]+)(em|ex|px|in|cm|mm|pt|pc|\%))|0$/;String.__parseStyleElement=document.createElement("div");String.prototype.parseStyle=function(){var c,a=$H();if(Prototype.Browser.WebKit){c=new Element("div",{style:this}).style}else{String.__parseStyleElement.innerHTML='<div style="'+this+'"></div>';c=String.__parseStyleElement.childNodes[0].style}Element.CSS_PROPERTIES.each(function(d){if(c[d]){a.set(d,c[d])}});if(Prototype.Browser.IE&&this.include("opacity")){a.set("opacity",this.match(/opacity:\s*((?:0|1)?(?:\.\d*)?)/)[1])}return a};if(document.defaultView&&document.defaultView.getComputedStyle){Element.getStyles=function(c){var a=document.defaultView.getComputedStyle($(c),null);return Element.CSS_PROPERTIES.inject({},function(d,e){d[e]=a[e];return d})}}else{Element.getStyles=function(c){c=$(c);var a=c.currentStyle,d;d=Element.CSS_PROPERTIES.inject({},function(e,f){e[f]=a[f];return e});if(!d.opacity){d.opacity=c.getOpacity()}return d}}Effect.Methods={morph:function(a,c){a=$(a);new Effect.Morph(a,Object.extend({style:c},arguments[2]||{}));return a},visualEffect:function(d,f,c){d=$(d);var e=f.dasherize().camelize(),a=e.charAt(0).toUpperCase()+e.substring(1);new Effect[a](d,c);return d},highlight:function(c,a){c=$(c);new Effect.Highlight(c,a);return c}};$w("fade appear grow shrink fold blindUp blindDown slideUp slideDown pulsate shake puff squish switchOff dropOut").each(function(a){Effect.Methods[a]=function(d,c){d=$(d);Effect[a.charAt(0).toUpperCase()+a.substring(1)](d,c);return d}});$w("getInlineOpacity forceRerendering setContentZoom collectTextNodes collectTextNodesIgnoreClass getStyles").each(function(a){Effect.Methods[a]=Element[a]});Element.addMethods(Effect.Methods);if(typeof Prototype=="undefined"){alert("CalendarDateSelect Error: Prototype could not be found. Please make sure that your application's layout includes prototype.js (.g. <%= javascript_include_tag :defaults %>) *before* it includes calendar_date_select.js (.g. <%= calendar_date_select_includes %>).")}if(Prototype.Version<"1.6"){alert("Prototype 1.6.0 is required.  If using earlier version of prototype, please use calendar_date_select version 1.8.3")}Element.addMethods({purgeChildren:function(a){$A(a.childNodes).each(function(c){$(c).remove()})},build:function(c,e,a,d){var f=Element.buildAndAppend(e,a,d);c.appendChild(f);return f}});Element.buildAndAppend=function(d,a,c){var f=$(document.createElement(d));$H(a).each(function(e){f[e.key]=e.value});if(c){f.setStyle(c)}return f};nil=null;Date.one_day=24*60*60*1000;Date.weekdays=$w("M T W T F S S");Date.first_day_of_week=1;Date.months=$w("January February March April May June July August September October November December");Date.padded2=function(a){var c=parseInt(a,10);if(a<10){c="0"+c}return c};Date.prototype.getPaddedMinutes=function(){return Date.padded2(this.getMinutes())};Date.prototype.getAMPMHour=function(){var a=this.getHours();return(a==0)?12:(a>12?a-12:a)};Date.prototype.getAMPM=function(){return(this.getHours()<12)?"AM":"PM"};Date.prototype.stripTime=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate())};Date.prototype.daysDistance=function(a){return Math.round((a-this)/Date.one_day)};Date.prototype.toFormattedString=function(c){var a,d;d=Date.months[this.getMonth()]+" "+this.getUTCDate()+", "+this.getFullYear();if(c){a=this.getHours();d+=" "+this.getAMPMHour()+":"+this.getPaddedMinutes()+" "+this.getAMPM()}return d};Date.prototype.toUniversalFormattedString=function(c){var a,d;d=""+(this.getMonth()+1)+"/"+this.getDate()+"/"+this.getFullYear();if(c){a=this.getHours();d+=" "+this.getAMPMHour()+":"+this.getPaddedMinutes()+" "+this.getAMPM()}return d};Date.parseISOString=function(a){return new Date(a.gsub("-","/"))};Date.parseFormattedString=function(a){return new Date(a)};Math.floor_to_interval=function(c,a){return Math.floor(c/a)*a};window.f_height=function(){return([window.innerHeight?window.innerHeight:null,document.documentElement?document.documentElement.clientHeight:null,document.body?document.body.clientHeight:null].select(function(a){return a>0}).first()||0)};window.f_scrollTop=function(){return([window.pageYOffset?window.pageYOffset:null,document.documentElement?document.documentElement.scrollTop:null,document.body?document.body.scrollTop:null].select(function(a){return a>0}).first()||0)};_translations={OK:"OK",Now:"Now",Today:"Today",Clear:"Clear"};SelectBox=Class.create();SelectBox.prototype={initialize:function(e,c,d,a){this.element=$(e).build("select",d,a);this.populate(c)},populate:function(a){this.element.purgeChildren();var c=this;$A(a).each(function(d){if(typeof(d)!="object"){d=[d,d]}c.element.build("option",{value:d[1],innerHTML:d[0]})})},setValue:function(c){var d=this.element;var a=false;$R(0,d.options.length-1).each(function(e){if(d.options[e].value==c.toString()){d.selectedIndex=e;a=true}});return a},getValue:function(){return $F(this.element)}};CalendarDateSelect=Class.create();CalendarDateSelect.prototype={initialize:function(c,a){this.target_element=$(c);if(this.target_element.disabled===true){return false}if(!this.target_element){alert("Target element "+c+" not found!");return false}if(this.target_element.tagName!="INPUT"){this.target_element=this.target_element.down("INPUT")}this.hidden_target_element=this.target_element.previous()||this.target_element;this.target_element.calendar_date_select=this;this.last_click_at=0;this.options=$H({embedded:false,popup:nil,time:false,buttons:true,clear_button:true,year_range:10,close_on_click:nil,minute_interval:5,popup_by:this.target_element,month_year:"dropdowns",onchange:this.target_element.onchange,valid_date_check:nil}).merge(a||{});this.use_time=this.options.get("time");this.parseDate();this.callback("before_show");this.initCalendarDiv();if(!this.options.get("embedded")){this.positionCalendarDiv();Event.observe(document,"mousedown",this.closeIfClickedOut_handler=this.closeIfClickedOut.bindAsEventListener(this));Event.observe(document,"keypress",this.keyPress_handler=this.keyPress.bindAsEventListener(this))}this.callback("after_show")},positionCalendarDiv:function(){var o=false;var k=this.calendar_div.cumulativeOffset(),m=k[0],j=k[1],d=this.calendar_div.getDimensions(),p=d.height,c=d.width;var n=window.f_scrollTop(),e=window.f_height();var q=$(this.options.get("popup_by")).cumulativeOffset(),g=q[1],r=q[0],h=$(this.options.get("popup_by")).getDimensions().height,l=g+h;if(((l+p)>(n+e))&&(l-p>n)){o=true}var a=r.toString()+"px",f=(o?(g-p):(g+h)).toString()+"px";this.calendar_div.style.left=a;this.calendar_div.style.top=f;this.calendar_div.setStyle({visibility:""});if(Prototype.Browser.IE&&parseInt(navigator.userAgent.substring(navigator.userAgent.indexOf("MSIE")+5))==6){this.iframe=$(document.body).build("iframe",{src:"javascript:false",className:"ie6_blocker"},{left:a,top:f,height:p.toString()+"px",width:c.toString()+"px",border:"0px"})}},initCalendarDiv:function(){if(this.options.get("embedded")){var parent=this.target_element.parentNode;var style={}}else{var parent=document.body;var style={visibility:"hidden",left:0,top:0}}this.calendar_div=new Element("div",{},style);this.calendar_div.addClassName("calendar_date_select");if(!this.options.get("embedded")){this.calendar_div.addClassName("calendar_date_select_popup")}$(parent).insert({top:this.calendar_div});var that=this;$w("top header body buttons footer bottom").each(function(name){eval("var "+name+"_div = that."+name+"_div = that.calendar_div.build('div'); that."+name+"_div.addClassName('cds_"+name+"'); that."+name+"_div.setStyle({clear: 'left'}); ")});this.initHeaderDiv();this.initButtonsDiv();this.initCalendarGrid();this.updateFooter("&#160;");this.refresh();this.setUseTime(this.use_time)},initHeaderDiv:function(){var a=this.header_div;this.close_button=a.build("a",{innerHTML:"x",href:"#",onclick:function(){this.close();return false}.bindAsEventListener(this),className:"close"});this.next_month_button=a.build("a",{innerHTML:"&gt;",href:"#",onclick:function(){this.navMonth(this.date.getMonth()+1);return false}.bindAsEventListener(this),className:"next"});this.prev_month_button=a.build("a",{innerHTML:"&lt;",href:"#",onclick:function(){this.navMonth(this.date.getMonth()-1);return false}.bindAsEventListener(this),className:"prev"});if(this.options.get("month_year")=="dropdowns"){this.month_select=new SelectBox(a,$R(0,11).map(function(c){return[Date.months[c],c]}),{className:"month",onchange:function(){this.navMonth(this.month_select.getValue())}.bindAsEventListener(this)});this.year_select=new SelectBox(a,[],{className:"year",onchange:function(){this.navYear(this.year_select.getValue())}.bindAsEventListener(this)});this.populateYearRange()}else{this.month_year_label=a.build("span")}},initCalendarGrid:function(){var a=this.body_div;this.calendar_day_grid=[];var h=a.build("table",{cellPadding:"0px",cellSpacing:"0px",width:"100%"});var c=h.build("thead").build("tr");Date.weekdays.each(function(j){c.build("th",{innerHTML:j})});var f=h.build("tbody");var d=0,e;for(var g=0;g<42;g++){e=(g+Date.first_day_of_week)%7;if(g%7==0){days_row=f.build("tr",{className:"row_"+d++})}(this.calendar_day_grid[g]=days_row.build("td",{calendar_date_select:this,onmouseover:function(){this.calendar_date_select.dayHover(this)},onmouseout:function(){this.calendar_date_select.dayHoverOut(this)},onclick:function(){this.calendar_date_select.updateSelectedDate(this,true)},className:(e==0)||(e==6)?" weekend":""},{cursor:"pointer"})).build("div");this.calendar_day_grid[g]}},initButtonsDiv:function(){var e=this.buttons_div;if(this.options.get("time")){var c=$A(this.options.get("time")=="mixed"?[[" - ",""]]:[]);e.build("span",{innerHTML:"@",className:"at_sign"});var a=new Date();this.hour_select=new SelectBox(e,c.concat($R(0,23).map(function(f){a.setHours(f);return $A([a.getAMPMHour()+" "+a.getAMPM(),f])})),{calendar_date_select:this,onchange:function(){this.calendar_date_select.updateSelectedDate({hour:this.value})},className:"hour"});e.build("span",{innerHTML:":",className:"seperator"});var d=this;this.minute_select=new SelectBox(e,c.concat($R(0,59).select(function(f){return(f%d.options.get("minute_interval")==0)}).map(function(f){return $A([Date.padded2(f),f])})),{calendar_date_select:this,onchange:function(){this.calendar_date_select.updateSelectedDate({minute:this.value})},className:"minute"})}else{if(!this.options.get("buttons")){e.remove()}}if(this.options.get("buttons")){e.build("span",{innerHTML:"&#160;"});if(this.options.get("time")=="mixed"||!this.options.get("time")){b=e.build("a",{innerHTML:_translations.Today,href:"#",onclick:function(){this.today(false);return false}.bindAsEventListener(this)})}if(this.options.get("time")=="mixed"){e.build("span",{innerHTML:"&#160;|&#160;",className:"button_seperator"})}if(this.options.get("time")){b=e.build("a",{innerHTML:_translations.Now,href:"#",onclick:function(){this.today(true);return false}.bindAsEventListener(this)})}if(!this.options.get("embedded")&&!this.closeOnClick()){e.build("span",{innerHTML:"&#160;|&#160;",className:"button_seperator"});e.build("a",{innerHTML:_translations.OK,href:"#",onclick:function(){this.close();return false}.bindAsEventListener(this)})}if(this.options.get("clear_button")){e.build("span",{innerHTML:"&#160;|&#160;",className:"button_seperator"});e.build("a",{innerHTML:_translations.Clear,href:"#",onclick:function(){this.clearDate();if(!this.options.get("embedded")){this.close()}return false}.bindAsEventListener(this)})}}},refresh:function(){this.refreshMonthYear();this.refreshCalendarGrid();this.setSelectedClass();this.updateFooter()},refreshCalendarGrid:function(){this.beginning_date=new Date(this.date).stripTime();this.beginning_date.setDate(1);this.beginning_date.setHours(12);var c=this.beginning_date.getDay();if(c<3){c+=7}this.beginning_date.setDate(1-c+Date.first_day_of_week);var e=new Date(this.beginning_date);var a=new Date().stripTime();var d=this.date.getMonth();vdc=this.options.get("valid_date_check");for(var f=0;f<42;f++){day=e.getDate();month=e.getMonth();cell=this.calendar_day_grid[f];Element.remove(cell.childNodes[0]);div=cell.build("div",{innerHTML:day});if(month!=d){div.className="other"}cell.day=day;cell.month=month;cell.year=e.getFullYear();if(vdc){if(vdc(e.stripTime())){cell.removeClassName("disabled")}else{cell.addClassName("disabled")}}e.setDate(day+1)}if(this.today_cell){this.today_cell.removeClassName("today")}if($R(0,41).include(days_until=this.beginning_date.stripTime().daysDistance(a))){this.today_cell=this.calendar_day_grid[days_until];this.today_cell.addClassName("today")}},refreshMonthYear:function(){var a=this.date.getMonth();var d=this.date.getFullYear();if(this.options.get("month_year")=="dropdowns"){this.month_select.setValue(a,false);var c=this.year_select.element;if(this.flexibleYearRange()&&(!(this.year_select.setValue(d,false))||c.selectedIndex<=1||c.selectedIndex>=c.options.length-2)){this.populateYearRange()}this.year_select.setValue(d)}else{this.month_year_label.update(Date.months[a]+" "+d.toString())}},populateYearRange:function(){this.year_select.populate(this.yearRange().toArray())},yearRange:function(){if(!this.flexibleYearRange()){return $R(this.options.get("year_range")[0],this.options.get("year_range")[1])}var a=this.date.getFullYear();return $R(a-this.options.get("year_range"),a+this.options.get("year_range"))},flexibleYearRange:function(){return(typeof(this.options.get("year_range"))=="number")},validYear:function(a){if(this.flexibleYearRange()){return true}else{return this.yearRange().include(a)}},dayHover:function(a){var c=new Date(this.selected_date);c.setYear(a.year);c.setMonth(a.month);c.setDate(a.day);this.updateFooter(c.toFormattedString(this.use_time))},dayHoverOut:function(a){this.updateFooter()},clearSelectedClass:function(){if(this.selected_cell){this.selected_cell.removeClassName("selected")}},setSelectedClass:function(){if(!this.selection_made){return}this.clearSelectedClass();if($R(0,42).include(days_until=this.beginning_date.stripTime().daysDistance(this.selected_date.stripTime()))){this.selected_cell=this.calendar_day_grid[days_until];this.selected_cell.addClassName("selected")}},reparse:function(){this.parseDate();this.refresh()},dateString:function(){return(this.selection_made)?this.selected_date.toFormattedString(this.use_time):"&#160;"},universalDateString:function(){return(this.selection_made)?this.selected_date.toUniversalFormattedString(this.use_time):"&#160;"},parseDate:function(){var a=$F(this.hidden_target_element).strip();this.selection_made=(a!="");this.date=a==""?NaN:Date.parseFormattedString(this.options.get("date")||a);if(isNaN(this.date)){this.date=new Date()}if(!this.validYear(this.date.getFullYear())){this.date.setYear((this.date.getFullYear()<this.yearRange().start)?this.yearRange().start:this.yearRange().end)}this.selected_date=new Date(this.date);this.use_time=/[0-9]:[0-9]{2}/.exec(a)?true:false;this.date.setDate(1)},updateFooter:function(a){if(!a){a=this.dateString()}this.footer_div.purgeChildren();this.footer_div.build("span",{innerHTML:a})},clearDate:function(){if((this.target_element.disabled||this.target_element.readOnly)&&this.options.get("popup")!="force"){return false}var a=this.target_element.value;this.target_element.value="";this.hidden_target_element.value="";this.clearSelectedClass();this.updateFooter("&#160;");if(a!=this.target_element.value){this.callback("onchange")}},updateSelectedDate:function(d,c){var g=$H(d);if((this.target_element.disabled||this.target_element.readOnly)&&this.options.get("popup")!="force"){return false}if(g.get("day")){var f=this.selected_date,e=this.options.get("valid_date_check");for(var a=0;a<=3;a++){f.setDate(g.get("day"))}f.setYear(g.get("year"));f.setMonth(g.get("month"));if(e&&!e(f.stripTime())){return false}this.selected_date=f;this.selection_made=true}if(!isNaN(g.get("hour"))){this.selected_date.setHours(g.get("hour"))}if(!isNaN(g.get("minute"))){this.selected_date.setMinutes(Math.floor_to_interval(g.get("minute"),this.options.get("minute_interval")))}if(g.get("hour")===""||g.get("minute")===""){this.setUseTime(false)}else{if(!isNaN(g.get("hour"))||!isNaN(g.get("minute"))){this.setUseTime(true)}}this.updateFooter();this.setSelectedClass();if(this.selection_made){this.updateValue()}if(this.closeOnClick()){this.close()}if(c&&!this.options.get("embedded")){if((new Date()-this.last_click_at)<333){this.close()}this.last_click_at=new Date()}},closeOnClick:function(){if(this.options.get("embedded")){return false}if(this.options.get("close_on_click")===nil){return(this.options.get("time"))?false:true}else{return(this.options.get("close_on_click"))}},navMonth:function(a){(target_date=new Date(this.date)).setMonth(a);return(this.navTo(target_date))},navYear:function(a){(target_date=new Date(this.date)).setYear(a);return(this.navTo(target_date))},navTo:function(a){if(!this.validYear(a.getFullYear())){return false}this.date=a;this.date.setDate(1);this.refresh();this.callback("after_navigate",this.date);return true},setUseTime:function(c){this.use_time=this.options.get("time")&&(this.options.get("time")=="mixed"?c:true);if(this.use_time&&this.selected_date){var d=Math.floor_to_interval(this.selected_date.getMinutes(),this.options.get("minute_interval"));var a=this.selected_date.getHours();this.hour_select.setValue(a);this.minute_select.setValue(d)}else{if(this.options.get("time")=="mixed"){this.hour_select.setValue("");this.minute_select.setValue("")}}},updateValue:function(){var a=this.target_element.value;this.target_element.value=this.dateString();this.hidden_target_element.value=this.universalDateString();if(a!=this.target_element.value){this.callback("onchange")}},today:function(a){var e=new Date();this.date=new Date();var c=$H({day:e.getDate(),month:e.getMonth(),year:e.getFullYear(),hour:e.getHours(),minute:e.getMinutes()});if(!a){c=c.merge({hour:"",minute:""})}this.updateSelectedDate(c,true);this.refresh()},close:function(){if(this.closed){return false}this.callback("before_close");this.target_element.calendar_date_select=nil;Event.stopObserving(document,"mousedown",this.closeIfClickedOut_handler);Event.stopObserving(document,"keypress",this.keyPress_handler);this.calendar_div.remove();this.closed=true;if(this.iframe){this.iframe.remove()}if(this.target_element.type!="hidden"&&!this.target_element.disabled){this.target_element.focus()}this.callback("after_close")},closeIfClickedOut:function(a){if(!$(Event.element(a)).descendantOf(this.calendar_div)){this.close()}},keyPress:function(a){if(a.keyCode==Event.KEY_ESC){this.close()}},callback:function(a,c){if(this.options.get(a)){this.options.get(a).bind(this.target_element)(c)}}};Date.millisPerDay=86400000;Date.prototype.stripTime=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate())};Date.prototype.nextDay=function(){next=new Date(this);next.setUTCDate(this.getUTCDate()+1);return next};Date.prototype.previousDay=function(){previous=new Date(this);previous.setUTCDate(this.getUTCDate()-1);return previous};Date.prototype.toISODateString=function(){return this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).toPaddedString(2)+"-"+this.getUTCDate().toPaddedString(2)};Date.fromISODateString=function(a){values=a.match(/(\d\d\d\d)-(\d\d)-(\d\d)/);if(values.size()==4){return new Date(Date.UTC(values[1],values[2]-1,values[3]))}};var Disabler=Class.create({initialize:function(a){this.container=$(a);this.overlayClassName="disabler-overlay";this.overlay=this.container.down("."+this.overlayClassName);if(!this.overlay){this.createOverlay()}},createOverlay:function(){this.overlay=new Element("div");this.overlay.addClassName(this.overlayClassName);this.overlay.setStyle({position:"absolute",top:0,left:0,zIndex:1000,backgroundColor:"#FFF",opacity:0.45,display:"none"});this.overlay.insert(new Element("img",{src:"/images/agent/indicator-big.gif"}));this.container.setStyle({position:"relative"});this.container.insert(this.overlay)},resize:function(){this.overlay.clonePosition(this.container,{setTop:false,setLeft:false})},enable:function(){this.overlay.hide()},disable:function(){this.resize();this.overlay.removeClassName("loading");this.overlay.show()},disableLoading:function(){this.resize();this.overlay.addClassName("loading");this.overlay.show()}});Event.observe(window,"load",function(){CommonProperties.initStatusBadges();if(Prototype.Browser.IE){$$("span.help").each(function(a){a.observe("mouseenter",function(c){Event.element(c).addClassName("hover")});a.observe("mouseleave",function(c){Event.element(c).removeClassName("hover")})})}});var CommonProperties={initStatusBadges:function(){$$(".property-status-badge").each(function(a){var c=a.previous("img");if(c){a.setStyle({width:(c.getDimensions().width-2)+"px",left:(c.positionedOffset().left+1)+"px"})}a.setStyle({visibility:"visible"})})}};ContactForm={validate_human:function(a){var c=$("contact_request_organization_id");$("contact_request_form_code").value="AB9"+(c.value.split("").reverse().join(""))+"CEO"}};var FormUtils={uncheck_all:function(a){a.each(function(c){c.checked=false})}};var AvailabilityCalendar=Class.create({initialize:function(a,d,c){this.container=$(a);this.element=new Element("div",{id:"availability_calendar"});this.container.insert(this.element);this.months=Date.months;this.dayNames=Date.weekdays;this.daysInMonth=[31,0,31,30,31,30,31,31,30,31,30,31];this.fromDate=d;this.startMonth=d.getUTCMonth();this.startYear=d.getFullYear();this.options=Object.extend({monthClassName:"calendar",numMonths:3,earliestDate:d,onUpdate:null},c||{});this.monthClassName=this.options.monthClassName;this.numMonths=this.options.numMonths;this.build();this.attachNavigationEvents();this.disabler=new Disabler(this.container)},attachNavigationEvents:function(){this.container.down(".previous a").observe("click",this.prevClickHandler.bind(this));this.container.down(".next a").observe("click",this.nextClickHandler.bind(this))},getContainer:function(){return this.element},setUpdateObserver:function(a){this.options.onUpdate=a},build:function(){this.element.update("");this.startDate=new Date(Date.UTC(this.startYear,this.startMonth,1));for(var a=0;a<this.numMonths;++a){month=this.startMonth+a+1;year=this.startYear;if(month>12){month-=12;year++}this.buildTable(year,month);this.endDate=new Date(Date.UTC(year,month-1,this.daysInMonth[month-1]))}if(this.options.onUpdate){this.options.onUpdate(this)}},canScrollToPrev:function(){if(this.options.earliestDate){var c=this.options.earliestDate;var d=c.getMonth()+1;var a=c.getFullYear();if(this.startYear<a||(this.startYear==a&&this.startMonth<d)){return false}}return true},scrollToNext:function(){this.startMonth+=this.numMonths;if(this.startMonth>12){this.startMonth-=12;this.startYear++}this.build()},scrollToPrev:function(){this.startMonth-=this.numMonths;if(this.startMonth<1){this.startMonth+=12;this.startYear--}this.build()},prevClickHandler:function(a){if(this.canScrollToPrev()){this.scrollToPrev();if(!this.canScrollToPrev()){this.container.down(".previous").hide()}}a.stop()},nextClickHandler:function(a){this.scrollToNext();if(this.canScrollToPrev()){this.container.down(".previous").show()}a.stop()},buildTable:function(k,h){var c=new Date(Date.UTC(k,h-1,1));var l=new Date();this.daysInMonth[1]=(((c.getUTCFullYear()%100!=0)&&(c.getUTCFullYear()%4==0))||(c.getUTCFullYear()%400==0))?29:28;var f=document.createElement("div");f.className=this.monthClassName;var a=new Element("table");a.border=0;a.cellPadding=0;a.cellSpacing=0;a.className=this.monthClassName;a.writeAttribute({year:k,month:h});f.appendChild(a);tbody=document.createElement("tbody");a.appendChild(tbody);var j=document.createElement("tr");j.align="center";var d=document.createElement("td");d.className="calendar-header";d.colSpan="7";d.align="center";d.innerHTML=this.months[h-1]+" "+k;j.appendChild(d);tbody.appendChild(j);j=document.createElement("tr");j.align="center";for(s=0;s<7;s++){d=document.createElement("td");d.align="center";d.className="calendar-day-header";d.innerHTML=this.dayNames[s];j.appendChild(d)}tbody.appendChild(j);j=document.createElement("tr");j.align="center";tbody.appendChild(j);day=(c.getUTCDay()+6)%7;var e=1,k=c.getUTCFullYear(),h=c.getUTCMonth();function g(m){return m.toPaddedString(2)}for(i=0;i<=41;i++){if((i-day>=0)&&(i-day<this.daysInMonth[h])){d=new Element("td");d.className="calendar-day";d.writeAttribute("date",k+"-"+g(h+1)+"-"+g(e));if(l.getFullYear()==k&&l.getMonth()==h&&l.getDate()==e){d.addClassName("today")}d.innerHTML=e++;j.appendChild(d)}else{d=document.createElement("td");d.className="calendar-day-empty";d.innerHTML="&nbsp;";j.appendChild(d)}if((i%7==6)&&(i<36)){j=document.createElement("tr");tbody.appendChild(j);j.align="center"}}this.element.appendChild(f)},disable:function(){this.disabler.disableLoading()},enable:function(){this.disabler.enable()}});var BookingRenderer=Class.create({initialize:function(c,a){this.calendar=c;this.calendar.setUpdateObserver(this.renderAll.bind(this));this.bookings=a;this.selectedDates=[];this.renderAll();this.selectedClassName="selected";this.disabledClassName="disabled"},setBookings:function(a){this.bookings=a;this.refresh()},getBookings:function(){return this.bookings},addBooking:function(a){this.bookings.push(a);this.refresh()},updateBooking:function(a){var c=this.bookings.reject(function(d){return d.record_id==a.record_id});c.push(a);this.setBookings(c)},deleteBooking:function(c){var a=this.bookings.find(function(e){return e.record_id==c});var d=this.bookings.reject(function(e){return e.record_id==c});this.setBookings(d);return a},selectDate:function(a){this.showDate(a,this.selectedClassName);this.selectedDates.push(a)},showDate:function(a,c){element=this.findElementByDate(a);if(element){element.addClassName(c)}},showSelectedDates:function(){for(i=0;i<this.selectedDates.size();i++){this.showDate(this.selectedDates[i],this.selectedClassName)}},disableDatesBefore:function(a){if(a){this.disabledBefore=a;while(a>this.calendar.startDate){a=a.previousDay();this.showDate(a,this.disabledClassName)}}},disableDatesAfter:function(a){if(a){this.disabledAfter=a;while(a<this.calendar.endDate){a=a.nextDay();this.showDate(a,this.disabledClassName)}}},showDisabledDates:function(){this.disableDatesBefore(this.disabledBefore);this.disableDatesAfter(this.disabledAfter)},clearDisabledDates:function(){disabledCells=this.calendar.container.select("td.disabled");for(i=0;i<disabledCells.size();i++){disabledCells[i].removeClassName(this.disabledClassName)}this.disabledAfter=null;this.disabledBefore=null},clearDate:function(a,c){element=this.findElementByDate(a);if(element){element.removeClassName(c)}},clearSelectedDates:function(){for(i=0;i<this.selectedDates.size();i++){this.clearDate(this.selectedDates[i],this.selectedClassName)}this.selectedDates.clear()},findElementByDate:function(a){if((a<this.calendar.startDate)||(a>this.calendar.endDate)){return}return this.calendar.getContainer().down("td[date="+a.toISODateString()+"]")},withBookings:function(a,c){c()},renderAll:function(){var a=[];this.withBookings(a,this.styleTable.bind(this))},refresh:function(){this.calendar.build()},renderAllHook:function(){return this.renderAll.bind(this)},styleTable:function(){for(var c=0,a=this.bookings.length;c<a;c++){this.render(this.bookings[c])}this.showSelectedDates();this.showDisabledDates()},render:function(d){var a=d.start_date;if((a>this.calendar.endDate)||(d.end_date<this.calendar.startDate)){return}var e=d.end_date.getTime();var c=this.calendar.getContainer();while(a.getTime()<=e){if(a<this.calendar.startDate){a=a.nextDay();continue}td=c.down("td[date="+a.toISODateString()+"]");if(td){td.addClassName("booked");td.addClassName(d.booking_type);if(a.getTime()==e){td.writeAttribute("check_out_record_id",d.record_id)}else{td.writeAttribute("record_id",d.record_id)}if(d.start_date.getTime()==a.getTime()){td.addClassName("check-in");td.addClassName("check-in-"+d.booking_type)}else{if(d.end_date.getTime()==a.getTime()){td.addClassName("check-out");td.addClassName("check-out-"+d.booking_type)}}}a=a.nextDay();if(a>this.calendar.endDate){return}}}});var Booking=Class.create({initialize:function(c,a,e,d){this.record_id=c;this.start_date=a;this.end_date=e;this.booking_type=d}});Element.addMethods({initializeHint:function(a){a=$(a);defaultValue=a.getAttribute("hint");a._default=defaultValue;if(a.value==""||a.value==defaultValue){a.value=defaultValue;a.addClassName("hint")}a.activateDefaultValueActsAsHint();a.observe("focus",function(){if(!a._defaultValueActsAsHintActive){return}if(a._default!=a.value){return}a.removeClassName("hint").value=""}).observe("blur",function(){if(!a._defaultValueActsAsHintActive){return}if(a.value.strip()!=""){return}a.addClassName("hint").value=a._default});var c=a.up("form");if(c){c.observe("submit",function(){if(!a._defaultValueActsAsHintActive){return}if(a._default==a.value){a.value=""}})}return a},activateDefaultValueActsAsHint:function(a){a=$(a);a._defaultValueActsAsHintActive=true;return a},deactivateDefaultValueActsAsHint:function(a){a=$(a);a._defaultValueActsAsHintActive=false;return a},refreshDefaultValueActsAsHint:function(a){a=$(a);if(a.value.strip()==""&&!(a.hasClassName("hint")&&(a.value==a._default))){a.addClassName("hint").value=a._default}return a},isDefaultValue:function(a){a=$(a);return(a._default&&a._default==a.value)},clearDefaultValues:function(a){a=$(a);if(a._default&&a._default==a.value){a.value=""}return a},setDefaultValues:function(a){a=$(a);if(a._default&&a.value==""){a.value=a._default}return a}});var LiveValidation=Class.create();Object.extend(LiveValidation,{VERSION:"1.3 prototype",TEXTAREA:1,TEXT:2,PASSWORD:3,CHECKBOX:4,SELECT:5,FILE:6,massValidate:function(d){var e=true;for(var c=0,a=d.length;c<a;++c){var f=d[c].validate();if(e){e=f}}return e}});LiveValidation.prototype={validClass:"LV_valid",invalidClass:"LV_invalid",messageClass:"LV_validation_message",validFieldClass:"LV_valid_field",invalidFieldClass:"LV_invalid_field",initialize:function(c,a){if(!c){throw new Error("LiveValidation::initialize - No element reference or element id has been provided!")}this.element=$(c);if(!this.element){throw new Error("LiveValidation::initialize - No element with reference or id of '"+c+"' exists!")}this.elementType=this.getElementType();this.validations=[];this.form=this.element.form;this.options=Object.extend({validMessage:"Thankyou!",onValid:function(){this.insertMessage(this.createMessageSpan());this.addFieldClass()},onInvalid:function(){this.insertMessage(this.createMessageSpan());this.addFieldClass()},insertAfterWhatNode:this.element,onlyOnBlur:false,wait:0,onlyOnSubmit:false},a||{});var d=this.options.insertAfterWhatNode||this.element;this.options.insertAfterWhatNode=$(d);Object.extend(this,this.options);if(this.form){this.formObj=LiveValidationForm.getInstance(this.form);this.formObj.addField(this)}this.boundFocus=this.doOnFocus.bindAsEventListener(this);Event.observe(this.element,"focus",this.boundFocus);if(!this.onlyOnSubmit){switch(this.elementType){case LiveValidation.CHECKBOX:this.boundClick=this.validate.bindAsEventListener(this);Event.observe(this.element,"click",this.boundClick);case LiveValidation.SELECT:case LiveValidation.FILE:this.boundChange=this.validate.bindAsEventListener(this);Event.observe(this.element,"change",this.boundChange);break;default:if(!this.onlyOnBlur){this.boundKeyup=this.deferValidation.bindAsEventListener(this);Event.observe(this.element,"keyup",this.boundKeyup)}this.boundBlur=this.validate.bindAsEventListener(this);Event.observe(this.element,"blur",this.boundBlur)}}},destroy:function(){if(this.formObj){this.formObj.removeField(this);this.formObj.destroy()}Event.stopObserving(this.element,"focus",this.boundFocus);if(!this.onlyOnSubmit){switch(this.elementType){case LiveValidation.CHECKBOX:Event.stopObserving(this.element,"click",this.boundClick);case LiveValidation.SELECT:case LiveValidation.FILE:Event.stopObserving(this.element,"change",this.boundChange);break;default:if(!this.onlyOnBlur){Event.stopObserving(this.element,"keyup",this.boundKeyup)}Event.stopObserving(this.element,"blur",this.boundBlur)}}this.validations=[];this.removeMessageAndFieldClass()},add:function(a,c){this.validations.push({type:a,params:c||{}});return this},remove:function(a,c){this.validations=this.validations.reject(function(d){return(d.type==a&&d.params==c)});return this},deferValidation:function(a){if(this.wait>=300){this.removeMessageAndFieldClass()}if(this.timeout){clearTimeout(this.timeout)}this.timeout=setTimeout(this.validate.bind(this),this.wait)},doOnBlur:function(){this.focused=false;this.validate()},doOnFocus:function(){this.focused=true;this.removeMessageAndFieldClass()},getElementType:function(){switch(true){case (this.element.nodeName.toUpperCase()=="TEXTAREA"):return LiveValidation.TEXTAREA;case (this.element.nodeName.toUpperCase()=="INPUT"&&this.element.type.toUpperCase()=="TEXT"):return LiveValidation.TEXT;case (this.element.nodeName.toUpperCase()=="INPUT"&&this.element.type.toUpperCase()=="PASSWORD"):return LiveValidation.PASSWORD;case (this.element.nodeName.toUpperCase()=="INPUT"&&this.element.type.toUpperCase()=="CHECKBOX"):return LiveValidation.CHECKBOX;case (this.element.nodeName.toUpperCase()=="INPUT"&&this.element.type.toUpperCase()=="FILE"):return LiveValidation.FILE;case (this.element.nodeName.toUpperCase()=="SELECT"):return LiveValidation.SELECT;case (this.element.nodeName.toUpperCase()=="INPUT"):throw new Error("LiveValidation::getElementType - Cannot use LiveValidation on an "+this.element.type+" input!");default:throw new Error("LiveValidation::getElementType - Element must be an input, select, or textarea!")}},doValidations:function(){this.validationFailed=false;for(var d=0,a=this.validations.length;d<a;++d){var c=this.validations[d];switch(c.type){case Validate.Presence:case Validate.Confirmation:case Validate.Acceptance:this.displayMessageWhenEmpty=true;this.validationFailed=!this.validateElement(c.type,c.params);break;default:this.validationFailed=!this.validateElement(c.type,c.params);break}if(this.validationFailed){return false}}this.message=this.validMessage;return true},validateElement:function(a,d){var e=(this.elementType==LiveValidation.SELECT)?this.element.options[this.element.selectedIndex].value:this.element.value;if(a==Validate.Acceptance){if(this.elementType!=LiveValidation.CHECKBOX){throw new Error("LiveValidation::validateElement - Element to validate acceptance must be a checkbox!")}e=this.element.checked}var f=true;try{a(e,d)}catch(c){if(c instanceof Validate.Error){if(e!==""||(e===""&&this.displayMessageWhenEmpty)){this.validationFailed=true;this.message=c.message;f=false}}else{throw c}}finally{return f}},validate:function(){if(!this.element.disabled){var a=this.doValidations();if(a){this.onValid();return true}else{this.onInvalid();return false}}else{return true}},enable:function(){this.element.disabled=false;return this},disable:function(){this.element.disabled=true;this.removeMessageAndFieldClass();return this},createMessageSpan:function(){var a=document.createElement("span");var c=document.createTextNode(this.message);a.appendChild(c);return a},insertMessage:function(c){this.removeMessage();var a=this.validationFailed?this.invalidClass:this.validClass;if((this.displayMessageWhenEmpty&&(this.elementType==LiveValidation.CHECKBOX||this.element.value==""))||this.element.value!=""){$(c).addClassName(this.messageClass+(" "+a));if(nxtSibling=this.insertAfterWhatNode.nextSibling){this.insertAfterWhatNode.parentNode.insertBefore(c,nxtSibling)}else{this.insertAfterWhatNode.parentNode.appendChild(c)}}},addFieldClass:function(){this.removeFieldClass();if(!this.validationFailed){if(this.displayMessageWhenEmpty||this.element.value!=""){if(!this.element.hasClassName(this.validFieldClass)){this.element.addClassName(this.validFieldClass)}}}else{if(!this.element.hasClassName(this.invalidFieldClass)){this.element.addClassName(this.invalidFieldClass)}}},removeMessage:function(){if(nxtEl=this.insertAfterWhatNode.next("."+this.messageClass)){nxtEl.remove()}},removeFieldClass:function(){this.element.removeClassName(this.invalidFieldClass);this.element.removeClassName(this.validFieldClass)},removeMessageAndFieldClass:function(){this.removeMessage();this.removeFieldClass()}};var LiveValidationForm=Class.create();Object.extend(LiveValidationForm,{instances:{},getInstance:function(a){var c=Math.random()*Math.random();if(!a.id){a.id="formId_"+c.toString().replace(/\./,"")+new Date().valueOf()}if(!LiveValidationForm.instances[a.id]){LiveValidationForm.instances[a.id]=new LiveValidationForm(a)}return LiveValidationForm.instances[a.id]}});LiveValidationForm.prototype={initialize:function(a){this.element=$(a);this.fields=[];this.oldOnSubmit=this.element.onsubmit||function(){};this.element.onsubmit=function(d){var c=(LiveValidation.massValidate(this.fields))?this.oldOnSubmit.call(this.element,d)!==false:false;if(!c){Event.stop(d)}}.bindAsEventListener(this)},addField:function(a){this.fields.push(a)},removeField:function(a){this.fields=this.fields.without(a)},destroy:function(a){if(this.fields.length!=0&&!a){return false}this.element.onsubmit=this.oldOnSubmit;LiveValidationForm.instances[this.element.id]=null;return true}};var Validate={Presence:function(a,c){var d=Object.extend({failureMessage:"Can't be empty!"},c||{});if(a===""||a===null||a===undefined){Validate.fail(d.failureMessage)}return true},Numericality:function(c,d){var a=c;var c=Number(c);var d=d||{};var e={notANumberMessage:d.notANumberMessage||"Must be a number!",notAnIntegerMessage:d.notAnIntegerMessage||"Must be an integer!",wrongNumberMessage:d.wrongNumberMessage||"Must be "+d.is+"!",tooLowMessage:d.tooLowMessage||"Must not be less than "+d.minimum+"!",tooHighMessage:d.tooHighMessage||"Must not be more than "+d.maximum+"!",is:((d.is)||(d.is==0))?d.is:null,minimum:((d.minimum)||(d.minimum==0))?d.minimum:null,maximum:((d.maximum)||(d.maximum==0))?d.maximum:null,onlyInteger:d.onlyInteger||false};if(!isFinite(c)){Validate.fail(e.notANumberMessage)}if(e.onlyInteger&&((/\.0+$|\.$/.test(String(a)))||(c!=parseInt(c)))){Validate.fail(e.notAnIntegerMessage)}switch(true){case (e.is!==null):if(c!=Number(e.is)){Validate.fail(e.wrongNumberMessage)}break;case (e.minimum!==null&&e.maximum!==null):Validate.Numericality(c,{tooLowMessage:e.tooLowMessage,minimum:e.minimum});Validate.Numericality(c,{tooHighMessage:e.tooHighMessage,maximum:e.maximum});break;case (e.minimum!==null):if(c<Number(e.minimum)){Validate.fail(e.tooLowMessage)}break;case (e.maximum!==null):if(c>Number(e.maximum)){Validate.fail(e.tooHighMessage)}break}return true},Format:function(a,c){var a=String(a);var d=Object.extend({failureMessage:"Not valid!",pattern:/./,negate:false},c||{});if(!d.negate&&!d.pattern.test(a)){Validate.fail(d.failureMessage)}if(d.negate&&d.pattern.test(a)){Validate.fail(d.failureMessage)}return true},Email:function(a,c){var d=Object.extend({failureMessage:"Must be a valid email address!"},c||{});Validate.Format(a,{failureMessage:d.failureMessage,pattern:/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i});return true},Length:function(a,c){var a=String(a);var c=c||{};var d={wrongLengthMessage:c.wrongLengthMessage||"Must be "+c.is+" characters long!",tooShortMessage:c.tooShortMessage||"Must not be less than "+c.minimum+" characters long!",tooLongMessage:c.tooLongMessage||"Must not be more than "+c.maximum+" characters long!",is:((c.is)||(c.is==0))?c.is:null,minimum:((c.minimum)||(c.minimum==0))?c.minimum:null,maximum:((c.maximum)||(c.maximum==0))?c.maximum:null};switch(true){case (d.is!==null):if(a.length!=Number(d.is)){Validate.fail(d.wrongLengthMessage)}break;case (d.minimum!==null&&d.maximum!==null):Validate.Length(a,{tooShortMessage:d.tooShortMessage,minimum:d.minimum});Validate.Length(a,{tooLongMessage:d.tooLongMessage,maximum:d.maximum});break;case (d.minimum!==null):if(a.length<Number(d.minimum)){Validate.fail(d.tooShortMessage)}break;case (d.maximum!==null):if(a.length>Number(d.maximum)){Validate.fail(d.tooLongMessage)}break;default:throw new Error("Validate::Length - Length(s) to validate against must be provided!")}return true},Inclusion:function(d,e){var f=Object.extend({failureMessage:"Must be included in the list!",within:[],allowNull:false,partialMatch:false,caseSensitive:true,negate:false},e||{});if(f.allowNull&&d==null){return true}if(!f.allowNull&&d==null){Validate.fail(f.failureMessage)}if(!f.caseSensitive){var a=[];f.within.each(function(g){if(typeof g=="string"){g=g.toLowerCase()}a.push(g)});f.within=a;if(typeof d=="string"){d=d.toLowerCase()}}var c=(f.within.indexOf(d)==-1)?false:true;if(f.partialMatch){c=false;f.within.each(function(g){if(d.indexOf(g)!=-1){c=true}})}if((!f.negate&&!c)||(f.negate&&c)){Validate.fail(f.failureMessage)}return true},Exclusion:function(a,c){var d=Object.extend({failureMessage:"Must not be included in the list!",within:[],allowNull:false,partialMatch:false,caseSensitive:true},c||{});d.negate=true;Validate.Inclusion(a,d);return true},Confirmation:function(a,c){if(!c.match){throw new Error("Validate::Confirmation - Error validating confirmation: Id of element to match must be provided!")}var d=Object.extend({failureMessage:"Does not match!",match:null},c||{});d.match=$(c.match);if(!d.match){throw new Error("Validate::Confirmation - There is no reference with name of, or element with id of '"+d.match+"'!")}if(a!=d.match.value){Validate.fail(d.failureMessage)}return true},Acceptance:function(a,c){var d=Object.extend({failureMessage:"Must be accepted!"},c||{});if(!a){Validate.fail(d.failureMessage)}return true},Custom:function(a,c){var d=Object.extend({against:function(){return true},args:{},failureMessage:"Not valid!"},c||{});if(!d.against(a,d.args)){Validate.fail(d.failureMessage)}return true},now:function(a,e,d){if(!a){throw new Error("Validate::now - Validation function must be provided!")}var f=true;try{a(e,d||{})}catch(c){if(c instanceof Validate.Error){f=false}else{throw c}}finally{return f}},Error:function(a){this.message=a;this.name="ValidationError"},fail:function(a){throw new Validate.Error(a)}};var Validations={initialize:function(d){var a={};function c(e,f){f=f||{};a[e.id]=a[e.id]||new LiveValidation(e,f);return a[e.id]}$$(".LV-date-range").each(function(f){var e=f.select(".date").first();var g=f.select(".date").last();c(e,{onlyOnSubmit:true,insertAfterWhatNode:e.next()});c(g,{onlyOnSubmit:true,insertAfterWhatNode:g.next()}).add(Validate.Custom,{failureMessage:d.dateRange,against:function(j,h){return(new Date($F(e.previous()))<new Date($F(g.previous())))}})});$$(".LV-num-range").each(function(f){var g=f.select("input").first();var e=f.select("input").last();c(e,{onlyOnSubmit:true}).add(Validate.Custom,{failureMessage:d.numRange,against:function(l,j){var k=parseInt($F(g)),h=parseInt($F(e));if(!isNaN(k)&&!isNaN(h)){return k<h}return true}})});$$(".LV-numericality").each(function(e){c(e,{onlyOnSubmit:true}).add(Validate.Numericality,{minimum:1,tooLowMessage:d.numericality,notANumberMessage:d.numericality})});$$(".LV-presence").each(function(e){c(e,{onlyOnSubmit:true}).add(Validate.Presence,{failureMessage:d.presence})})}};var Search={switchType:function(a){$("search_listing_type").value=a;fields_to_hide=["sale","rental","temporary_rental"].without(a);fields_to_hide.each(function(c){$$(".mg-field-"+c).each(function(d){d.down("input").disable();d.hide()})});$$(".mg-field-"+a).each(function(c){c.show();c.down("input").enable()})}};var Tabs=Class.create({initialize:function(e,c){this.container=$(e);this.options=Object.extend({onChange:function(){}},c||{});var a=this;var d=this.clickHandler.bind(this);this.container.select("li").each((function(f){f.down("a").observe("click",d);this.getTabBox(f).hide()}).bind(this));this.setSelected()},setSelected:function(){var a=/#(.+)$/.exec(window.location);if(a&&a[1]){var d=this.container.select("li a").find(function(f){var e=f.href.substr(f.href.lastIndexOf("#")+1);return e==a[1]});if(d){this.loadTabBox(d.up("li"));return}}var c;if(this.options.select){c=this.container.down("a[href='#"+this.options.select+"']").up()}else{c=this.container.down("li")}this.loadTabBox(c)},clickHandler:function(c){var d=c.element();d.blur();c.stop();var a=d.up("li");if(a.hasClassName("selected")){return}this.loadTabBox(a)},loadTabBox:function(c){var a=this.getTabBox(c);if(a&&a.getAttribute("data-url")&&!a.hasClassName("loaded")&&!a.hasClassName("loading")){this.loadTabContent(c,a)}else{this.switchToTab(c)}},switchToTab:function(c){var d=this.container.down(".selected");if(d){d.removeClassName("selected");var e=this.getTabBox(d);if(e){e.hide()}}c.addClassName("selected");var a=this.getTabBox(c);if(a){a.show()}this.options.onChange(this.getTabId(c))},getTabId:function(d){var a=d.down("a").href;var c=a.substr(a.lastIndexOf("#")+1);return c},getTabBox:function(a){return $(this.getTabId(a))},loadTabContent:function(d,a){var c=a.getAttribute("data-url");d.addClassName("loading");new Ajax.Updater(a.id,c,{method:"get",evalScripts:true,onComplete:(function(){d.removeClassName("loading");a.addClassName("loaded");this.switchToTab(d)}).bind(this)})}});var Filters={add:function(d,a){var c=d.split("?");var f=c[0]+"?";var e=$H((c.length>1)?c[1].toQueryParams():{});$H(a).each(function(j){var g=$(j.value);if(g){var h=$F(g);if(h&&!h.blank()){e.set(j.key,h)}else{e.unset(j.key)}}});e.unset("page");if(e.any()){f+=e.toQueryString();window.location=f}},afterToday:function(a){return(a>(new Date()).stripTime())},afterCheckIn:function(c,a){var d=$F(a);if(d){return(c>Date.parse(d))}else{return Filters.afterToday(c)}}}
/*! SWFObject v2.2 <http://code.google.com/p/swfobject/> 
  is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
;var swfobject=function(){var G="undefined",u="object",V="Shockwave Flash",Z="ShockwaveFlash.ShockwaveFlash",t="application/x-shockwave-flash",U="SWFObjectExprInst",A="onreadystatechange",R=window,l=document,w=navigator,W=false,X=[j],q=[],Q=[],L=[],n,T,H,E,M=false,a=false,p,J,o=true,P=function(){var ad=typeof l.getElementById!=G&&typeof l.getElementsByTagName!=G&&typeof l.createElement!=G,ak=w.userAgent.toLowerCase(),ab=w.platform.toLowerCase(),ah=ab?/win/.test(ab):/win/.test(ak),af=ab?/mac/.test(ab):/mac/.test(ak),ai=/webkit/.test(ak)?parseFloat(ak.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,aa=!+"\v1",aj=[0,0,0],ae=null;if(typeof w.plugins!=G&&typeof w.plugins[V]==u){ae=w.plugins[V].description;if(ae&&!(typeof w.mimeTypes!=G&&w.mimeTypes[t]&&!w.mimeTypes[t].enabledPlugin)){W=true;aa=false;ae=ae.replace(/^.*\s+(\S+\s+\S+$)/,"$1");aj[0]=parseInt(ae.replace(/^(.*)\..*$/,"$1"),10);aj[1]=parseInt(ae.replace(/^.*\.(.*)\s.*$/,"$1"),10);aj[2]=/[a-zA-Z]/.test(ae)?parseInt(ae.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof R.ActiveXObject!=G){try{var ag=new ActiveXObject(Z);if(ag){ae=ag.GetVariable("$version");if(ae){aa=true;ae=ae.split(" ")[1].split(",");aj=[parseInt(ae[0],10),parseInt(ae[1],10),parseInt(ae[2],10)]}}}catch(ac){}}}return{w3:ad,pv:aj,wk:ai,ie:aa,win:ah,mac:af}}(),m=function(){if(!P.w3){return}if((typeof l.readyState!=G&&l.readyState=="complete")||(typeof l.readyState==G&&(l.getElementsByTagName("body")[0]||l.body))){g()}if(!M){if(typeof l.addEventListener!=G){l.addEventListener("DOMContentLoaded",g,false)}if(P.ie&&P.win){l.attachEvent(A,function(){if(l.readyState=="complete"){l.detachEvent(A,arguments.callee);g()}});if(R==top){(function(){if(M){return}try{l.documentElement.doScroll("left")}catch(aa){setTimeout(arguments.callee,0);return}g()})()}}if(P.wk){(function(){if(M){return}if(!/loaded|complete/.test(l.readyState)){setTimeout(arguments.callee,0);return}g()})()}v(g)}}();function g(){if(M){return}try{var ac=l.getElementsByTagName("body")[0].appendChild(F("span"));ac.parentNode.removeChild(ac)}catch(ad){return}M=true;var aa=X.length;for(var ab=0;ab<aa;ab++){X[ab]()}}function N(aa){if(M){aa()}else{X[X.length]=aa}}function v(ab){if(typeof R.addEventListener!=G){R.addEventListener("load",ab,false)}else{if(typeof l.addEventListener!=G){l.addEventListener("load",ab,false)}else{if(typeof R.attachEvent!=G){k(R,"onload",ab)}else{if(typeof R.onload=="function"){var aa=R.onload;R.onload=function(){aa();ab()}}else{R.onload=ab}}}}}function j(){if(W){Y()}else{K()}}function Y(){var aa=l.getElementsByTagName("body")[0];var ad=F(u);ad.setAttribute("type",t);var ac=aa.appendChild(ad);if(ac){var ab=0;(function(){if(typeof ac.GetVariable!=G){var ae=ac.GetVariable("$version");if(ae){ae=ae.split(" ")[1].split(",");P.pv=[parseInt(ae[0],10),parseInt(ae[1],10),parseInt(ae[2],10)]}}else{if(ab<10){ab++;setTimeout(arguments.callee,10);return}}aa.removeChild(ad);ac=null;K()})()}else{K()}}function K(){var aj=q.length;if(aj>0){for(var ai=0;ai<aj;ai++){var ab=q[ai].id;var ae=q[ai].callbackFn;var ad={success:false,id:ab};if(P.pv[0]>0){var ah=d(ab);if(ah){if(I(q[ai].swfVersion)&&!(P.wk&&P.wk<312)){z(ab,true);if(ae){ad.success=true;ad.ref=C(ab);ae(ad)}}else{if(q[ai].expressInstall&&D()){var al={};al.data=q[ai].expressInstall;al.width=ah.getAttribute("width")||"0";al.height=ah.getAttribute("height")||"0";if(ah.getAttribute("class")){al.styleclass=ah.getAttribute("class")}if(ah.getAttribute("align")){al.align=ah.getAttribute("align")}var ak={};var aa=ah.getElementsByTagName("param");var af=aa.length;for(var ag=0;ag<af;ag++){if(aa[ag].getAttribute("name").toLowerCase()!="movie"){ak[aa[ag].getAttribute("name")]=aa[ag].getAttribute("value")}}S(al,ak,ab,ae)}else{r(ah);if(ae){ae(ad)}}}}}else{z(ab,true);if(ae){var ac=C(ab);if(ac&&typeof ac.SetVariable!=G){ad.success=true;ad.ref=ac}ae(ad)}}}}}function C(ad){var aa=null;var ab=d(ad);if(ab&&ab.nodeName=="OBJECT"){if(typeof ab.SetVariable!=G){aa=ab}else{var ac=ab.getElementsByTagName(u)[0];if(ac){aa=ac}}}return aa}function D(){return !a&&I("6.0.65")&&(P.win||P.mac)&&!(P.wk&&P.wk<312)}function S(ad,ae,aa,ac){a=true;H=ac||null;E={success:false,id:aa};var ah=d(aa);if(ah){if(ah.nodeName=="OBJECT"){n=h(ah);T=null}else{n=ah;T=aa}ad.id=U;if(typeof ad.width==G||(!/%$/.test(ad.width)&&parseInt(ad.width,10)<310)){ad.width="310"}if(typeof ad.height==G||(!/%$/.test(ad.height)&&parseInt(ad.height,10)<137)){ad.height="137"}l.title=l.title.slice(0,47)+" - Flash Player Installation";var ag=P.ie&&P.win?"ActiveX":"PlugIn",af="MMredirectURL="+R.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ag+"&MMdoctitle="+l.title;if(typeof ae.flashvars!=G){ae.flashvars+="&"+af}else{ae.flashvars=af}if(P.ie&&P.win&&ah.readyState!=4){var ab=F("div");aa+="SWFObjectNew";ab.setAttribute("id",aa);ah.parentNode.insertBefore(ab,ah);ah.style.display="none";(function(){if(ah.readyState==4){ah.parentNode.removeChild(ah)}else{setTimeout(arguments.callee,10)}})()}x(ad,ae,aa)}}function r(ab){if(P.ie&&P.win&&ab.readyState!=4){var aa=F("div");ab.parentNode.insertBefore(aa,ab);aa.parentNode.replaceChild(h(ab),aa);ab.style.display="none";(function(){if(ab.readyState==4){ab.parentNode.removeChild(ab)}else{setTimeout(arguments.callee,10)}})()}else{ab.parentNode.replaceChild(h(ab),ab)}}function h(af){var ae=F("div");if(P.win&&P.ie){ae.innerHTML=af.innerHTML}else{var ab=af.getElementsByTagName(u)[0];if(ab){var ag=ab.childNodes;if(ag){var aa=ag.length;for(var ad=0;ad<aa;ad++){if(!(ag[ad].nodeType==1&&ag[ad].nodeName=="PARAM")&&!(ag[ad].nodeType==8)){ae.appendChild(ag[ad].cloneNode(true))}}}}}return ae}function x(al,aj,ab){var aa,ad=d(ab);if(P.wk&&P.wk<312){return aa}if(ad){if(typeof al.id==G){al.id=ab}if(P.ie&&P.win){var ak="";for(var ah in al){if(al[ah]!=Object.prototype[ah]){if(ah.toLowerCase()=="data"){aj.movie=al[ah]}else{if(ah.toLowerCase()=="styleclass"){ak+=' class="'+al[ah]+'"'}else{if(ah.toLowerCase()!="classid"){ak+=" "+ah+'="'+al[ah]+'"'}}}}}var ai="";for(var ag in aj){if(aj[ag]!=Object.prototype[ag]){ai+='<param name="'+ag+'" value="'+aj[ag]+'" />'}}ad.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ak+">"+ai+"</object>";Q[Q.length]=al.id;aa=d(al.id)}else{var ac=F(u);ac.setAttribute("type",t);for(var af in al){if(al[af]!=Object.prototype[af]){if(af.toLowerCase()=="styleclass"){ac.setAttribute("class",al[af])}else{if(af.toLowerCase()!="classid"){ac.setAttribute(af,al[af])}}}}for(var ae in aj){if(aj[ae]!=Object.prototype[ae]&&ae.toLowerCase()!="movie"){f(ac,ae,aj[ae])}}ad.parentNode.replaceChild(ac,ad);aa=ac}}return aa}function f(ac,aa,ab){var ad=F("param");ad.setAttribute("name",aa);ad.setAttribute("value",ab);ac.appendChild(ad)}function B(ab){var aa=d(ab);if(aa&&aa.nodeName=="OBJECT"){if(P.ie&&P.win){aa.style.display="none";(function(){if(aa.readyState==4){c(ab)}else{setTimeout(arguments.callee,10)}})()}else{aa.parentNode.removeChild(aa)}}}function c(ac){var ab=d(ac);if(ab){for(var aa in ab){if(typeof ab[aa]=="function"){ab[aa]=null}}ab.parentNode.removeChild(ab)}}function d(ac){var aa=null;try{aa=l.getElementById(ac)}catch(ab){}return aa}function F(aa){return l.createElement(aa)}function k(ac,aa,ab){ac.attachEvent(aa,ab);L[L.length]=[ac,aa,ab]}function I(ac){var ab=P.pv,aa=ac.split(".");aa[0]=parseInt(aa[0],10);aa[1]=parseInt(aa[1],10)||0;aa[2]=parseInt(aa[2],10)||0;return(ab[0]>aa[0]||(ab[0]==aa[0]&&ab[1]>aa[1])||(ab[0]==aa[0]&&ab[1]==aa[1]&&ab[2]>=aa[2]))?true:false}function y(af,ab,ag,ae){if(P.ie&&P.mac){return}var ad=l.getElementsByTagName("head")[0];if(!ad){return}var aa=(ag&&typeof ag=="string")?ag:"screen";if(ae){p=null;J=null}if(!p||J!=aa){var ac=F("style");ac.setAttribute("type","text/css");ac.setAttribute("media",aa);p=ad.appendChild(ac);if(P.ie&&P.win&&typeof l.styleSheets!=G&&l.styleSheets.length>0){p=l.styleSheets[l.styleSheets.length-1]}J=aa}if(P.ie&&P.win){if(p&&typeof p.addRule==u){p.addRule(af,ab)}}else{if(p&&typeof l.createTextNode!=G){p.appendChild(l.createTextNode(af+" {"+ab+"}"))}}}function z(ac,aa){if(!o){return}var ab=aa?"visible":"hidden";if(M&&d(ac)){d(ac).style.visibility=ab}else{y("#"+ac,"visibility:"+ab)}}function O(ab){var ac=/[\\\"<>\.;]/;var aa=ac.exec(ab)!=null;return aa&&typeof encodeURIComponent!=G?encodeURIComponent(ab):ab}var e=function(){if(P.ie&&P.win){window.attachEvent("onunload",function(){var af=L.length;for(var ae=0;ae<af;ae++){L[ae][0].detachEvent(L[ae][1],L[ae][2])}var ac=Q.length;for(var ad=0;ad<ac;ad++){B(Q[ad])}for(var ab in P){P[ab]=null}P=null;for(var aa in swfobject){swfobject[aa]=null}swfobject=null})}}();return{registerObject:function(ae,aa,ad,ac){if(P.w3&&ae&&aa){var ab={};ab.id=ae;ab.swfVersion=aa;ab.expressInstall=ad;ab.callbackFn=ac;q[q.length]=ab;z(ae,false)}else{if(ac){ac({success:false,id:ae})}}},getObjectById:function(aa){if(P.w3){return C(aa)}},embedSWF:function(ae,ak,ah,aj,ab,ad,ac,ag,ai,af){var aa={success:false,id:ak};if(P.w3&&!(P.wk&&P.wk<312)&&ae&&ak&&ah&&aj&&ab){z(ak,false);N(function(){ah+="";aj+="";var am={};if(ai&&typeof ai===u){for(var ao in ai){am[ao]=ai[ao]}}am.data=ae;am.width=ah;am.height=aj;var ap={};if(ag&&typeof ag===u){for(var an in ag){ap[an]=ag[an]}}if(ac&&typeof ac===u){for(var al in ac){if(typeof ap.flashvars!=G){ap.flashvars+="&"+al+"="+ac[al]}else{ap.flashvars=al+"="+ac[al]}}}if(I(ab)){var aq=x(am,ap,ak);if(am.id==ak){z(ak,true)}aa.success=true;aa.ref=aq}else{if(ad&&D()){am.data=ad;S(am,ap,ak,af);return}else{z(ak,true)}}if(af){af(aa)}})}else{if(af){af(aa)}}},switchOffAutoHideShow:function(){o=false},ua:P,getFlashPlayerVersion:function(){return{major:P.pv[0],minor:P.pv[1],release:P.pv[2]}},hasFlashPlayerVersion:I,createSWF:function(ac,ab,aa){if(P.w3){return x(ac,ab,aa)}else{return undefined}},showExpressInstall:function(ac,ad,aa,ab){if(P.w3&&D()){S(ac,ad,aa,ab)}},removeSWF:function(aa){if(P.w3){B(aa)}},createCSS:function(ad,ac,ab,aa){if(P.w3){y(ad,ac,ab,aa)}},addDomLoadEvent:N,addLoadEvent:v,getQueryParamValue:function(ad){var ac=l.location.search||l.location.hash;if(ac){if(/\?/.test(ac)){ac=ac.split("?")[1]}if(ad==null){return O(ac)}var ab=ac.split("&");for(var aa=0;aa<ab.length;aa++){if(ab[aa].substring(0,ab[aa].indexOf("="))==ad){return O(ab[aa].substring((ab[aa].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var aa=d(U);if(aa&&n){aa.parentNode.replaceChild(n,aa);if(T){z(T,true);if(P.ie&&P.win){n.style.display="block"}}if(H){H(E)}}a=false}}}}();var ProtoFish=Class.create({initialize:function(j,m,h,k,l,g){this.id=j;this.timeout=m||"400";this.cssClass=h||"hover";this.remActive=k||false;this.ARIA=l||false;this.useShortKey=g||false;this.queue=[];this.activeTimeout="";this.menuFocus=false;this.menuCount=0;this.isParent=false;this.shiftDown=false;this.mDown=false;this.ctrlDown=false;this.altDown=false;if($(j)&&$(j).down()){if(this.ARIA!=false){$(j).writeAttribute("role","menubar");this.menuContainers=$(j).select("ul");this.menuContainers.each(function(a,c){a.writeAttribute("role","menu")})}this.listItems=$(j).select("li");this.activeItems=$(j).select("li.active");this.listItems[0].down("a").setAttribute("tabindex","0");this.initObservers()}},initObservers:function(){this.listItems.each(function(c){c.observe("mouseover",function(d,a){this.enterMenu(a);a.addClassName(this.cssClass)}.bindAsEventListener(this,c));c.observe("mouseout",function(d,a){this.queue.push([this.leaveMenu.delay(this.timeout/1000,this),a])}.bindAsEventListener(this,c));if(this.ARIA!=false){c.down("a").writeAttribute("role","menuitem");if(c.down("ul")){c.down("a").writeAttribute("aria-haspopup","true")}}}.bind(this));Event.observe(document,"keydown",function(d){var e=d.keyCode;var f=[9,13,27,32,37,38,39,40];if(f.indexOf(e)!=-1){this.keyBoardNav(d,e,f)}if(d.keyCode==16){this.shiftDown=true}else{if(this.useShortKey!=false){if(d.keyCode==77){this.mDown=true}if(d.keyCode==17){this.ctrlDown=true}if(d.keyCode==18){this.altDown=true}if(this.mDown==true&&this.ctrlDown==true&&this.altDown==true){this.listItems[0].down("a").focus()}}}}.bind(this));Event.observe(document,"keyup",function(c){if(c.keyCode==16){this.shiftDown=false}else{if(this.useShortKey!=false){if(c.keyCode==77){this.mDown=false}if(c.keyCode==17){this.ctrlDown=false}if(c.keyCode==18){this.altDown=false}}}}.bind(this));Event.observe(document,"click",function(c){var d=Event.element(c);if(d!=$(this.id)&&!d.descendantOf(this.id)&&this.menuFocus==true){this.listItems.invoke("removeClassName",this.cssClass);this.menuFocus=false}}.bind(this));$$("body")[0].observe("focusin",this.handleMenuFocus.bind(this));if(window.addEventListener){$$("body")[0].addEventListener("focus",this.handleMenuFocus.bind(this),true)}},handleMenuFocus:function(c){var d=Event.element(c);if(d.up("#"+this.id)){this.menuFocus=true;this.menuCount=this.listItems.indexOf(d.up("li"));this.isParent=(d.next())?true:false;if(this.isParent==false){d.up().addClassName(this.cssClass);while(d.up("li")){d.up("li").addClassName(this.cssClass);d=d.up("li")}}else{if(this.isParent==true){d.up().removeClassName("hover")}}}else{this.listItems.invoke("removeClassName",this.cssClass);this.menuFocus=false}},keyBoardNav:function(t,r,n){if(this.menuFocus==true){if(n.indexOf(r)!=0){t.preventDefault()}var q=this.listItems[this.menuCount];switch(true){case r==Event.KEY_DOWN:if(!q.up("li")){var o=q.down("li")}else{var o=(q.next("li"))||q.up("ul").childElements().first();if(o){q.removeClassName(this.cssClass)}}if(o){this.menuCount=this.listItems.indexOf(o);o.addClassName(this.cssClass);o.down("a").focus()}break;case r==Event.KEY_UP:if(!q.up("li")){var k=false}else{var k=q.previous("li")||q.up("ul").childElements().last();q.removeClassName(this.cssClass)}if(k){this.menuCount=this.listItems.indexOf(k);k.addClassName(this.cssClass);k.down("a").focus()}break;case r==Event.KEY_RIGHT:if(!q.up("li")){var l=q.next("li");if(l){q.removeClassName(this.cssClass)}}else{var l=q.down("li")||false}if(l){this.menuCount=this.listItems.indexOf(l);l.addClassName(this.cssClass);l.down("a").focus()}break;case r==Event.KEY_LEFT:if(!q.up("li")){var p=q.previous("li");if(p){q.removeClassName(this.cssClass)}}else{var p=q.up("li")||false;if(p){q.removeClassName(this.cssClass)}}if(p){this.menuCount=this.listItems.indexOf(p);p.addClassName(this.cssClass);p.down("a").focus()}break;case r==Event.KEY_TAB:if(this.shiftDown==false){this.menuCount++;var k=this.listItems[this.menuCount-1];if(!k.down("li")){k.removeClassName(this.cssClass);while(k.up("li")&&!k.next("li")){k.up("li").removeClassName(this.cssClass);k=k.up("li")}}}else{if(this.shiftDown==true){this.menuCount--;var q=this.listItems[this.menuCount];var o=this.listItems[this.menuCount+1];o.removeClassName(this.cssClass);if(q){while(q.up("li")&&q.up("li").hasClassName(this.cssClass)==false){q.up("li").addClassName(this.cssClass);q=q.up("li")}}}}break;case r==Event.KEY_ESC:while(q.up("li")){q.removeClassName(this.cssClass);var m=q.up("li");q=q.up("li")}if(m){m.down("a").focus();this.menuCount=this.listItems.indexOf(q)}break;case r==32:if(this.isParent==true){this.parentBehavior(q)}else{var u=q.down("a").href;window.location.href=u}break;case r==Event.KEY_RETURN:if(this.isParent==true){this.parentBehavior(q)}break}}},parentBehavior:function(c){var d=c.down("li");if(d){this.menuCount=this.listItems.indexOf(d);d.addClassName(this.cssClass);d.down("a").focus()}},enterMenu:function(){while(this.queue.length){clearTimeout(this.queue[0][0]);this.leaveMenu(this)}if(this.remActive==true){if(typeof this.activeTimeout=="number"){clearTimeout(this.activeTimeout);delete this.activeTimeout}this.activeItems.invoke("removeClassName","active")}},leaveMenu:function(c){if(c.queue.length){var d=c.queue.shift()[1];d.removeClassName(c.cssClass)}if(c.remActive==true){c.activeItems.invoke("addClassName","active")}}});