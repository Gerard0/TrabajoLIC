$(function(){function p(){$.plax.disable({restorePositions:!1,clearLayers:!0});l.each(function(a){$(this).css({top:q.eq(a).css("top"),left:q.eq(a).css("left")})});$("body").hasClass("parallax-enabled")&&(l.plaxify({invert:!0}),$.plax.enable())}$("#settings-switch").click(function(){$(this).parents("#settings").toggleClass("active")});$("#settings .icon").click(function(){$(this).hasClass("icon-ok")?$(this).removeClass("icon-ok").addClass("icon-remove"):$(this).removeClass("icon-remove").addClass("icon-ok"); "birds"==$(this).data("type")&&$("body").toggleClass("birds-enabled");"clouds"==$(this).data("type")&&$("body").toggleClass("clouds-enabled");"parallax"==$(this).data("type")&&$("body").toggleClass("parallax-enabled");p()});enable=function(a,b){b?$(a).removeAttr("disabled"):$(a).attr("disabled",!0)};var m,h,d,e=!1,r=0,l=$(".parallax");l.clone().addClass("parallax-copy").removeClass("parallax").appendTo("#parallax-default");var q=$(".parallax-copy");$(window).bind("resize",function(){$(window).width(); m=$(window).height();$("#header").height($("#header .container").height());h=$("#header").innerHeight();var a=83,b=76;Modernizr.mq("(max-width: 979px)")&&(a=43,b=32);var c=70;d=m-h-b-c;500<d&&(d=500,h=(m-d)/2);Modernizr.mq("(max-width: 767px)")?(c=20,d=d+h-c,e=h-c,h=c):e=!1;$(".scroll-wrapper").css({height:d});$(".scroll-wrapper-portfolio").css({height:d-a-34});$(".content").each(function(){e&&$(this).parent("#page-home").length?$(this).css({"margin-top":e+c,height:d-e+32}).find(".scroll-wrapper").css({height:d- e+32}):$(this).css({"margin-top":h,height:d})});$(document).trigger("animated.slides");p()});$(window).resize();$("#wrapper").superslides({pagination:!1,hashchange:!0,animation_speed:700});$(window).bind("mousewheel",function(a,b){if(!(700>(new Date).getTime()-r)){var c=$("#wrapper").superslides("current")+1,k=$("#wrapper").superslides("size"),d=$(".pp_pic_holder").is(":visible");if(0<b){if(1==c||d)return!1;$("#wrapper").superslides("animate","prev")}if(0>b){if(c==k||d)return!1;$("#wrapper").superslides("animate", "next")}}a.preventDefault()});$(document).on("keydown",function(a){var b=$("#wrapper").superslides("current")+1,c=$("#wrapper").superslides("size"),k=$(".pp_pic_holder").is(":visible");if(37==a.keyCode){if(1==b||k)return!1;$("#wrapper").superslides("animate","prev");a.preventDefault()}else if(39==a.keyCode){if(b==c||k)return!1;$("#wrapper").superslides("animate","next");a.preventDefault()}});$("#header, .fullscreen").swipe({swipeRight:function(a,b,c,k,d){a=$("#wrapper").superslides("current")+1;$("#wrapper").superslides("size"); if(1==a)return!1;$("#wrapper").superslides("animate","prev")},swipeLeft:function(a,b,c,k,d){a=$("#wrapper").superslides("current")+1;b=$("#wrapper").superslides("size");if(a==b)return!1;$("#wrapper").superslides("animate","next")},threshold:0});$(document).on("animated.slides",function(a){$("#main-nav .active").removeClass("active");a=$("#wrapper").superslides("current");var b=$(".slide").eq(a),c=b.attr("id");$('#main-nav a[href="#'+c+'"]').each(function(){"page-portfolio"==c&&$(this).data("cols")? $("#page-portfolio").find(".portfolio-content").data("cols")==$(this).data("cols")&&$(this).parent().addClass("active"):$(this).parent().addClass("active");var a=$(this).closest(".dropdown, .dropdown-submenu");a&&a.addClass("active")});e?0==a?$("#header").fadeIn():$("#header").fadeOut(100):$("#header").fadeIn();b.find(".lazy").trigger("showlazy");"page-portfolio"==c&&0==$(".portfolio-categories > .active").length&&$(".portfolio-categories").find("a").eq(0).click();r=(new Date).getTime()});$(".scroll-wrapper").mCustomScrollbar({advanced:{updateOnContentResize:!0}}); $(".scroll-wrapper-portfolio").mCustomScrollbar({advanced:{updateOnContentResize:!0}});var g=$("#main-nav .nav > li");g.css("width",parseInt(100/g.length)+"%");$(".lazy").lazyload({event:"showlazy"});if(Modernizr.touch)$(".dropdown-submenu").hide();else $("#main-nav").on("mouseenter",".dropdown-submenu",function(){$(this).addClass("open")}).on("mouseleave",".dropdown-submenu",function(){$(this).removeClass("open")});$(".accordion-group").on("shown",function(){$(this).addClass("active")}).on("hidden", function(){$(this).removeClass("active")});$(".show-tooltip").tooltip();$(".show-popover").popover().click(function(a){a.preventDefault()});g={animation:"slide",controlNav:!1,directionNav:!1,slideshow:!1,animationLoop:!1,direction:"vertical",touch:!1,keyboard:!1,after:function(a){var b=a.data("flexslider-showitems"),c=a.parent();0==a.currentSlide&&c.find(".prev").addClass("disabled");(a.count-a.currentSlide<=b||a.currentSlide==a.count-1)&&c.find(".next").addClass("disabled")}};$(".flexslider-custom-nav").click(function(a){if(!$(this).hasClass("disabled")){$(this).parents(".flex-container").find(".flexslider-custom-nav").removeClass("disabled"); var b=$(this).parents(".flex-container").find(".flexslider");b&&($(this).hasClass("next")&&b.flexslider("next"),$(this).hasClass("prev")&&b.flexslider("prev"))}a.preventDefault()});$(".recent-posts").flexslider(g);$(".portfolio-categories a").on("click",function(a,b){if(!$(this).parent().hasClass("active")){var c=$(this).closest(".portfolio-categories").find("li"),d=$(this).data("type"),h=$(this).closest(".portfolio"),f=h.find(".portfolio-items").clone(),e=h.find(".portfolio-content"),g;c.filter(".portfolio-cols").find("button").each(function(){$(this).hasClass("active")&& (g=$(this).data("cols"));e.removeClass("portfolio-cols-"+$(this).data("cols"))});b&&(g=b);c.removeClass("active");$(this).parent().addClass("active");f="all"==d?f.find(".item"):f.find(".item[data-type="+d+"]");f=f.filter("."+g);e.addClass("portfolio-cols-"+g).data("cols",g);e.quicksand(f,{retainExisting:!1,enhancement:function(){$('.portfolio-content .popup[data-popup^="prettyPhoto"]').prettyPhoto({hook:"data-popup",deeplinking:!1,social_tools:!1,markup:'<div class="pp_pic_holder"> <h5 class="ppt"></h5> <div class="pp_content_container"> <a class="pp_close btn" href="#"><i class="icon-white icon-remove"></i></a> <div class="pp_content"> <div class="pp_loaderIcon"></div> <div class="pp_fade"> <div class="pp_hoverContainer"> <a class="pp_next" href="#"><i class="btn"><span class="icon-white icon-chevron-right"></span></i></a> <a class="pp_previous" href="#"><i class="btn"><span class="icon-white icon-chevron-left"></span></i></a> </div> <div id="pp_full_res"></div> <div class="pp_details"> <h5 class="pp_description"></h5> </div> </div> </div> </div> </div> <div class="pp_overlay"></div>', theme:"pp_custom",callback:function(){$(".pp_pic_holder").remove()}});$(".portfolio-content").find(".lazy").lazyload({event:"showlazy"}).trigger("showlazy")}});$(document).trigger("animated.slides");a.preventDefault()}});$(".portfolio-cols button").click(function(){$(this).hasClass("active")||$(this).closest(".portfolio-categories").find("li.active").removeClass("active").find("a").eq(0).trigger("click",$(this).data("cols"))});$(".portfolio-cols-link").click(function(a){(a=$(this).data("cols"))&& $('.portfolio-cols button[data-cols^="'+a+'"]').click()});$(".portfolio-scroll-nav .btn").click(function(a){var b=$(this).closest(".portfolio").find(".scroll-wrapper-portfolio"),c=Math.abs(parseInt(b.find(".mCSB_container").css("top"))),d=b.find(".mCSB_container").height(),e=b.find(".mCustomScrollBox").height(),f=0;d>e&&($(this).hasClass("next")&&(f=177+c,f>=d?b.mCustomScrollbar("scrollTo","bottom"):b.mCustomScrollbar("scrollTo",f)),$(this).hasClass("prev")&&(f=c-177,0>=f?b.mCustomScrollbar("scrollTo", "top"):b.mCustomScrollbar("scrollTo",f)));a.preventDefault()});$(".portfolio-content").on("mouseenter",".item",function(){$(this).find(".caption").stop(!0,!0).fadeIn()}).on("mouseleave",".item",function(){$(this).find(".caption").stop(!0,!0).fadeOut()}).on("click",".caption",function(a){$(this).siblings(".popup").click();a.preventDefault()});var n=$(".tweets .widget").bind("empty",function(){$(this).append("No matching tweets found")});n.tweet({modpath:"twitter/",count:10,query:"#themeforest",loading_text:"Loading tweets...", template:'<div class="popover top static-popover"><div class="arrow"></div><div class="popover-content">{text}</div></div> {time}'});n.find(".tweet_list").addClass("slides");n.flexslider(g);Modernizr.input.placeholder||($("[placeholder]").focus(function(){var a=$(this);a.val()==a.attr("placeholder")&&(a.val(""),a.removeClass("placeholder"))}).blur(function(){var a=$(this);if(""==a.val()||a.val()==a.attr("placeholder"))a.addClass("placeholder"),a.val(a.attr("placeholder"))}).blur(),$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var a= $(this);a.val()==a.attr("placeholder")&&a.val("")})}));$('.popup[data-popup^="prettyPhoto"]').prettyPhoto({hook:"data-popup",deeplinking:!1,social_tools:!1,markup:'<div class="pp_pic_holder"> <h5 class="ppt"></h5> <div class="pp_content_container"> <a class="pp_close btn" href="#"><i class="icon-white icon-remove"></i></a> <div class="pp_content"> <div class="pp_loaderIcon"></div> <div class="pp_fade"> <div class="pp_hoverContainer"> <a class="pp_next" href="#"><i class="btn"><span class="icon-white icon-chevron-right"></span></i></a> <a class="pp_previous" href="#"><i class="btn"><span class="icon-white icon-chevron-left"></span></i></a> </div> <div id="pp_full_res"></div> <div class="pp_details"> <h5 class="pp_description"></h5> </div> </div> </div> </div> </div> <div class="pp_overlay"></div>', iframe_markup:'<div class="liquid-video-wrapper"><iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe></div>',theme:"pp_custom",callback:function(){$(".pp_pic_holder").remove()}});$("#contact-form").submit(function(){var a=$(this);a.prepend('<div class="alert alert-info without-rounded"><h4>Loading</h4>Please wait...</div>');$.ajax({type:"POST",url:a.attr("action"),data:a.serializeArray(),dataType:"json",timeout:3E4,success:function(b){a.find(".alert").remove();b.success&& (a.prepend('<div class="alert alert-success without-rounded"><h4>Success!</h4>'+b.success+"</div>"),a.find('button[type^="reset"]').click());b.errors&&a.prepend('<div class="alert alert-error without-rounded"><h4>Error!</h4>'+b.errors+"</div>")},error:function(b,c,d){a.find(".alert").remove();a.prepend('<div class="alert alert-error without-rounded"><h4>Error!</h4>'+b.status+" - "+b.statusText+"</div>")}});return!1});$("html").addClass("loaded").find("#modal-loading").hide()});